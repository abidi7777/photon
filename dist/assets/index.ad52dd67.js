function __vite_legacy_guard(){import("data:text/javascript,")}const p=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}};p();function noop(){}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return typeof t=="function"}function safe_not_equal(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}let src_url_equal_anchor;function src_url_equal(t,n){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=n,t===src_url_equal_anchor.href}function is_empty(t){return Object.keys(t).length===0}function append(t,n){t.appendChild(n)}function insert(t,n,i){t.insertBefore(n,i||null)}function detach(t){t.parentNode.removeChild(t)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function listen(t,n,i,r){return t.addEventListener(n,i,r),()=>t.removeEventListener(n,i,r)}function prevent_default(t){return function(n){return n.preventDefault(),t.call(this,n)}}function stop_propagation(t){return function(n){return n.stopPropagation(),t.call(this,n)}}function attr(t,n,i){i==null?t.removeAttribute(n):t.getAttribute(n)!==i&&t.setAttribute(n,i)}function children(t){return Array.from(t.childNodes)}function set_data(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let current_component;function set_current_component(t){current_component=t}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){const t=current_component;do{for(;flushidx<dirty_components.length;){const n=dirty_components[flushidx];flushidx++,set_current_component(n),update(n.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let n=0;n<render_callbacks.length;n+=1){const i=render_callbacks[n];seen_callbacks.has(i)||(seen_callbacks.add(i),i())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(t.fragment!==null){t.update(),run_all(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,n){t&&t.i&&(outroing.delete(t),t.i(n))}function transition_out(t,n,i,r){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),r&&(i&&t.d(1),r())}),t.o(n)}}function create_component(t){t&&t.c()}function mount_component(t,n,i,r){const{fragment:e,on_mount:a,on_destroy:c,after_update:s}=t.$$;e&&e.m(n,i),r||add_render_callback(()=>{const d=a.map(run).filter(is_function);c?c.push(...d):run_all(d),t.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(t,n){const i=t.$$;i.fragment!==null&&(run_all(i.on_destroy),i.fragment&&i.fragment.d(n),i.on_destroy=i.fragment=null,i.ctx=[])}function make_dirty(t,n){t.$$.dirty[0]===-1&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function init(t,n,i,r,e,a,c,s=[-1]){const d=current_component;set_current_component(t);const l=t.$$={fragment:null,ctx:null,props:a,update:noop,not_equal:e,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:n.target||d.$$.root};c&&c(l.root);let h=!1;if(l.ctx=i?i(t,n.props||{},(w,f,...u)=>{const g=u.length?u[0]:f;return l.ctx&&e(l.ctx[w],l.ctx[w]=g)&&(!l.skip_bound&&l.bound[w]&&l.bound[w](g),h&&make_dirty(t,w)),f}):[],l.update(),h=!0,run_all(l.before_update),l.fragment=r?r(l.ctx):!1,n.target){if(n.hydrate){const w=children(n.target);l.fragment&&l.fragment.l(w),w.forEach(detach)}else l.fragment&&l.fragment.c();n.intro&&transition_in(t.$$.fragment),mount_component(t,n.target,n.anchor,n.customElement),flush()}set_current_component(d)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(n,i){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(i),()=>{const e=r.indexOf(i);e!==-1&&r.splice(e,1)}}$set(n){this.$$set&&!is_empty(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function create_fragment$6(t){let n;return{c(){n=element("div"),n.innerHTML='<button type="button" class="photon-logo"><span>Ph</span></button>',attr(n,"class","py-4 w-full container mx-auto")},m(i,r){insert(i,n,r)},p:noop,i:noop,o:noop,d(i){i&&detach(n)}}}class Header extends SvelteComponent{constructor(n){super(),init(this,n,null,create_fragment$6,safe_not_equal,{})}}var Editor_svelte_svelte_type_style_lang=(()=>`.editor.svelte-1kf7tq4{height:calc(100vh - 80px)}
`)();function create_fragment$5(t){let n,i,r,e,a,c;return{c(){n=element("div"),i=element("div"),r=element("img"),a=space(),c=element("div"),c.textContent="Controls",src_url_equal(r.src,e=t[0])||attr(r,"src",e),attr(r,"alt","to edit"),attr(r,"class","w-auto h-full mx-auto"),attr(i,"class","overflow-hidden"),attr(n,"class","flex flex-col editor svelte-1kf7tq4")},m(s,d){insert(s,n,d),append(n,i),append(i,r),append(n,a),append(n,c)},p(s,[d]){d&1&&!src_url_equal(r.src,e=s[0])&&attr(r,"src",e)},i:noop,o:noop,d(s){s&&detach(n)}}}function instance$4(t,n,i){let{img:r=""}=n;return t.$$set=e=>{"img"in e&&i(0,r=e.img)},[r]}class Editor extends SvelteComponent{constructor(n){super(),init(this,n,instance$4,create_fragment$5,safe_not_equal,{img:0})}}var classnames={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function i(){for(var r=[],e=0;e<arguments.length;e++){var a=arguments[e];if(!!a){var c=typeof a;if(c==="string"||c==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var s=i.apply(null,a);s&&r.push(s)}}else if(c==="object")if(a.toString===Object.prototype.toString)for(var d in a)n.call(a,d)&&a[d]&&r.push(d);else r.push(a.toString())}}return r.join(" ")}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(classnames);var cx=classnames.exports;function create_fragment$4(t){let n,i;return{c(){n=svg_element("svg"),i=svg_element("path"),attr(i,"stroke-linecap","round"),attr(i,"stroke-linejoin","round"),attr(i,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"class",t[0]),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke","currentColor"),attr(n,"stroke-width","2")},m(r,e){insert(r,n,e),append(n,i)},p(r,[e]){e&1&&attr(n,"class",r[0])},i:noop,o:noop,d(r){r&&detach(n)}}}function instance$3(t,n,i){let{className:r}=n;return t.$$set=e=>{"className"in e&&i(0,r=e.className)},[r]}class Cloud_upload extends SvelteComponent{constructor(n){super(),init(this,n,instance$3,create_fragment$4,safe_not_equal,{className:0})}}function create_fragment$3(t){let n,i;return{c(){n=svg_element("svg"),i=svg_element("path"),attr(i,"stroke-linecap","round"),attr(i,"stroke-linejoin","round"),attr(i,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"class",t[0]),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke","currentColor"),attr(n,"stroke-width","2")},m(r,e){insert(r,n,e),append(n,i)},p(r,[e]){e&1&&attr(n,"class",r[0])},i:noop,o:noop,d(r){r&&detach(n)}}}function instance$2(t,n,i){let{className:r}=n;return t.$$set=e=>{"className"in e&&i(0,r=e.className)},[r]}class Exclamation extends SvelteComponent{constructor(n){super(),init(this,n,instance$2,create_fragment$3,safe_not_equal,{className:0})}}function _mergeNamespaces(t,n){return n.forEach(function(i){Object.keys(i).forEach(function(r){if(r!=="default"&&!(r in t)){var e=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,e.get?e:{enumerable:!0,get:function(){return i[r]}})}})}),Object.freeze(t)}function ownKeys(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function _objectSpread2(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(r){_defineProperty(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function _defineProperty(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_unsupportedIterableToArray(t,n)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,n){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,e,a=[],c=!0,s=!1;try{for(i=i.call(t);!(c=(r=i.next()).done)&&(a.push(r.value),!n||a.length!==n);c=!0);}catch(d){s=!0,e=d}finally{try{c||i.return==null||i.return()}finally{if(s)throw e}}return a}}function _unsupportedIterableToArray(t,n){if(t){if(typeof t=="string")return _arrayLikeToArray(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,n):void 0}}function _arrayLikeToArray(t,n){(n==null||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(t){var n={exports:{}};return t(n,n.exports),n.exports}var UZIP_1=createCommonjsModule(function(t){var n,i,r={};t.exports=r,r.parse=function(e,a){for(var c=r.bin.readUshort,s=r.bin.readUint,d=0,l={},h=new Uint8Array(e),w=h.length-4;s(h,w)!=101010256;)w--;d=w,d+=4;var f=c(h,d+=4);c(h,d+=2);var u=s(h,d+=2),g=s(h,d+=4);d+=4,d=g;for(var b=0;b<f;b++){s(h,d),d+=4,d+=4,d+=4,s(h,d+=4),u=s(h,d+=4);var m=s(h,d+=4),C=c(h,d+=4),k=c(h,d+2),v=c(h,d+4);d+=6;var I=s(h,d+=8);d+=4,d+=C+k+v,r._readLocal(h,I,l,u,m,a)}return l},r._readLocal=function(e,a,c,s,d,l){var h=r.bin.readUshort,w=r.bin.readUint;w(e,a),h(e,a+=4),h(e,a+=2);var f=h(e,a+=2);w(e,a+=2),w(e,a+=4),a+=4;var u=h(e,a+=8),g=h(e,a+=2);a+=2;var b=r.bin.readUTF8(e,a,u);if(a+=u,a+=g,l)c[b]={size:d,csize:s};else{var m=new Uint8Array(e.buffer,a);if(f==0)c[b]=new Uint8Array(m.buffer.slice(a,a+s));else{if(f!=8)throw"unknown compression method: "+f;var C=new Uint8Array(d);r.inflateRaw(m,C),c[b]=C}}},r.inflateRaw=function(e,a){return r.F.inflate(e,a)},r.inflate=function(e,a){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),a)},r.deflate=function(e,a){a==null&&(a={level:6});var c=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[c]=120,s[c+1]=156,c+=2,c=r.F.deflateRaw(e,s,c,a.level);var d=r.adler(e,0,e.length);return s[c+0]=d>>>24&255,s[c+1]=d>>>16&255,s[c+2]=d>>>8&255,s[c+3]=d>>>0&255,new Uint8Array(s.buffer,0,c+4)},r.deflateRaw=function(e,a){a==null&&(a={level:6});var c=new Uint8Array(50+Math.floor(1.1*e.length)),s=r.F.deflateRaw(e,c,s,a.level);return new Uint8Array(c.buffer,0,s)},r.encode=function(e,a){a==null&&(a=!1);var c=0,s=r.bin.writeUint,d=r.bin.writeUshort,l={};for(var h in e){var w=!r._noNeed(h)&&!a,f=e[h],u=r.crc.crc(f,0,f.length);l[h]={cpr:w,usize:f.length,crc:u,file:w?r.deflateRaw(f):f}}for(var h in l)c+=l[h].file.length+30+46+2*r.bin.sizeUTF8(h);c+=22;var g=new Uint8Array(c),b=0,m=[];for(var h in l){var C=l[h];m.push(b),b=r._writeHeader(g,b,h,C,0)}var k=0,v=b;for(var h in l)C=l[h],m.push(b),b=r._writeHeader(g,b,h,C,1,m[k++]);var I=b-v;return s(g,b,101010256),b+=4,d(g,b+=4,k),d(g,b+=2,k),s(g,b+=2,I),s(g,b+=4,v),b+=4,b+=2,g.buffer},r._noNeed=function(e){var a=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},r._writeHeader=function(e,a,c,s,d,l){var h=r.bin.writeUint,w=r.bin.writeUshort,f=s.file;return h(e,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),w(e,a,20),w(e,a+=2,0),w(e,a+=2,s.cpr?8:0),h(e,a+=2,0),h(e,a+=4,s.crc),h(e,a+=4,f.length),h(e,a+=4,s.usize),w(e,a+=4,r.bin.sizeUTF8(c)),w(e,a+=2,0),a+=2,d==1&&(a+=2,a+=2,h(e,a+=6,l),a+=4),a+=r.bin.writeUTF8(e,a,c),d==0&&(e.set(f,a),a+=f.length),a},r.crc={table:function(){for(var e=new Uint32Array(256),a=0;a<256;a++){for(var c=a,s=0;s<8;s++)1&c?c=3988292384^c>>>1:c>>>=1;e[a]=c}return e}(),update:function(e,a,c,s){for(var d=0;d<s;d++)e=r.crc.table[255&(e^a[c+d])]^e>>>8;return e},crc:function(e,a,c){return 4294967295^r.crc.update(4294967295,e,a,c)}},r.adler=function(e,a,c){for(var s=1,d=0,l=a,h=a+c;l<h;){for(var w=Math.min(l+5552,h);l<w;)d+=s+=e[l++];s%=65521,d%=65521}return d<<16|s},r.bin={readUshort:function(e,a){return e[a]|e[a+1]<<8},writeUshort:function(e,a,c){e[a]=255&c,e[a+1]=c>>8&255},readUint:function(e,a){return 16777216*e[a+3]+(e[a+2]<<16|e[a+1]<<8|e[a])},writeUint:function(e,a,c){e[a]=255&c,e[a+1]=c>>8&255,e[a+2]=c>>16&255,e[a+3]=c>>24&255},readASCII:function(e,a,c){for(var s="",d=0;d<c;d++)s+=String.fromCharCode(e[a+d]);return s},writeASCII:function(e,a,c){for(var s=0;s<c.length;s++)e[a+s]=c.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,a,c){for(var s,d="",l=0;l<c;l++)d+="%"+r.bin.pad(e[a+l].toString(16));try{s=decodeURIComponent(d)}catch{return r.bin.readASCII(e,a,c)}return s},writeUTF8:function(e,a,c){for(var s=c.length,d=0,l=0;l<s;l++){var h=c.charCodeAt(l);if((4294967168&h)==0)e[a+d]=h,d++;else if((4294965248&h)==0)e[a+d]=192|h>>6,e[a+d+1]=128|h>>0&63,d+=2;else if((4294901760&h)==0)e[a+d]=224|h>>12,e[a+d+1]=128|h>>6&63,e[a+d+2]=128|h>>0&63,d+=3;else{if((4292870144&h)!=0)throw"e";e[a+d]=240|h>>18,e[a+d+1]=128|h>>12&63,e[a+d+2]=128|h>>6&63,e[a+d+3]=128|h>>0&63,d+=4}}return d},sizeUTF8:function(e){for(var a=e.length,c=0,s=0;s<a;s++){var d=e.charCodeAt(s);if((4294967168&d)==0)c++;else if((4294965248&d)==0)c+=2;else if((4294901760&d)==0)c+=3;else{if((4292870144&d)!=0)throw"e";c+=4}}return c}},r.F={},r.F.deflateRaw=function(e,a,c,s){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],l=r.F.U,h=r.F._goodIndex;r.F._hash;var w=r.F._putsE,f=0,u=c<<3,g=0,b=e.length;if(s==0){for(;f<b;)w(a,u,f+(E=Math.min(65535,b-f))==b?1:0),u=r.F._copyExact(e,f,E,a,u+8),f+=E;return u>>>3}var m=l.lits,C=l.strt,k=l.prev,v=0,I=0,P=0,y=0,_=0,U=0;for(b>2&&(C[U=r.F._hash(e,0)]=0),f=0;f<b;f++){if(_=U,f+1<b-2){U=r.F._hash(e,f+1);var x=f+1&32767;k[x]=C[U],C[U]=x}if(g<=f){(v>14e3||I>26697)&&b-f>100&&(g<f&&(m[v]=f-g,v+=2,g=f),u=r.F._writeBlock(f==b-1||g==b?1:0,m,v,y,e,P,f-P,a,u),v=I=y=0,P=f);var A=0;f<b-2&&(A=r.F._bestMatch(e,f,k,_,Math.min(d[2],b-f),d[3]));var E=A>>>16,F=65535&A;if(A!=0){F=65535&A;var S=h(E=A>>>16,l.of0);l.lhst[257+S]++;var G=h(F,l.df0);l.dhst[G]++,y+=l.exb[S]+l.dxb[G],m[v]=E<<23|f-g,m[v+1]=F<<16|S<<8|G,v+=2,g=f+E}else l.lhst[e[f]]++;I++}}for(P==f&&e.length!=0||(g<f&&(m[v]=f-g,v+=2,g=f),u=r.F._writeBlock(1,m,v,y,e,P,f-P,a,u),v=0,I=0,v=I=y=0,P=f);(7&u)!=0;)u++;return u>>>3},r.F._bestMatch=function(e,a,c,s,d,l){var h=32767&a,w=c[h],f=h-w+32768&32767;if(w==h||s!=r.F._hash(e,a-f))return 0;for(var u=0,g=0,b=Math.min(32767,a);f<=b&&--l!=0&&w!=h;){if(u==0||e[a+u]==e[a+u-f]){var m=r.F._howLong(e,a,f);if(m>u){if(g=f,(u=m)>=d)break;f+2<m&&(m=f+2);for(var C=0,k=0;k<m-2;k++){var v=a-f+k+32768&32767,I=v-c[v]+32768&32767;I>C&&(C=I,w=v)}}}f+=(h=w)-(w=c[h])+32768&32767}return u<<16|g},r.F._howLong=function(e,a,c){if(e[a]!=e[a-c]||e[a+1]!=e[a+1-c]||e[a+2]!=e[a+2-c])return 0;var s=a,d=Math.min(e.length,a+258);for(a+=3;a<d&&e[a]==e[a-c];)a++;return a-s},r.F._hash=function(e,a){return(e[a]<<8|e[a+1])+(e[a+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,a,c,s,d,l,h,w,f){var u,g,b,m,C,k,v,I,P,y=r.F.U,_=r.F._putsF,U=r.F._putsE;y.lhst[256]++,g=(u=r.F.getTrees())[0],b=u[1],m=u[2],C=u[3],k=u[4],v=u[5],I=u[6],P=u[7];var x=32+((f+3&7)==0?0:8-(f+3&7))+(h<<3),A=s+r.F.contSize(y.fltree,y.lhst)+r.F.contSize(y.fdtree,y.dhst),E=s+r.F.contSize(y.ltree,y.lhst)+r.F.contSize(y.dtree,y.dhst);E+=14+3*v+r.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var F=0;F<286;F++)y.lhst[F]=0;for(F=0;F<30;F++)y.dhst[F]=0;for(F=0;F<19;F++)y.ihst[F]=0;var S=x<A&&x<E?0:A<E?1:2;if(_(w,f,e),_(w,f+1,S),f+=3,S==0){for(;(7&f)!=0;)f++;f=r.F._copyExact(d,l,h,w,f)}else{var G,B;if(S==1&&(G=y.fltree,B=y.fdtree),S==2){r.F.makeCodes(y.ltree,g),r.F.revCodes(y.ltree,g),r.F.makeCodes(y.dtree,b),r.F.revCodes(y.dtree,b),r.F.makeCodes(y.itree,m),r.F.revCodes(y.itree,m),G=y.ltree,B=y.dtree,U(w,f,C-257),U(w,f+=5,k-1),U(w,f+=5,v-4),f+=4;for(var R=0;R<v;R++)U(w,f+3*R,y.itree[1+(y.ordr[R]<<1)]);f+=3*v,f=r.F._codeTiny(I,y.itree,w,f),f=r.F._codeTiny(P,y.itree,w,f)}for(var O=l,M=0;M<c;M+=2){for(var Z=a[M],z=Z>>>23,$=O+(8388607&Z);O<$;)f=r.F._writeLit(d[O++],G,w,f);if(z!=0){var D=a[M+1],L=D>>16,j=D>>8&255,q=255&D;U(w,f=r.F._writeLit(257+j,G,w,f),z-y.of0[j]),f+=y.exb[j],_(w,f=r.F._writeLit(q,B,w,f),L-y.df0[q]),f+=y.dxb[q],O+=z}}f=r.F._writeLit(256,G,w,f)}return f},r.F._copyExact=function(e,a,c,s,d){var l=d>>>3;return s[l]=c,s[l+1]=c>>>8,s[l+2]=255-s[l],s[l+3]=255-s[l+1],l+=4,s.set(new Uint8Array(e.buffer,a,c),l),d+(c+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,a=r.F._hufTree(e.lhst,e.ltree,15),c=r.F._hufTree(e.dhst,e.dtree,15),s=[],d=r.F._lenCodes(e.ltree,s),l=[],h=r.F._lenCodes(e.dtree,l),w=0;w<s.length;w+=2)e.ihst[s[w]]++;for(w=0;w<l.length;w+=2)e.ihst[l[w]]++;for(var f=r.F._hufTree(e.ihst,e.itree,7),u=19;u>4&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[a,c,f,d,h,u,s,l]},r.F.getSecond=function(e){for(var a=[],c=0;c<e.length;c+=2)a.push(e[c+1]);return a},r.F.nonZero=function(e){for(var a="",c=0;c<e.length;c+=2)e[c+1]!=0&&(a+=(c>>1)+",");return a},r.F.contSize=function(e,a){for(var c=0,s=0;s<a.length;s++)c+=a[s]*e[1+(s<<1)];return c},r.F._codeTiny=function(e,a,c,s){for(var d=0;d<e.length;d+=2){var l=e[d],h=e[d+1];s=r.F._writeLit(l,a,c,s);var w=l==16?2:l==17?3:7;l>15&&(r.F._putsE(c,s,h,w),s+=w)}return s},r.F._lenCodes=function(e,a){for(var c=e.length;c!=2&&e[c-1]==0;)c-=2;for(var s=0;s<c;s+=2){var d=e[s+1],l=s+3<c?e[s+3]:-1,h=s+5<c?e[s+5]:-1,w=s==0?-1:e[s-1];if(d==0&&l==d&&h==d){for(var f=s+5;f+2<c&&e[f+2]==d;)f+=2;(u=Math.min(f+1-s>>>1,138))<11?a.push(17,u-3):a.push(18,u-11),s+=2*u-2}else if(d==w&&l==d&&h==d){for(f=s+5;f+2<c&&e[f+2]==d;)f+=2;var u=Math.min(f+1-s>>>1,6);a.push(16,u-3),s+=2*u-2}else a.push(d,0)}return c>>>1},r.F._hufTree=function(e,a,c){var s=[],d=e.length,l=a.length,h=0;for(h=0;h<l;h+=2)a[h]=0,a[h+1]=0;for(h=0;h<d;h++)e[h]!=0&&s.push({lit:h,f:e[h]});var w=s.length,f=s.slice(0);if(w==0)return 0;if(w==1){var u=s[0].lit;return f=u==0?1:0,a[1+(u<<1)]=1,a[1+(f<<1)]=1,1}s.sort(function(I,P){return I.f-P.f});var g=s[0],b=s[1],m=0,C=1,k=2;for(s[0]={lit:-1,f:g.f+b.f,l:g,r:b,d:0};C!=w-1;)g=m!=C&&(k==w||s[m].f<s[k].f)?s[m++]:s[k++],b=m!=C&&(k==w||s[m].f<s[k].f)?s[m++]:s[k++],s[C++]={lit:-1,f:g.f+b.f,l:g,r:b};var v=r.F.setDepth(s[C-1],0);for(v>c&&(r.F.restrictDepth(f,c,v),v=c),h=0;h<w;h++)a[1+(f[h].lit<<1)]=f[h].d;return v},r.F.setDepth=function(e,a){return e.lit!=-1?(e.d=a,a):Math.max(r.F.setDepth(e.l,a+1),r.F.setDepth(e.r,a+1))},r.F.restrictDepth=function(e,a,c){var s=0,d=1<<c-a,l=0;for(e.sort(function(w,f){return f.d==w.d?w.f-f.f:f.d-w.d}),s=0;s<e.length&&e[s].d>a;s++){var h=e[s].d;e[s].d=a,l+=d-(1<<c-h)}for(l>>>=c-a;l>0;)(h=e[s].d)<a?(e[s].d++,l-=1<<a-h-1):s++;for(;s>=0;s--)e[s].d==a&&l<0&&(e[s].d--,l++);l!=0&&console.log("debt left")},r.F._goodIndex=function(e,a){var c=0;return a[16|c]<=e&&(c|=16),a[8|c]<=e&&(c|=8),a[4|c]<=e&&(c|=4),a[2|c]<=e&&(c|=2),a[1|c]<=e&&(c|=1),c},r.F._writeLit=function(e,a,c,s){return r.F._putsF(c,s,a[e<<1]),s+a[1+(e<<1)]},r.F.inflate=function(e,a){var c=Uint8Array;if(e[0]==3&&e[1]==0)return a||new c(0);var s=r.F,d=s._bitsF,l=s._bitsE,h=s._decodeTiny,w=s.makeCodes,f=s.codes2map,u=s._get17,g=s.U,b=a==null;b&&(a=new c(e.length>>>2<<3));for(var m,C,k=0,v=0,I=0,P=0,y=0,_=0,U=0,x=0,A=0;k==0;)if(k=d(e,A,1),v=d(e,A+1,2),A+=3,v!=0){if(b&&(a=r.F._check(a,x+(1<<17))),v==1&&(m=g.flmap,C=g.fdmap,_=511,U=31),v==2){I=l(e,A,5)+257,P=l(e,A+5,5)+1,y=l(e,A+10,4)+4,A+=14;for(var E=0;E<38;E+=2)g.itree[E]=0,g.itree[E+1]=0;var F=1;for(E=0;E<y;E++){var S=l(e,A+3*E,3);g.itree[1+(g.ordr[E]<<1)]=S,S>F&&(F=S)}A+=3*y,w(g.itree,F),f(g.itree,F,g.imap),m=g.lmap,C=g.dmap,A=h(g.imap,(1<<F)-1,I+P,e,A,g.ttree);var G=s._copyOut(g.ttree,0,I,g.ltree);_=(1<<G)-1;var B=s._copyOut(g.ttree,I,P,g.dtree);U=(1<<B)-1,w(g.ltree,G),f(g.ltree,G,m),w(g.dtree,B),f(g.dtree,B,C)}for(;;){var R=m[u(e,A)&_];A+=15&R;var O=R>>>4;if(O>>>8==0)a[x++]=O;else{if(O==256)break;var M=x+O-254;if(O>264){var Z=g.ldef[O-257];M=x+(Z>>>3)+l(e,A,7&Z),A+=7&Z}var z=C[u(e,A)&U];A+=15&z;var $=z>>>4,D=g.ddef[$],L=(D>>>4)+d(e,A,15&D);for(A+=15&D,b&&(a=r.F._check(a,x+(1<<17)));x<M;)a[x]=a[x++-L],a[x]=a[x++-L],a[x]=a[x++-L],a[x]=a[x++-L];x=M}}}else{(7&A)!=0&&(A+=8-(7&A));var j=4+(A>>>3),q=e[j-4]|e[j-3]<<8;b&&(a=r.F._check(a,x+q)),a.set(new c(e.buffer,e.byteOffset+j,q),x),A=j+q<<3,x+=q}return a.length==x?a:a.slice(0,x)},r.F._check=function(e,a){var c=e.length;if(a<=c)return e;var s=new Uint8Array(Math.max(c<<1,a));return s.set(e,0),s},r.F._decodeTiny=function(e,a,c,s,d,l){for(var h=r.F._bitsE,w=r.F._get17,f=0;f<c;){var u=e[w(s,d)&a];d+=15&u;var g=u>>>4;if(g<=15)l[f]=g,f++;else{var b=0,m=0;g==16?(m=3+h(s,d,2),d+=2,b=l[f-1]):g==17?(m=3+h(s,d,3),d+=3):g==18&&(m=11+h(s,d,7),d+=7);for(var C=f+m;f<C;)l[f]=b,f++}}return d},r.F._copyOut=function(e,a,c,s){for(var d=0,l=0,h=s.length>>>1;l<c;){var w=e[l+a];s[l<<1]=0,s[1+(l<<1)]=w,w>d&&(d=w),l++}for(;l<h;)s[l<<1]=0,s[1+(l<<1)]=0,l++;return d},r.F.makeCodes=function(e,a){for(var c,s,d,l,h=r.F.U,w=e.length,f=h.bl_count,u=0;u<=a;u++)f[u]=0;for(u=1;u<w;u+=2)f[e[u]]++;var g=h.next_code;for(c=0,f[0]=0,s=1;s<=a;s++)c=c+f[s-1]<<1,g[s]=c;for(d=0;d<w;d+=2)(l=e[d+1])!=0&&(e[d]=g[l],g[l]++)},r.F.codes2map=function(e,a,c){for(var s=e.length,d=r.F.U.rev15,l=0;l<s;l+=2)if(e[l+1]!=0)for(var h=l>>1,w=e[l+1],f=h<<4|w,u=a-w,g=e[l]<<u,b=g+(1<<u);g!=b;)c[d[g]>>>15-a]=f,g++},r.F.revCodes=function(e,a){for(var c=r.F.U.rev15,s=15-a,d=0;d<e.length;d+=2){var l=e[d]<<a-e[d+1];e[d]=c[l]>>>s}},r.F._putsE=function(e,a,c){c<<=7&a;var s=a>>>3;e[s]|=c,e[s+1]|=c>>>8},r.F._putsF=function(e,a,c){c<<=7&a;var s=a>>>3;e[s]|=c,e[s+1]|=c>>>8,e[s+2]|=c>>>16},r.F._bitsE=function(e,a,c){return(e[a>>>3]|e[1+(a>>>3)]<<8)>>>(7&a)&(1<<c)-1},r.F._bitsF=function(e,a,c){return(e[a>>>3]|e[1+(a>>>3)]<<8|e[2+(a>>>3)]<<16)>>>(7&a)&(1<<c)-1},r.F._get17=function(e,a){return(e[a>>>3]|e[1+(a>>>3)]<<8|e[2+(a>>>3)]<<16)>>>(7&a)},r.F._get25=function(e,a){return(e[a>>>3]|e[1+(a>>>3)]<<8|e[2+(a>>>3)]<<16|e[3+(a>>>3)]<<24)>>>(7&a)},r.F.U=(n=Uint16Array,i=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new n(65536),prev:new n(32768)}),function(){for(var e=r.F.U,a=0;a<32768;a++){var c=a;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,e.rev15[a]=(c>>>16|c<<16)>>>17}function s(d,l,h){for(;l--!=0;)d.push(0,h)}for(a=0;a<32;a++)e.ldef[a]=e.of0[a]<<3|e.exb[a],e.ddef[a]=e.df0[a]<<4|e.dxb[a];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),s(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(t){var n=t.width,i=t.height;if(t.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(t.data,n,i,t).buffer];var r=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var e=n*i*4,a=new Uint8Array(e),c=new Uint8Array(e),s=new Uint8Array(e),d=0;d<t.frames.length;d++){var l=t.frames[d],h=l.rect.x,w=l.rect.y,f=l.rect.width,u=l.rect.height,g=UPNG.toRGBA8.decodeImage(l.data,f,u,t);if(d!=0)for(var b=0;b<e;b++)s[b]=a[b];if(l.blend==0?UPNG._copyTile(g,f,u,a,n,i,h,w,0):l.blend==1&&UPNG._copyTile(g,f,u,a,n,i,h,w,1),r.push(a.buffer.slice(0)),l.dispose!=0){if(l.dispose==1)UPNG._copyTile(c,f,u,a,n,i,h,w,0);else if(l.dispose==2)for(b=0;b<e;b++)a[b]=s[b]}}return r},UPNG.toRGBA8.decodeImage=function(t,n,i,r){var e=n*i,a=UPNG.decode._getBPP(r),c=Math.ceil(n*a/8),s=new Uint8Array(4*e),d=new Uint32Array(s.buffer),l=r.ctype,h=r.depth,w=UPNG._bin.readUshort;if(l==6){var f=e<<2;if(h==8)for(var u=0;u<f;u+=4)s[u]=t[u],s[u+1]=t[u+1],s[u+2]=t[u+2],s[u+3]=t[u+3];if(h==16)for(u=0;u<f;u++)s[u]=t[u<<1]}else if(l==2){var g=r.tabs.tRNS;if(g==null){if(h==8)for(u=0;u<e;u++){var b=3*u;d[u]=255<<24|t[b+2]<<16|t[b+1]<<8|t[b]}if(h==16)for(u=0;u<e;u++)b=6*u,d[u]=255<<24|t[b+4]<<16|t[b+2]<<8|t[b]}else{var m=g[0],C=g[1],k=g[2];if(h==8)for(u=0;u<e;u++){var v=u<<2;b=3*u,d[u]=255<<24|t[b+2]<<16|t[b+1]<<8|t[b],t[b]==m&&t[b+1]==C&&t[b+2]==k&&(s[v+3]=0)}if(h==16)for(u=0;u<e;u++)v=u<<2,b=6*u,d[u]=255<<24|t[b+4]<<16|t[b+2]<<8|t[b],w(t,b)==m&&w(t,b+2)==C&&w(t,b+4)==k&&(s[v+3]=0)}}else if(l==3){var I=r.tabs.PLTE,P=r.tabs.tRNS,y=P?P.length:0;if(h==1)for(var _=0;_<i;_++){var U=_*c,x=_*n;for(u=0;u<n;u++){v=x+u<<2;var A=3*(E=t[U+(u>>3)]>>7-((7&u)<<0)&1);s[v]=I[A],s[v+1]=I[A+1],s[v+2]=I[A+2],s[v+3]=E<y?P[E]:255}}if(h==2)for(_=0;_<i;_++)for(U=_*c,x=_*n,u=0;u<n;u++)v=x+u<<2,A=3*(E=t[U+(u>>2)]>>6-((3&u)<<1)&3),s[v]=I[A],s[v+1]=I[A+1],s[v+2]=I[A+2],s[v+3]=E<y?P[E]:255;if(h==4)for(_=0;_<i;_++)for(U=_*c,x=_*n,u=0;u<n;u++)v=x+u<<2,A=3*(E=t[U+(u>>1)]>>4-((1&u)<<2)&15),s[v]=I[A],s[v+1]=I[A+1],s[v+2]=I[A+2],s[v+3]=E<y?P[E]:255;if(h==8)for(u=0;u<e;u++){var E;v=u<<2,A=3*(E=t[u]),s[v]=I[A],s[v+1]=I[A+1],s[v+2]=I[A+2],s[v+3]=E<y?P[E]:255}}else if(l==4){if(h==8)for(u=0;u<e;u++){v=u<<2;var F=t[S=u<<1];s[v]=F,s[v+1]=F,s[v+2]=F,s[v+3]=t[S+1]}if(h==16)for(u=0;u<e;u++){var S;v=u<<2,F=t[S=u<<2],s[v]=F,s[v+1]=F,s[v+2]=F,s[v+3]=t[S+2]}}else if(l==0)for(m=r.tabs.tRNS?r.tabs.tRNS:-1,_=0;_<i;_++){var G=_*c,B=_*n;if(h==1)for(var R=0;R<n;R++){var O=(F=255*(t[G+(R>>>3)]>>>7-(7&R)&1))==255*m?0:255;d[B+R]=O<<24|F<<16|F<<8|F}else if(h==2)for(R=0;R<n;R++)O=(F=85*(t[G+(R>>>2)]>>>6-((3&R)<<1)&3))==85*m?0:255,d[B+R]=O<<24|F<<16|F<<8|F;else if(h==4)for(R=0;R<n;R++)O=(F=17*(t[G+(R>>>1)]>>>4-((1&R)<<2)&15))==17*m?0:255,d[B+R]=O<<24|F<<16|F<<8|F;else if(h==8)for(R=0;R<n;R++)O=(F=t[G+R])==m?0:255,d[B+R]=O<<24|F<<16|F<<8|F;else if(h==16)for(R=0;R<n;R++)F=t[G+(R<<1)],O=w(t,G+(R<<u))==m?0:255,d[B+R]=O<<24|F<<16|F<<8|F}return s},UPNG.decode=function(t){for(var n,i=new Uint8Array(t),r=8,e=UPNG._bin,a=e.readUshort,c=e.readUint,s={tabs:{},frames:[]},d=new Uint8Array(i.length),l=0,h=0,w=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(i[f]!=w[f])throw"The input is not a PNG file!";for(;r<i.length;){var u=e.readUint(i,r);r+=4;var g=e.readASCII(i,r,4);if(r+=4,g=="IHDR")UPNG.decode._IHDR(i,r,s);else if(g=="CgBI")s.tabs[g]=i.slice(r,r+4);else if(g=="IDAT"){for(f=0;f<u;f++)d[l+f]=i[r+f];l+=u}else if(g=="acTL")s.tabs[g]={num_frames:c(i,r),num_plays:c(i,r+4)},n=new Uint8Array(i.length);else if(g=="fcTL"){var b;h!=0&&((b=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,n.slice(0,h),b.rect.width,b.rect.height),h=0);var m={x:c(i,r+12),y:c(i,r+16),width:c(i,r+4),height:c(i,r+8)},C=a(i,r+22);C=a(i,r+20)/(C==0?100:C);var k={rect:m,delay:Math.round(1e3*C),dispose:i[r+24],blend:i[r+25]};s.frames.push(k)}else if(g=="fdAT"){for(f=0;f<u-4;f++)n[h+f]=i[r+f+4];h+=u-4}else if(g=="pHYs")s.tabs[g]=[e.readUint(i,r),e.readUint(i,r+4),i[r+8]];else if(g=="cHRM")for(s.tabs[g]=[],f=0;f<8;f++)s.tabs[g].push(e.readUint(i,r+4*f));else if(g=="tEXt"||g=="zTXt"){s.tabs[g]==null&&(s.tabs[g]={});var v=e.nextZero(i,r),I=e.readASCII(i,r,v-r),P=r+u-v-1;if(g=="tEXt")U=e.readASCII(i,v+1,P);else{var y=UPNG.decode._inflate(i.slice(v+2,v+2+P));U=e.readUTF8(y,0,y.length)}s.tabs[g][I]=U}else if(g=="iTXt"){s.tabs[g]==null&&(s.tabs[g]={}),v=0;var _=r;v=e.nextZero(i,_),I=e.readASCII(i,_,v-_);var U,x=i[_=v+1];i[_+1],_+=2,v=e.nextZero(i,_),e.readASCII(i,_,v-_),_=v+1,v=e.nextZero(i,_),e.readUTF8(i,_,v-_),P=u-((_=v+1)-r),x==0?U=e.readUTF8(i,_,P):(y=UPNG.decode._inflate(i.slice(_,_+P)),U=e.readUTF8(y,0,y.length)),s.tabs[g][I]=U}else if(g=="PLTE")s.tabs[g]=e.readBytes(i,r,u);else if(g=="hIST"){var A=s.tabs.PLTE.length/3;for(s.tabs[g]=[],f=0;f<A;f++)s.tabs[g].push(a(i,r+2*f))}else if(g=="tRNS")s.ctype==3?s.tabs[g]=e.readBytes(i,r,u):s.ctype==0?s.tabs[g]=a(i,r):s.ctype==2&&(s.tabs[g]=[a(i,r),a(i,r+2),a(i,r+4)]);else if(g=="gAMA")s.tabs[g]=e.readUint(i,r)/1e5;else if(g=="sRGB")s.tabs[g]=i[r];else if(g=="bKGD")s.ctype==0||s.ctype==4?s.tabs[g]=[a(i,r)]:s.ctype==2||s.ctype==6?s.tabs[g]=[a(i,r),a(i,r+2),a(i,r+4)]:s.ctype==3&&(s.tabs[g]=i[r]);else if(g=="IEND")break;r+=u,e.readUint(i,r),r+=4}return h!=0&&((b=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,n.slice(0,h),b.rect.width,b.rect.height),h=0),s.data=UPNG.decode._decompress(s,d,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},UPNG.decode._decompress=function(t,n,i,r){var e=UPNG.decode._getBPP(t),a=Math.ceil(i*e/8),c=new Uint8Array((a+1+t.interlace)*r);return n=t.tabs.CgBI?UPNG.inflateRaw(n,c):UPNG.decode._inflate(n,c),t.interlace==0?n=UPNG.decode._filterZero(n,t,0,i,r):t.interlace==1&&(n=UPNG.decode._readInterlace(n,t)),n},UPNG.decode._inflate=function(t,n){return UPNG.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),n)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(t,n){var i,r,e=Uint8Array,a=0,c=0,s=0,d=0,l=0,h=0,w=0,f=0,u=0;if(t[0]==3&&t[1]==0)return n||new e(0);var g=H.H,b=g.b,m=g.e,C=g.R,k=g.n,v=g.A,I=g.Z,P=g.m,y=n==null;for(y&&(n=new e(t.length>>>2<<5));a==0;)if(a=b(t,u,1),c=b(t,u+1,2),u+=3,c!=0){if(y&&(n=H.H.W(n,f+(1<<17))),c==1&&(i=P.J,r=P.h,h=511,w=31),c==2){s=m(t,u,5)+257,d=m(t,u+5,5)+1,l=m(t,u+10,4)+4,u+=14;for(var _=1,U=0;U<38;U+=2)P.Q[U]=0,P.Q[U+1]=0;for(U=0;U<l;U++){var x=m(t,u+3*U,3);P.Q[1+(P.X[U]<<1)]=x,x>_&&(_=x)}u+=3*l,k(P.Q,_),v(P.Q,_,P.u),i=P.w,r=P.d,u=C(P.u,(1<<_)-1,s+d,t,u,P.v);var A=g.V(P.v,0,s,P.C);h=(1<<A)-1;var E=g.V(P.v,s,d,P.D);w=(1<<E)-1,k(P.C,A),v(P.C,A,i),k(P.D,E),v(P.D,E,r)}for(;;){var F=i[I(t,u)&h];u+=15&F;var S=F>>>4;if(S>>>8==0)n[f++]=S;else{if(S==256)break;var G=f+S-254;if(S>264){var B=P.q[S-257];G=f+(B>>>3)+m(t,u,7&B),u+=7&B}var R=r[I(t,u)&w];u+=15&R;var O=R>>>4,M=P.c[O],Z=(M>>>4)+b(t,u,15&M);for(u+=15&M;f<G;)n[f]=n[f++-Z],n[f]=n[f++-Z],n[f]=n[f++-Z],n[f]=n[f++-Z];f=G}}}else{(7&u)!=0&&(u+=8-(7&u));var z=4+(u>>>3),$=t[z-4]|t[z-3]<<8;y&&(n=H.H.W(n,f+$)),n.set(new e(t.buffer,t.byteOffset+z,$),f),u=z+$<<3,f+=$}return n.length==f?n:n.slice(0,f)},H.H.W=function(t,n){var i=t.length;if(n<=i)return t;var r=new Uint8Array(i<<1);return r.set(t,0),r},H.H.R=function(t,n,i,r,e,a){for(var c=H.H.e,s=H.H.Z,d=0;d<i;){var l=t[s(r,e)&n];e+=15&l;var h=l>>>4;if(h<=15)a[d]=h,d++;else{var w=0,f=0;h==16?(f=3+c(r,e,2),e+=2,w=a[d-1]):h==17?(f=3+c(r,e,3),e+=3):h==18&&(f=11+c(r,e,7),e+=7);for(var u=d+f;d<u;)a[d]=w,d++}}return e},H.H.V=function(t,n,i,r){for(var e=0,a=0,c=r.length>>>1;a<i;){var s=t[a+n];r[a<<1]=0,r[1+(a<<1)]=s,s>e&&(e=s),a++}for(;a<c;)r[a<<1]=0,r[1+(a<<1)]=0,a++;return e},H.H.n=function(t,n){for(var i,r,e,a,c=H.H.m,s=t.length,d=c.j,l=0;l<=n;l++)d[l]=0;for(l=1;l<s;l+=2)d[t[l]]++;var h=c.K;for(i=0,d[0]=0,r=1;r<=n;r++)i=i+d[r-1]<<1,h[r]=i;for(e=0;e<s;e+=2)(a=t[e+1])!=0&&(t[e]=h[a],h[a]++)},H.H.A=function(t,n,i){for(var r=t.length,e=H.H.m.r,a=0;a<r;a+=2)if(t[a+1]!=0)for(var c=a>>1,s=t[a+1],d=c<<4|s,l=n-s,h=t[a]<<l,w=h+(1<<l);h!=w;)i[e[h]>>>15-n]=d,h++},H.H.l=function(t,n){for(var i=H.H.m.r,r=15-n,e=0;e<t.length;e+=2){var a=t[e]<<n-t[e+1];t[e]=i[a]>>>r}},H.H.M=function(t,n,i){i<<=7&n;var r=n>>>3;t[r]|=i,t[r+1]|=i>>>8},H.H.I=function(t,n,i){i<<=7&n;var r=n>>>3;t[r]|=i,t[r+1]|=i>>>8,t[r+2]|=i>>>16},H.H.e=function(t,n,i){return(t[n>>>3]|t[1+(n>>>3)]<<8)>>>(7&n)&(1<<i)-1},H.H.b=function(t,n,i){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)&(1<<i)-1},H.H.Z=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)},H.H.i=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16|t[3+(n>>>3)]<<24)>>>(7&n)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var t=H.H.m,n=0;n<32768;n++){var i=n;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,t.r[n]=(i>>>16|i<<16)>>>17}function r(e,a,c){for(;a--!=0;)e.push(0,c)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),H.H.n(t._,9),H.H.A(t._,9,t.J),H.H.l(t._,9),r(t.$,32,5),H.H.n(t.$,5),H.H.A(t.$,5,t.h),H.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(t,n){for(var i=n.width,r=n.height,e=UPNG.decode._getBPP(n),a=e>>3,c=Math.ceil(i*e/8),s=new Uint8Array(r*c),d=0,l=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],w=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],u=0;u<7;){for(var g=w[u],b=f[u],m=0,C=0,k=l[u];k<r;)k+=g,C++;for(var v=h[u];v<i;)v+=b,m++;var I=Math.ceil(m*e/8);UPNG.decode._filterZero(t,n,d,m,C);for(var P=0,y=l[u];y<r;){for(var _=h[u],U=d+P*I<<3;_<i;){var x;if(e==1&&(x=(x=t[U>>3])>>7-(7&U)&1,s[y*c+(_>>3)]|=x<<7-((7&_)<<0)),e==2&&(x=(x=t[U>>3])>>6-(7&U)&3,s[y*c+(_>>2)]|=x<<6-((3&_)<<1)),e==4&&(x=(x=t[U>>3])>>4-(7&U)&15,s[y*c+(_>>1)]|=x<<4-((1&_)<<2)),e>=8)for(var A=y*c+_*a,E=0;E<a;E++)s[A+E]=t[(U>>3)+E];U+=e,_+=b}P++,y+=g}m*C!=0&&(d+=C*(1+I)),u+=1}return s},UPNG.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},UPNG.decode._filterZero=function(t,n,i,r,e){var a=UPNG.decode._getBPP(n),c=Math.ceil(r*a/8),s=UPNG.decode._paeth;a=Math.ceil(a/8);var d=0,l=1,h=t[i],w=0;if(h>1&&(t[i]=[0,0,1][h-2]),h==3)for(w=a;w<c;w++)t[w+1]=t[w+1]+(t[w+1-a]>>>1)&255;for(var f=0;f<e;f++)if(w=0,(h=t[(l=(d=i+f*c)+f+1)-1])==0)for(;w<c;w++)t[d+w]=t[l+w];else if(h==1){for(;w<a;w++)t[d+w]=t[l+w];for(;w<c;w++)t[d+w]=t[l+w]+t[d+w-a]}else if(h==2)for(;w<c;w++)t[d+w]=t[l+w]+t[d+w-c];else if(h==3){for(;w<a;w++)t[d+w]=t[l+w]+(t[d+w-c]>>>1);for(;w<c;w++)t[d+w]=t[l+w]+(t[d+w-c]+t[d+w-a]>>>1)}else{for(;w<a;w++)t[d+w]=t[l+w]+s(0,t[d+w-c],0);for(;w<c;w++)t[d+w]=t[l+w]+s(t[d+w-a],t[d+w-c],t[d+w-a-c])}return t},UPNG.decode._paeth=function(t,n,i){var r=t+n-i,e=r-t,a=r-n,c=r-i;return e*e<=a*a&&e*e<=c*c?t:a*a<=c*c?n:i},UPNG.decode._IHDR=function(t,n,i){var r=UPNG._bin;i.width=r.readUint(t,n),n+=4,i.height=r.readUint(t,n),n+=4,i.depth=t[n],n++,i.ctype=t[n],n++,i.compress=t[n],n++,i.filter=t[n],n++,i.interlace=t[n],n++},UPNG._bin={nextZero:function(n,i){for(;n[i]!=0;)i++;return i},readUshort:function(n,i){return n[i]<<8|n[i+1]},writeUshort:function(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:function(n,i){return 16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3])},writeUint:function(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII:function(n,i,r){for(var e="",a=0;a<r;a++)e+=String.fromCharCode(n[i+a]);return e},writeASCII:function(n,i,r){for(var e=0;e<r.length;e++)n[i+e]=r.charCodeAt(e)},readBytes:function(n,i,r){for(var e=[],a=0;a<r;a++)e.push(n[i+a]);return e},pad:function(n){return n.length<2?"0".concat(n):n},readUTF8:function(n,i,r){for(var e,a="",c=0;c<r;c++)a+="%".concat(UPNG._bin.pad(n[i+c].toString(16)));try{e=decodeURIComponent(a)}catch{return UPNG._bin.readASCII(n,i,r)}return e}},UPNG._copyTile=function(t,n,i,r,e,a,c,s,d){for(var l=Math.min(n,e),h=Math.min(i,a),w=0,f=0,u=0;u<h;u++)for(var g=0;g<l;g++)if(c>=0&&s>=0?(w=u*n+g<<2,f=(s+u)*e+c+g<<2):(w=(-s+u)*n-c+g<<2,f=u*e+g<<2),d==0)r[f]=t[w],r[f+1]=t[w+1],r[f+2]=t[w+2],r[f+3]=t[w+3];else if(d==1){var b=t[w+3]*.00392156862745098,m=t[w]*b,C=t[w+1]*b,k=t[w+2]*b,v=r[f+3]*(1/255),I=r[f]*v,P=r[f+1]*v,y=r[f+2]*v,_=1-b,U=b+v*_,x=U==0?0:1/U;r[f+3]=255*U,r[f+0]=(m+I*_)*x,r[f+1]=(C+P*_)*x,r[f+2]=(k+y*_)*x}else if(d==2)b=t[w+3],m=t[w],C=t[w+1],k=t[w+2],v=r[f+3],I=r[f],P=r[f+1],y=r[f+2],b==v&&m==I&&C==P&&k==y?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=m,r[f+1]=C,r[f+2]=k,r[f+3]=b);else if(d==3){if(b=t[w+3],m=t[w],C=t[w+1],k=t[w+2],v=r[f+3],I=r[f],P=r[f+1],y=r[f+2],b==v&&m==I&&C==P&&k==y)continue;if(b<220&&v>20)return!1}return!0},UPNG.encode=function(t,n,i,r,e,a,c){r==null&&(r=0),c==null&&(c=!1);var s=UPNG.encode.compress(t,n,i,r,[!1,!1,!1,0,c]);return UPNG.encode.compressPNG(s,-1),UPNG.encode._main(s,n,i,e,a)},UPNG.encodeLL=function(t,n,i,r,e,a,c,s){for(var d={ctype:0+(r==1?0:2)+(e==0?0:4),depth:a,frames:[]},l=(r+e)*a,h=l*n,w=0;w<t.length;w++)d.frames.push({rect:{x:0,y:0,width:n,height:i},img:new Uint8Array(t[w]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(h/8)});return UPNG.encode.compressPNG(d,0,!0),UPNG.encode._main(d,n,i,c,s)},UPNG.encode._main=function(t,n,i,r,e){e==null&&(e={});var a=UPNG.crc.crc,c=UPNG._bin.writeUint,s=UPNG._bin.writeUshort,d=UPNG._bin.writeASCII,l=8,h=t.frames.length>1,w=!1,f=33+(h?20:0);if(e.sRGB!=null&&(f+=13),e.pHYs!=null&&(f+=21),t.ctype==3){for(var u=t.plte.length,g=0;g<u;g++)t.plte[g]>>>24!=255&&(w=!0);f+=8+3*u+4+(w?8+1*u+4:0)}for(var b=0;b<t.frames.length;b++)h&&(f+=38),f+=(U=t.frames[b]).cimg.length+12,b!=0&&(f+=4);f+=12;var m=new Uint8Array(f),C=[137,80,78,71,13,10,26,10];for(g=0;g<8;g++)m[g]=C[g];if(c(m,l,13),d(m,l+=4,"IHDR"),c(m,l+=4,n),c(m,l+=4,i),m[l+=4]=t.depth,m[++l]=t.ctype,m[++l]=0,m[++l]=0,m[++l]=0,c(m,++l,a(m,l-17,17)),l+=4,e.sRGB!=null&&(c(m,l,1),d(m,l+=4,"sRGB"),m[l+=4]=e.sRGB,c(m,++l,a(m,l-5,5)),l+=4),e.pHYs!=null&&(c(m,l,9),d(m,l+=4,"pHYs"),c(m,l+=4,e.pHYs[0]),c(m,l+=4,e.pHYs[1]),m[l+=4]=e.pHYs[2],c(m,++l,a(m,l-13,13)),l+=4),h&&(c(m,l,8),d(m,l+=4,"acTL"),c(m,l+=4,t.frames.length),c(m,l+=4,e.loop!=null?e.loop:0),c(m,l+=4,a(m,l-12,12)),l+=4),t.ctype==3){for(c(m,l,3*(u=t.plte.length)),d(m,l+=4,"PLTE"),l+=4,g=0;g<u;g++){var k=3*g,v=t.plte[g],I=255&v,P=v>>>8&255,y=v>>>16&255;m[l+k+0]=I,m[l+k+1]=P,m[l+k+2]=y}if(c(m,l+=3*u,a(m,l-3*u-4,3*u+4)),l+=4,w){for(c(m,l,u),d(m,l+=4,"tRNS"),l+=4,g=0;g<u;g++)m[l+g]=t.plte[g]>>>24&255;c(m,l+=u,a(m,l-u-4,u+4)),l+=4}}var _=0;for(b=0;b<t.frames.length;b++){var U=t.frames[b];h&&(c(m,l,26),d(m,l+=4,"fcTL"),c(m,l+=4,_++),c(m,l+=4,U.rect.width),c(m,l+=4,U.rect.height),c(m,l+=4,U.rect.x),c(m,l+=4,U.rect.y),s(m,l+=4,r[b]),s(m,l+=2,1e3),m[l+=2]=U.dispose,m[++l]=U.blend,c(m,++l,a(m,l-30,30)),l+=4);var x=U.cimg;c(m,l,(u=x.length)+(b==0?0:4));var A=l+=4;d(m,l,b==0?"IDAT":"fdAT"),l+=4,b!=0&&(c(m,l,_++),l+=4),m.set(x,l),c(m,l+=u,a(m,A,l-A)),l+=4}return c(m,l,0),d(m,l+=4,"IEND"),c(m,l+=4,a(m,l-4,4)),l+=4,m.buffer},UPNG.encode.compressPNG=function(t,n,i){for(var r=0;r<t.frames.length;r++){var e=t.frames[r];e.rect.width;var a=e.rect.height,c=new Uint8Array(a*e.bpl+a);e.cimg=UPNG.encode._filterZero(e.img,a,e.bpp,e.bpl,c,n,i)}},UPNG.encode.compress=function(t,n,i,r,e){for(var a=e[0],c=e[1],s=e[2],d=e[3],l=e[4],h=6,w=8,f=255,u=0;u<t.length;u++)for(var g=new Uint8Array(t[u]),b=g.length,m=0;m<b;m+=4)f&=g[m+3];var C=f!=255,k=UPNG.encode.framize(t,n,i,a,c,s),v={},I=[],P=[];if(r!=0){var y=[];for(m=0;m<k.length;m++)y.push(k[m].img.buffer);var _=UPNG.encode.concatRGBA(y),U=UPNG.quantize(_,r),x=0,A=new Uint8Array(U.abuf);for(m=0;m<k.length;m++){var E=(V=k[m].img).length;for(P.push(new Uint8Array(U.inds.buffer,x>>2,E>>2)),u=0;u<E;u+=4)V[u]=A[x+u],V[u+1]=A[x+u+1],V[u+2]=A[x+u+2],V[u+3]=A[x+u+3];x+=E}for(m=0;m<U.plte.length;m++)I.push(U.plte[m].est.rgba)}else for(u=0;u<k.length;u++){var F=k[u],S=new Uint32Array(F.img.buffer),G=F.rect.width,B=(b=S.length,new Uint8Array(b));for(P.push(B),m=0;m<b;m++){var R=S[m];if(m!=0&&R==S[m-1])B[m]=B[m-1];else if(m>G&&R==S[m-G])B[m]=B[m-G];else{var O=v[R];if(O==null&&(v[R]=O=I.length,I.push(R),I.length>=300))break;B[m]=O}}}var M=I.length;for(M<=256&&l==0&&(w=M<=2?1:M<=4?2:M<=16?4:8,w=Math.max(w,d)),u=0;u<k.length;u++){(F=k[u]).rect.x,F.rect.y,G=F.rect.width;var Z=F.rect.height,z=F.img;new Uint32Array(z.buffer);var $=4*G,D=4;if(M<=256&&l==0){$=Math.ceil(w*G/8);for(var L=new Uint8Array($*Z),j=P[u],q=0;q<Z;q++){m=q*$;var Q=q*G;if(w==8)for(var T=0;T<G;T++)L[m+T]=j[Q+T];else if(w==4)for(T=0;T<G;T++)L[m+(T>>1)]|=j[Q+T]<<4-4*(1&T);else if(w==2)for(T=0;T<G;T++)L[m+(T>>2)]|=j[Q+T]<<6-2*(3&T);else if(w==1)for(T=0;T<G;T++)L[m+(T>>3)]|=j[Q+T]<<7-1*(7&T)}z=L,h=3,D=1}else if(C==0&&k.length==1){L=new Uint8Array(G*Z*3);var Y=G*Z;for(m=0;m<Y;m++){var V,X=4*m;L[V=3*m]=z[X],L[V+1]=z[X+1],L[V+2]=z[X+2]}z=L,h=2,D=3,$=3*G}F.img=z,F.bpl=$,F.bpp=D}return{ctype:h,depth:w,plte:I,frames:k}},UPNG.encode.framize=function(t,n,i,r,e,a){for(var c=[],s=0;s<t.length;s++){var d,l=new Uint8Array(t[s]),h=new Uint32Array(l.buffer),w=0,f=0,u=n,g=i,b=r?1:0;if(s!=0){for(var m=a||r||s==1||c[s-2].dispose!=0?1:2,C=0,k=1e9,v=0;v<m;v++){for(var I=new Uint8Array(t[s-1-v]),P=new Uint32Array(t[s-1-v]),y=n,_=i,U=-1,x=-1,A=0;A<i;A++)for(var E=0;E<n;E++)h[M=A*n+E]!=P[M]&&(E<y&&(y=E),E>U&&(U=E),A<_&&(_=A),A>x&&(x=A));U==-1&&(y=_=U=x=0),e&&((1&y)==1&&y--,(1&_)==1&&_--);var F=(U-y+1)*(x-_+1);F<k&&(k=F,C=v,w=y,f=_,u=U-y+1,g=x-_+1)}I=new Uint8Array(t[s-1-C]),C==1&&(c[s-1].dispose=2),d=new Uint8Array(u*g*4),UPNG._copyTile(I,n,i,d,u,g,-w,-f,0),(b=UPNG._copyTile(l,n,i,d,u,g,-w,-f,3)?1:0)==1?UPNG.encode._prepareDiff(l,n,i,d,{x:w,y:f,width:u,height:g}):UPNG._copyTile(l,n,i,d,u,g,-w,-f,0)}else d=l.slice(0);c.push({rect:{x:w,y:f,width:u,height:g},img:d,blend:b,dispose:0})}if(r){for(s=0;s<c.length;s++)if((Z=c[s]).blend!=1){var S=Z.rect,G=c[s-1].rect,B=Math.min(S.x,G.x),R=Math.min(S.y,G.y),O={x:B,y:R,width:Math.max(S.x+S.width,G.x+G.width)-B,height:Math.max(S.y+S.height,G.y+G.height)-R};c[s-1].dispose=1,s-1!=0&&UPNG.encode._updateFrame(t,n,i,c,s-1,O,e),UPNG.encode._updateFrame(t,n,i,c,s,O,e)}}if(t.length!=1)for(var M=0;M<c.length;M++){var Z;(Z=c[M]).rect.width*Z.rect.height}return c},UPNG.encode._updateFrame=function(t,n,i,r,e,a,c){for(var s=Uint8Array,d=Uint32Array,l=new s(t[e-1]),h=new d(t[e-1]),w=e+1<t.length?new s(t[e+1]):null,f=new s(t[e]),u=new d(f.buffer),g=n,b=i,m=-1,C=-1,k=0;k<a.height;k++)for(var v=0;v<a.width;v++){var I=a.x+v,P=a.y+k,y=P*n+I,_=u[y];_==0||r[e-1].dispose==0&&h[y]==_&&(w==null||w[4*y+3]!=0)||(I<g&&(g=I),I>m&&(m=I),P<b&&(b=P),P>C&&(C=P))}m==-1&&(g=b=m=C=0),c&&((1&g)==1&&g--,(1&b)==1&&b--),a={x:g,y:b,width:m-g+1,height:C-b+1};var U=r[e];U.rect=a,U.blend=1,U.img=new Uint8Array(a.width*a.height*4),r[e-1].dispose==0?(UPNG._copyTile(l,n,i,U.img,a.width,a.height,-a.x,-a.y,0),UPNG.encode._prepareDiff(f,n,i,U.img,a)):UPNG._copyTile(f,n,i,U.img,a.width,a.height,-a.x,-a.y,0)},UPNG.encode._prepareDiff=function(t,n,i,r,e){UPNG._copyTile(t,n,i,r,e.width,e.height,-e.x,-e.y,2)},UPNG.encode._filterZero=function(t,n,i,r,e,a,c){var s,d=[],l=[0,1,2,3,4];a!=-1?l=[a]:(n*r>5e5||i==1)&&(l=[0]),c&&(s={level:0});for(var h,w=UZIP,f=0;f<l.length;f++){for(var u=0;u<n;u++)UPNG.encode._filterLine(e,t,u,r,i,l[f]);d.push(w.deflate(e,s))}var g=1e9;for(f=0;f<d.length;f++)d[f].length<g&&(h=f,g=d[f].length);return d[h]},UPNG.encode._filterLine=function(t,n,i,r,e,a){var c=i*r,s=c+i,d=UPNG.decode._paeth;if(t[s]=a,s++,a==0)if(r<500)for(var l=0;l<r;l++)t[s+l]=n[c+l];else t.set(new Uint8Array(n.buffer,c,r),s);else if(a==1){for(l=0;l<e;l++)t[s+l]=n[c+l];for(l=e;l<r;l++)t[s+l]=n[c+l]-n[c+l-e]+256&255}else if(i==0){for(l=0;l<e;l++)t[s+l]=n[c+l];if(a==2)for(l=e;l<r;l++)t[s+l]=n[c+l];if(a==3)for(l=e;l<r;l++)t[s+l]=n[c+l]-(n[c+l-e]>>1)+256&255;if(a==4)for(l=e;l<r;l++)t[s+l]=n[c+l]-d(n[c+l-e],0,0)+256&255}else{if(a==2)for(l=0;l<r;l++)t[s+l]=n[c+l]+256-n[c+l-r]&255;if(a==3){for(l=0;l<e;l++)t[s+l]=n[c+l]+256-(n[c+l-r]>>1)&255;for(l=e;l<r;l++)t[s+l]=n[c+l]+256-(n[c+l-r]+n[c+l-e]>>1)&255}if(a==4){for(l=0;l<e;l++)t[s+l]=n[c+l]+256-d(0,n[c+l-r],0)&255;for(l=e;l<r;l++)t[s+l]=n[c+l]+256-d(n[c+l-e],n[c+l-r],n[c+l-e-r])&255}}},UPNG.crc={table:function(){for(var t=new Uint32Array(256),n=0;n<256;n++){for(var i=n,r=0;r<8;r++)1&i?i=3988292384^i>>>1:i>>>=1;t[n]=i}return t}(),update:function(n,i,r,e){for(var a=0;a<e;a++)n=UPNG.crc.table[255&(n^i[r+a])]^n>>>8;return n},crc:function(n,i,r){return 4294967295^UPNG.crc.update(4294967295,n,i,r)}},UPNG.quantize=function(t,n){var i,r=new Uint8Array(t),e=r.slice(0),a=new Uint32Array(e.buffer),c=UPNG.quantize.getKDtree(e,n),s=c[0],d=c[1],l=UPNG.quantize.planeDst,h=r,w=a,f=h.length,u=new Uint8Array(r.length>>2);if(r.length<2e7)for(var g=0;g<f;g+=4){var b=h[g]*.00392156862745098,m=h[g+1]*(1/255),C=h[g+2]*(1/255),k=h[g+3]*(1/255);i=UPNG.quantize.getNearest(s,b,m,C,k),u[g>>2]=i.ind,w[g>>2]=i.est.rgba}else for(g=0;g<f;g+=4){for(b=h[g]*(1/255),m=h[g+1]*(1/255),C=h[g+2]*(1/255),k=h[g+3]*(1/255),i=s;i.left;)i=l(i.est,b,m,C,k)<=0?i.left:i.right;u[g>>2]=i.ind,w[g>>2]=i.est.rgba}return{abuf:e.buffer,inds:u,plte:d}},UPNG.quantize.getKDtree=function(t,n,i){i==null&&(i=1e-4);var r=new Uint32Array(t.buffer),e={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};e.bst=UPNG.quantize.stats(t,e.i0,e.i1),e.est=UPNG.quantize.estats(e.bst);for(var a=[e];a.length<n;){for(var c=0,s=0,d=0;d<a.length;d++)a[d].est.L>c&&(c=a[d].est.L,s=d);if(c<i)break;var l=a[s],h=UPNG.quantize.splitPixels(t,r,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=h||l.i1<=h)l.est.L=0;else{var w={i0:l.i0,i1:h,bst:null,est:null,tdst:0,left:null,right:null};w.bst=UPNG.quantize.stats(t,w.i0,w.i1),w.est=UPNG.quantize.estats(w.bst);var f={i0:h,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(f.bst={R:[],m:[],N:l.bst.N-w.bst.N},d=0;d<16;d++)f.bst.R[d]=l.bst.R[d]-w.bst.R[d];for(d=0;d<4;d++)f.bst.m[d]=l.bst.m[d]-w.bst.m[d];f.est=UPNG.quantize.estats(f.bst),l.left=w,l.right=f,a[s]=w,a.push(f)}}for(a.sort(function(u,g){return g.bst.N-u.bst.N}),d=0;d<a.length;d++)a[d].ind=d;return[e,a]},UPNG.quantize.getNearest=function(t,n,i,r,e){if(t.left==null)return t.tdst=UPNG.quantize.dist(t.est.q,n,i,r,e),t;var a=UPNG.quantize.planeDst(t.est,n,i,r,e),c=t.left,s=t.right;a>0&&(c=t.right,s=t.left);var d=UPNG.quantize.getNearest(c,n,i,r,e);if(d.tdst<=a*a)return d;var l=UPNG.quantize.getNearest(s,n,i,r,e);return l.tdst<d.tdst?l:d},UPNG.quantize.planeDst=function(t,n,i,r,e){var a=t.e;return a[0]*n+a[1]*i+a[2]*r+a[3]*e-t.eMq},UPNG.quantize.dist=function(t,n,i,r,e){var a=n-t[0],c=i-t[1],s=r-t[2],d=e-t[3];return a*a+c*c+s*s+d*d},UPNG.quantize.splitPixels=function(t,n,i,r,e,a){var c=UPNG.quantize.vecDot;for(r-=4;i<r;){for(;c(t,i,e)<=a;)i+=4;for(;c(t,r,e)>a;)r-=4;if(i>=r)break;var s=n[i>>2];n[i>>2]=n[r>>2],n[r>>2]=s,i+=4,r-=4}for(;c(t,i,e)>a;)i-=4;return i+4},UPNG.quantize.vecDot=function(t,n,i){return t[n]*i[0]+t[n+1]*i[1]+t[n+2]*i[2]+t[n+3]*i[3]},UPNG.quantize.stats=function(t,n,i){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0],a=i-n>>2,c=n;c<i;c+=4){var s=t[c]*.00392156862745098,d=t[c+1]*(1/255),l=t[c+2]*(1/255),h=t[c+3]*(1/255);e[0]+=s,e[1]+=d,e[2]+=l,e[3]+=h,r[0]+=s*s,r[1]+=s*d,r[2]+=s*l,r[3]+=s*h,r[5]+=d*d,r[6]+=d*l,r[7]+=d*h,r[10]+=l*l,r[11]+=l*h,r[15]+=h*h}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:e,N:a}},UPNG.quantize.estats=function(t){var n=t.R,i=t.m,r=t.N,e=i[0],a=i[1],c=i[2],s=i[3],d=r==0?0:1/r,l=[n[0]-e*e*d,n[1]-e*a*d,n[2]-e*c*d,n[3]-e*s*d,n[4]-a*e*d,n[5]-a*a*d,n[6]-a*c*d,n[7]-a*s*d,n[8]-c*e*d,n[9]-c*a*d,n[10]-c*c*d,n[11]-c*s*d,n[12]-s*e*d,n[13]-s*a*d,n[14]-s*c*d,n[15]-s*s*d],h=l,w=UPNG.M4,f=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,g=0;if(r!=0)for(var b=0;b<16&&(f=w.multVec(h,f),g=Math.sqrt(w.dot(f,f)),f=w.sml(1/g,f),!(b!=0&&Math.abs(g-u)<1e-9));b++)u=g;var m=[e*d,a*d,c*d,s*d];return{Cov:l,q:m,e:f,L:u,eMq255:w.dot(w.sml(255,m),f),eMq:w.dot(f,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0])<<0)>>>0}},UPNG.M4={multVec:function(n,i){return[n[0]*i[0]+n[1]*i[1]+n[2]*i[2]+n[3]*i[3],n[4]*i[0]+n[5]*i[1]+n[6]*i[2]+n[7]*i[3],n[8]*i[0]+n[9]*i[1]+n[10]*i[2]+n[11]*i[3],n[12]*i[0]+n[13]*i[1]+n[14]*i[2]+n[15]*i[3]]},dot:function(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]+n[3]*i[3]},sml:function(n,i){return[n*i[0],n*i[1],n*i[2],n*i[3]]}},UPNG.encode.concatRGBA=function(t){for(var n=0,i=0;i<t.length;i++)n+=t[i].byteLength;var r=new Uint8Array(n),e=0;for(i=0;i<t.length;i++){for(var a=new Uint8Array(t[i]),c=a.length,s=0;s<c;s+=4){var d=a[s],l=a[s+1],h=a[s+2],w=a[s+3];w==0&&(d=l=h=0),r[e+s]=d,r[e+s+1]=l,r[e+s+2]=h,r[e+s+3]=w}e+=c}return r.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window!="undefined",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(r){for(var e=t.split(","),a=e[0].match(/:(.*?);/)[1],c=globalThis.atob(e[1]),s=c.length,d=new Uint8Array(s);s--;)d[s]=c.charCodeAt(s);var l=new Blob([d],{type:a});l.name=n,l.lastModified=i,r(l)})}function getDataUrlFromFile(t){return new Promise(function(n,i){var r=new CustomFileReader;r.onload=function(){return n(r.result)},r.onerror=function(e){return i(e)},r.readAsDataURL(t)})}function loadImage(t){return new Promise(function(n,i){var r=new Image;r.onload=function(){return n(r)},r.onerror=function(e){return i(e)},r.src=t})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var t=BROWSER_NAME.ETC,n=navigator.userAgent;return/Chrom(e|ium)/i.test(n)?t=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(n)?t=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(n)?t=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(n)?t=BROWSER_NAME.FIREFOX:(/MSIE/i.test(n)||!!document.documentMode)&&(t=BROWSER_NAME.IE),getBrowserName.cachedResult=t,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(t,n){for(var i=getBrowserName(),r=MAX_CANVAS_SIZE[i],e=t,a=n,c=e*a,s=e>a?a/e:e/a;c>r*r;){var d=(r+e)/2,l=(r+a)/2;d<l?(a=l,e=l*s):(a=d*s,e=d),c=e*a}return{width:e,height:a}}function getNewCanvasAndCtx(t,n){var i,r;try{if((r=(i=new OffscreenCanvas(t,n)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=(i=document.createElement("canvas")).getContext("2d")}return i.width=t,i.height=n,[i,r]}function drawImageInCanvas(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=approximateBelowMaximumCanvasSizeOfBrowser(t.width,t.height),r=i.width,e=i.height,a=getNewCanvasAndCtx(r,e),c=_slicedToArray(a,2),s=c[0],d=c[1];return n&&/jpe?g/.test(n)&&(d.fillStyle="white",d.fillRect(0,0,s.width,s.height)),d.drawImage(t,0,0,s.width,s.height),s}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,r){var e,a,c=function(){try{return a=drawImageInCanvas(e,n.fileType||t.type),i([e,a])}catch(l){return r(l)}},s=function(l){try{var h=function(f){try{throw f}catch(u){return r(u)}};try{return getDataUrlFromFile(t).then(function(w){try{return loadImage(w).then(function(f){try{return e=f,function(){try{return c()}catch(g){return r(g)}}()}catch(u){return h(u)}},h)}catch(f){return h(f)}},h)}catch(w){h(w)}}catch(w){return r(w)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(d){try{return e=d,c()}catch{return s()}},s)}catch{s()}})}function canvasToFile(t,n,i,r){var e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(a,c){var s,d,l;if(n==="image/png")return d=t.getContext("2d").getImageData(0,0,t.width,t.height).data,l=UPNG.encode([d],t.width,t.height,256*e),(s=new Blob([l],{type:n})).name=i,s.lastModified=r,h.call(this);{let w=function(){return h.call(this)};return typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas?t.convertToBlob({type:n,quality:e}).then(function(f){try{return(s=f).name=i,s.lastModified=r,w.call(this)}catch(u){return c(u)}}.bind(this),c):getFilefromDataUrl(t.toDataURL(n,e),i,r).then(function(f){try{return s=f,w.call(this)}catch(u){return c(u)}}.bind(this),c)}function h(){return a(s)}})}function cleanupCanvasMemory(t){t.width=0,t.height=0}function isAutoOrientationInBrowser(){return new Promise(function(t,n){var i,r,e,a;return isAutoOrientationInBrowser.cachedResult!==void 0?t(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return drawFileInCanvas(i=c).then(function(s){try{return canvasToFile(r=s[1],i.type,i.name,i.lastModified).then(function(d){try{return e=d,cleanupCanvasMemory(r),drawFileInCanvas(e).then(function(l){try{return a=l[0],isAutoOrientationInBrowser.cachedResult=a.width===1&&a.height===2,t(isAutoOrientationInBrowser.cachedResult)}catch(h){return n(h)}},n)}catch(l){return n(l)}},n)}catch(d){return n(d)}},n)}catch(s){return n(s)}},n)})}function getExifOrientation(t){return new Promise(function(n,i){var r=new CustomFileReader;r.onload=function(e){var a=new DataView(e.target.result);if(a.getUint16(0,!1)!=65496)return n(-2);for(var c=a.byteLength,s=2;s<c;){if(a.getUint16(s+2,!1)<=8)return n(-1);var d=a.getUint16(s,!1);if(s+=2,d==65505){if(a.getUint32(s+=2,!1)!=1165519206)return n(-1);var l=a.getUint16(s+=6,!1)==18761;s+=a.getUint32(s+4,l);var h=a.getUint16(s,l);s+=2;for(var w=0;w<h;w++)if(a.getUint16(s+12*w,l)==274)return n(a.getUint16(s+12*w+8,l))}else{if((65280&d)!=65280)break;s+=a.getUint16(s,!1)}}return n(-1)},r.onerror=function(e){return i(e)},r.readAsArrayBuffer(t)})}function handleMaxWidthOrHeight(t,n){var i,r=t.width,e=t.height,a=n.maxWidthOrHeight,c=t;if(isFinite(a)&&(r>a||e>a)){var s=_slicedToArray(getNewCanvasAndCtx(r,e),2);c=s[0],i=s[1],r>e?(c.width=a,c.height=e/r*a):(c.width=r/e*a,c.height=a),i.drawImage(t,0,0,c.width,c.height),cleanupCanvasMemory(t)}return c}function followExifOrientation(t,n){var i=t.width,r=t.height,e=_slicedToArray(getNewCanvasAndCtx(i,r),2),a=e[0],c=e[1];switch(n>4&&n<9?(a.width=r,a.height=i):(a.width=i,a.height=r),n){case 2:c.transform(-1,0,0,1,i,0);break;case 3:c.transform(-1,0,0,-1,i,r);break;case 4:c.transform(1,0,0,-1,0,r);break;case 5:c.transform(0,1,1,0,0,0);break;case 6:c.transform(0,1,-1,0,r,0);break;case 7:c.transform(0,-1,-1,0,r,i);break;case 8:c.transform(0,-1,1,0,0,i)}return c.drawImage(t,0,0,i,r),cleanupCanvasMemory(t),a}function compress(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(r,e){var a,c,s,d,l,h,w,f,u,g,b,m,C,k,v,I,P,y,_;function U(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(n.signal&&n.signal.aborted)throw n.signal.reason;a+=A,n.onProgress(Math.min(a,100))}function x(A){if(n.signal&&n.signal.aborted)throw n.signal.reason;a=Math.min(Math.max(A,a),100),n.onProgress(a)}return a=i,c=n.maxIteration||10,s=1024*n.maxSizeMB*1024,U(),drawFileInCanvas(t,n).then(function(A){try{var E=_slicedToArray(A,2);return d=E[1],U(),l=handleMaxWidthOrHeight(d,n),U(),new Promise(function(F,S){var G;if(!(G=n.exifOrientation))return getExifOrientation(t).then(function(R){try{return G=R,B.call(this)}catch(O){return S(O)}}.bind(this),S);function B(){return F(G)}return B.call(this)}).then(function(F){try{return h=F,U(),isAutoOrientationInBrowser().then(function(S){try{return w=S?l:followExifOrientation(l,h),U(),f=n.initialQuality||1,u=n.fileType||t.type,canvasToFile(w,u,t.name,t.lastModified,f).then(function(G){try{{let R=function(){if(c--&&(v>s||v>C)){var M,Z,z=_slicedToArray(getNewCanvasAndCtx(M=_?.95*y.width:y.width,Z=_?.95*y.height:y.height),2);return P=z[0],z[1].drawImage(y,0,0,M,Z),f*=.95,canvasToFile(P,u,t.name,t.lastModified,f).then(function($){try{return I=$,cleanupCanvasMemory(y),y=P,v=I.size,x(Math.min(99,Math.floor((k-v)/(k-s)*100))),R}catch(D){return e(D)}},e)}return[1]},O=function(){return cleanupCanvasMemory(y),cleanupCanvasMemory(P),cleanupCanvasMemory(l),cleanupCanvasMemory(w),cleanupCanvasMemory(d),x(100),r(I)};if(g=G,U(),b=g.size>s,m=g.size>t.size,!b&&!m)return x(100),r(g);var B;return C=t.size,k=g.size,v=k,y=w,_=!n.alwaysKeepResolution&&b,(B=function(M){for(;M;){if(M.then)return void M.then(B,e);try{if(M.pop){if(M.length)return M.pop()?O.call(this):M;M=R}else M=M.call(this)}catch(Z){return e(Z)}}}.bind(this))(R)}}catch(R){return e(R)}}.bind(this),e)}catch(G){return e(G)}}.bind(this),e)}catch(S){return e(S)}}.bind(this),e)}catch(F){return e(F)}}.bind(this),e)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(t){var n=[];return typeof t=="function"?n.push("(".concat(t,")()")):n.push(t),new Worker(URL.createObjectURL(new Blob(n)))}function createSourceObject(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}function stringify(t){return JSON.stringify(t,function(n,i){return typeof i=="function"?"BIC_FN:::(function () { return ".concat(i.toString()," })()"):i})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(t){throw t}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(t,n){return new Promise(function(i,r){var e=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function a(c){if(c.data.id===e){if(n.signal&&n.signal.aborted)return;if(c.data.progress!==void 0)return void n.onProgress(c.data.progress);worker.removeEventListener("message",a),c.data.error&&r(new Error(c.data.error)),i(c.data.file)}}),worker.addEventListener("error",r),n.signal&&n.signal.addEventListener("abort",function(){worker.terminate(),r(n.signal.reason)}),worker.postMessage({file:t,id:e,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},n),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(t,n){return new Promise(function(i,r){var e,a,c,s,d,l;if(e=_objectSpread2({},n),c=0,s=e.onProgress,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=function(u){c=u,typeof s=="function"&&s(c)},!(t instanceof Blob||t instanceof CustomFile))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(l=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||l)return compress(t,e).then(function(u){try{return a=u,f.call(this)}catch(g){return r(g)}}.bind(this),r);var h=function(){try{return f.call(this)}catch(u){return r(u)}}.bind(this),w=function(g){try{return compress(t,e).then(function(b){try{return a=b,h()}catch(m){return r(m)}},r)}catch(b){return r(b)}};try{return compressOnWebWorker(t,e).then(function(u){try{return a=u,h()}catch{return w()}},w)}catch{w()}function f(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}return i(a)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";function isImageQualityAboveFullHD(t){return new Promise((n,i)=>{const r=new Image;r.src=t,r.onload=()=>n(r.width>1920||r.height>1920),r.onerror=e=>i(e)})}const ALLOWED_EXTENSIONS=new Set(["jpg","jpeg","png","gif"]);function isValidImage(t){const n=t.slice(t.lastIndexOf(".")+1);return ALLOWED_EXTENSIONS.has(n)}const compressImageOptions=Object.freeze({maxSizeMB:.7,maxWidthOrHeight:1920,useWebWorker:!0});async function createImageDataUrl(t){if(!isValidImage(t.name))throw new Error("Doesn't seem like a valid Image");const n=URL.createObjectURL(t);if(await isImageQualityAboveFullHD(n)){const r=await imageCompression(t,compressImageOptions);return URL.createObjectURL(r)}return n}function create_if_block_1(t){let n,i,r,e,a,c,s;return r=new Exclamation({props:{className:"w-4 h-4"}}),{c(){n=element("div"),i=element("span"),create_component(r.$$.fragment),e=space(),a=element("span"),c=text(t[0]),attr(n,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(d,l){insert(d,n,l),append(n,i),mount_component(r,i,null),append(n,e),append(n,a),append(a,c),s=!0},p(d,l){(!s||l&1)&&set_data(c,d[0])},i(d){s||(transition_in(r.$$.fragment,d),s=!0)},o(d){transition_out(r.$$.fragment,d),s=!1},d(d){d&&detach(n),destroy_component(r)}}}function create_if_block$1(t){let n;return{c(){n=element("div"),n.innerHTML=`<span>Optimizing the image for your browser,</span> 
        <span>Please wait...</span>`,attr(n,"class","absolute w-full h-full flex flex-col items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(i,r){insert(i,n,r)},d(i){i&&detach(n)}}}function create_fragment$2(t){let n,i,r,e,a,c,s,d,l,h,w,f,u,g,b,m,C,k,v,I,P,y;e=new Cloud_upload({props:{className:"w-12 h-12"}});let _=t[0]&&create_if_block_1(t),U=t[1]&&create_if_block$1();return{c(){n=element("form"),i=element("div"),r=element("div"),create_component(e.$$.fragment),a=space(),c=element("div"),c.innerHTML='<p class="text-lg">Drag and Drop</p>',s=space(),d=element("div"),d.innerHTML='<p class="text-sm italic">or</p>',l=space(),h=element("div"),w=element("label"),f=element("span"),f.textContent="Browse Image",u=space(),g=element("input"),m=space(),_&&_.c(),C=space(),U&&U.c(),attr(r,"class","mb-6 flex justify-center"),attr(c,"class","text-center mb-6"),attr(d,"class","text-center mb-8"),attr(g,"type","file"),attr(g,"class","hidden"),attr(g,"id","upload-image"),attr(g,"accept","image/*"),attr(w,"for","upload-image"),attr(w,"class",b=cx("btn cursor-pointer",{"btn-danger-dark":t[0]},{"btn-info-dark":!t[0]})),attr(h,"class","flex justify-center"),attr(i,"class",k=cx("border border-dashed p-6",{"border-red-400":t[0]},{"border-gray-400":!t[0]})),attr(n,"class",v=cx("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":t[0]},{"text-gray-500":!t[0]}))},m(x,A){insert(x,n,A),append(n,i),append(i,r),mount_component(e,r,null),append(i,a),append(i,c),append(i,s),append(i,d),append(i,l),append(i,h),append(h,w),append(w,f),append(w,u),append(w,g),append(i,m),_&&_.m(i,null),append(i,C),U&&U.m(i,null),I=!0,P||(y=[listen(g,"click",t[5]),listen(g,"change",t[2]),listen(n,"dragover",stop_propagation(prevent_default(t[3]))),listen(n,"drop",stop_propagation(prevent_default(t[2])))],P=!0)},p(x,[A]){(!I||A&1&&b!==(b=cx("btn cursor-pointer",{"btn-danger-dark":x[0]},{"btn-info-dark":!x[0]})))&&attr(w,"class",b),x[0]?_?(_.p(x,A),A&1&&transition_in(_,1)):(_=create_if_block_1(x),_.c(),transition_in(_,1),_.m(i,C)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros()),x[1]?U||(U=create_if_block$1(),U.c(),U.m(i,null)):U&&(U.d(1),U=null),(!I||A&1&&k!==(k=cx("border border-dashed p-6",{"border-red-400":x[0]},{"border-gray-400":!x[0]})))&&attr(i,"class",k),(!I||A&1&&v!==(v=cx("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":x[0]},{"text-gray-500":!x[0]})))&&attr(n,"class",v)},i(x){I||(transition_in(e.$$.fragment,x),transition_in(_),I=!0)},o(x){transition_out(e.$$.fragment,x),transition_out(_),I=!1},d(x){x&&detach(n),destroy_component(e),_&&_.d(),U&&U.d(),P=!1,run_all(y)}}}function instance$1(t,n,i){const r=()=>{};let e=null,a=!1,{onImgChange:c=r}=n;const s=async h=>{const[w]=h.dataTransfer&&h.dataTransfer.files.length?h.dataTransfer.files:h.target.files;try{i(1,a=!0);const f=await createImageDataUrl(w);c(f)}catch(f){i(0,e=f.message)}finally{i(1,a=!1)}h.target.value=""},d=h=>{h.dataTransfer.dropEffect="copy",i(0,e=null)},l=()=>{i(0,e=null)};return t.$$set=h=>{"onImgChange"in h&&i(4,c=h.onImgChange)},[e,a,s,d,c,l]}class ImageForm extends SvelteComponent{constructor(n){super(),init(this,n,instance$1,create_fragment$2,safe_not_equal,{onImgChange:4})}}function create_else_block(t){let n,i,r,e,a;return e=new ImageForm({props:{onImgChange:t[1]}}),{c(){n=element("div"),n.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
      <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,i=space(),r=element("div"),create_component(e.$$.fragment),attr(n,"class","mb-12 text-center")},m(c,s){insert(c,n,s),insert(c,i,s),insert(c,r,s),mount_component(e,r,null),a=!0},p(c,s){const d={};s&1&&(d.onImgChange=c[1]),e.$set(d)},i(c){a||(transition_in(e.$$.fragment,c),a=!0)},o(c){transition_out(e.$$.fragment,c),a=!1},d(c){c&&detach(n),c&&detach(i),c&&detach(r),destroy_component(e)}}}function create_if_block(t){let n,i;return n=new Editor({props:{img:t[0]}}),{c(){create_component(n.$$.fragment)},m(r,e){mount_component(n,r,e),i=!0},p(r,e){const a={};e&1&&(a.img=r[0]),n.$set(a)},i(r){i||(transition_in(n.$$.fragment,r),i=!0)},o(r){transition_out(n.$$.fragment,r),i=!1},d(r){destroy_component(n,r)}}}function create_fragment$1(t){let n,i,r,e;const a=[create_if_block,create_else_block],c=[];function s(d,l){return d[0]?0:1}return i=s(t),r=c[i]=a[i](t),{c(){n=element("div"),r.c()},m(d,l){insert(d,n,l),c[i].m(n,null),e=!0},p(d,[l]){let h=i;i=s(d),i===h?c[i].p(d,l):(group_outros(),transition_out(c[h],1,1,()=>{c[h]=null}),check_outros(),r=c[i],r?r.p(d,l):(r=c[i]=a[i](d),r.c()),transition_in(r,1),r.m(n,null))},i(d){e||(transition_in(r),e=!0)},o(d){transition_out(r),e=!1},d(d){d&&detach(n),c[i].d()}}}function instance(t,n,i){let r=null;return[r,a=>{i(0,r=a)}]}class Home extends SvelteComponent{constructor(n){super(),init(this,n,instance,create_fragment$1,safe_not_equal,{})}}function create_fragment(t){let n,i,r,e,a,c,s;return r=new Header({}),c=new Home({}),{c(){n=element("main"),i=element("div"),create_component(r.$$.fragment),e=space(),a=element("div"),create_component(c.$$.fragment),attr(a,"class","container mx-auto"),attr(n,"class","px-2")},m(d,l){insert(d,n,l),append(n,i),mount_component(r,i,null),append(n,e),append(n,a),mount_component(c,a,null),s=!0},p:noop,i(d){s||(transition_in(r.$$.fragment,d),transition_in(c.$$.fragment,d),s=!0)},o(d){transition_out(r.$$.fragment,d),transition_out(c.$$.fragment,d),s=!1},d(d){d&&detach(n),destroy_component(r),destroy_component(c)}}}class App extends SvelteComponent{constructor(n){super(),init(this,n,null,create_fragment,safe_not_equal,{})}}var main=(()=>`.btn{align-items:center;display:flex;gap:.5rem;justify-content:center;min-height:3rem;min-width:6rem;padding:.5rem;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.btn:disabled{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-color:rgb(229 231 235/var(--tw-border-opacity));border-width:1px;color:rgb(156 163 175/var(--tw-text-opacity));cursor:not-allowed}.btn:not(:disabled):not(.loading):hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.btn:not(:disabled):not(.loading):active,.btn:not(:disabled):not(.loading):hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled):not(.loading):active{--tw-scale-x:.95;--tw-scale-y:.95;--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.btn:not(:disabled):not(.loading)[class*=-dark]:hover,.btn:not(:disabled):not(.loading)[class*=-primary]:hover{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);--tw-shadow-color:#4b5563;--tw-shadow:var(--tw-shadow-colored);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled):not(.loading)[class*=-dark]:active,.btn:not(:disabled):not(.loading)[class*=-primary]:active{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled).btn-primary{background-color:rgb(17 24 39/var(--tw-bg-opacity))}.btn:not(:disabled).btn-danger-dark,.btn:not(:disabled).btn-primary{--tw-bg-opacity:1;--tw-text-opacity:1;color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-danger-dark{background-color:rgb(239 68 68/var(--tw-bg-opacity))}.btn:not(:disabled).btn-danger-dark:not(.loading):active{--tw-shadow-color:#991b1b;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-danger-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity));border-color:rgb(254 202 202/var(--tw-border-opacity));border-width:1px;color:rgb(153 27 27/var(--tw-text-opacity))}.btn:not(:disabled).btn-danger-light:not(.loading):active{--tw-shadow-color:#ef4444;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-warn-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-warn-dark:not(.loading):active{--tw-shadow-color:#854d0e;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-warn-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(254 249 195/var(--tw-bg-opacity));border-color:rgb(254 240 138/var(--tw-border-opacity));border-width:1px;color:rgb(133 77 14/var(--tw-text-opacity))}.btn:not(:disabled).btn-warn-light:not(.loading):active{--tw-shadow-color:#eab308;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-success-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(34 197 94/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-success-dark:not(.loading):active{--tw-shadow-color:#166534;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-success-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(220 252 231/var(--tw-bg-opacity));border-color:rgb(187 247 208/var(--tw-border-opacity));border-width:1px;color:rgb(22 101 52/var(--tw-text-opacity))}.btn:not(:disabled).btn-success-light:not(.loading):active{--tw-shadow-color:#22c55e;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-info-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-info-dark:not(.loading):active{--tw-shadow-color:#1e40af;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-info-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity));border-color:rgb(191 219 254/var(--tw-border-opacity));border-width:1px;color:rgb(30 64 175/var(--tw-text-opacity))}.btn:not(:disabled).btn-info-light:not(.loading):active{--tw-shadow-color:#3b82f6;--tw-shadow:var(--tw-shadow-colored)}.btn.loading{cursor:wait;opacity:.5}.btn.circle{border-radius:9999px;min-height:0;min-width:0}.btn.circle,.logo{height:3rem;width:3rem}.logo{--tw-bg-opacity:1;--tw-text-opacity:1;--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);align-items:center;background-color:rgb(17 24 39/var(--tw-bg-opacity));box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:rgb(248 250 252/var(--tw-text-opacity));cursor:pointer;display:flex;font-size:1.5rem;justify-content:center;line-height:2rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}.logo>span{transition-duration:.3s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.logo:hover>span{--tw-scale-x:1.5;--tw-scale-y:1.5}.logo:active>span,.logo:hover>span{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.logo:active>span{--tw-scale-x:.75;--tw-scale-y:.75}.h-\\[3rem\\]{height:3rem}.min-h-\\[3rem\\]{min-height:3rem}.min-h-0{min-height:0}.w-\\[3rem\\]{width:3rem}.min-w-\\[6rem\\]{min-width:6rem}.min-w-0{min-width:0}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.gap-2{gap:.5rem}.gap-5{gap:1.25rem}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195/var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94/var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231/var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity))}.p-2{padding:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27/var(--tw-text-opacity))}.text-yellow-800{--tw-text-opacity:1;color:rgb(133 77 14/var(--tw-text-opacity))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52/var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity))}.text-slate-50{--tw-text-opacity:1;color:rgb(248 250 252/var(--tw-text-opacity))}.opacity-50{opacity:.5}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.hover\\:shadow-md:hover,.hover\\:shadow-sm:hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:shadow-sm:hover{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.hover\\:shadow-gray-600:hover{--tw-shadow-color:#4b5563;--tw-shadow:var(--tw-shadow-colored)}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.photon-logo{--tw-bg-opacity:1;--tw-text-opacity:1;--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);align-items:center;background-color:rgb(17 24 39/var(--tw-bg-opacity));box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:rgb(248 250 252/var(--tw-text-opacity));cursor:pointer;display:flex;font-size:1.5rem;height:3rem;justify-content:center;line-height:2rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:3rem}.photon-logo>span{transition-duration:.3s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.photon-logo:hover>span{--tw-scale-x:1.5;--tw-scale-y:1.5}.photon-logo:active>span,.photon-logo:hover>span{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.photon-logo:active>span{--tw-scale-x:.75;--tw-scale-y:.75}.absolute{position:absolute}.relative{position:relative}.top-0{top:0}.left-0{left:0}.mx-auto{margin-left:auto;margin-right:auto}.mb-12{margin-bottom:3rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-2{margin-top:.5rem}.flex{display:flex}.hidden{display:none}.h-full{height:100%}.h-12{height:3rem}.h-4{height:1rem}.w-auto{width:auto}.w-full{width:100%}.w-12{width:3rem}.w-4{width:1rem}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.overflow-hidden{overflow:hidden}.border{border-width:1px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-red-400{--tw-border-opacity:1;border-color:rgb(248 113 113/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-90{--tw-bg-opacity:.9}.p-3{padding:.75rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.text-center{text-align:center}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.italic{font-style:italic}.text-sky-600{--tw-text-opacity:1;color:rgb(2 132 199/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}body,html{font-family:Ubuntu,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.hover\\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}@media (min-width:768px){.md\\:w-1\\/2{width:50%}.md\\:text-base{font-size:1rem;line-height:1.5rem}}
`)();new App({target:document.getElementById("app")});export{__vite_legacy_guard};
