import{S as O,i as V,s as R,e as g,a as l,b as x,n as N,d as v,t as tt,c as C,f as _,g as p,l as U,h as D,j as z,k as B,m as $,o as at,R as ot,p as nt,q as it,r as I,u as F,v as st,w as E,x as P,y as W,z as H,A as lt,B as ct,C as q,D as X,E as dt}from"./vendor.18c3d9cf.js";function Yt(){import("data:text/javascript,")}const wt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};wt();function pt(o){let t;return{c(){t=g("div"),t.innerHTML='<button type="button" class="photon-logo"><span>P</span></button>',l(t,"class","py-4 w-full container mx-auto")},m(r,e){x(r,t,e)},p:N,i:N,o:N,d(r){r&&v(t)}}}class gt extends O{constructor(t){super(),V(this,t,null,pt,R,{})}}const et={blur:{attr:"blur",displayName:"Blur",type:"range",min:0,max:100,defaultValue:0,unit:"px"},brightness:{attr:"brightness",displayName:"Brightness",type:"range",min:0,max:100,defaultValue:100,unit:"%"},contrast:{attr:"contrast",displayName:"Contrast",type:"range",min:0,max:100,defaultValue:100,unit:"%"},"drop-shadow":{attr:"drop-shadow",displayName:"Drop shadow",type:"text",min:0,max:100,defaultValue:"0 0 0 transparent",unit:""},grayscale:{attr:"grayscale",displayName:"Grayscale",type:"range",min:0,max:100,defaultValue:0,unit:"%"},"hue-rotate":{attr:"hue-rotate",displayName:"Hue",type:"range",min:0,max:100,defaultValue:0,unit:"deg"},invert:{attr:"invert",displayName:"Invert",type:"range",min:0,max:100,defaultValue:0,unit:"%"},opacity:{attr:"opacity",displayName:"Opacity",type:"range",min:0,max:100,defaultValue:100,unit:"%"},saturate:{attr:"saturate",displayName:"Saturate",type:"range",min:0,max:100,defaultValue:0,unit:"%"},sepia:{attr:"sepia",displayName:"Sepia",type:"range",min:0,max:100,defaultValue:0,unit:"%"}},A=Object.values(et),G=o=>Object.keys(o).reduce((t,r)=>{var e;return`${t} ${r}(${o[r]}${(e=et[r])==null?void 0:e.unit})`},""),bt=(o,t)=>{const{style:r}=new Option;return r[o]=t,Boolean(r[o])},rt=()=>{};function K(o,t,r){const e=o.slice();return e[9]=t[r],e}function ut(o){let t,r,e,a,i;return{c(){t=g("input"),r=C(),e=g("span"),e.textContent="e.g. 16px 16px 10px black",l(t,"type","text"),l(t,"placeholder","offset-x offset-y blur-radius color"),l(t,"class","w-full pb-1 outline-none bg-transparent border-0 border-b border-b-black mb-4"),l(e,"class","italic text-xs")},m(n,c){x(n,t,c),x(n,r,c),x(n,e,c),a||(i=U(t,"input",o[7]),a=!0)},p:N,i:N,o:N,d(n){n&&v(t),n&&v(r),n&&v(e),a=!1,i()}}}function ft(o){let t,r,e;function a(n){o[6](n)}let i={id:"color-pips",min:o[0].min,max:o[0].max,first:"label",last:"label",range:"min",float:!0,pips:!0,formatter:o[5]};return o[1]!==void 0&&(i.values=o[1]),t=new ot({props:i}),nt.push(()=>it(t,"values",a)),{c(){I(t.$$.fragment)},m(n,c){F(t,n,c),e=!0},p(n,c){const s={};c&1&&(s.min=n[0].min),c&1&&(s.max=n[0].max),c&1&&(s.formatter=n[5]),!r&&c&2&&(r=!0,s.values=n[1],st(()=>r=!1)),t.$set(s)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}function Q(o){let t,r,e=o[9].displayName+"",a,i,n,c;function s(){return o[8](o[9])}return{c(){t=g("li"),r=g("button"),a=tt(e),i=C(),l(r,"type","button"),l(r,"class","btn"),_(r,"btn-info-dark",o[0].attr===o[9].attr),_(r,"btn-info-light",o[0].attr!==o[9].attr)},m(d,f){x(d,t,f),p(t,r),p(r,a),p(t,i),n||(c=U(r,"click",s),n=!0)},p(d,f){o=d,f&1&&_(r,"btn-info-dark",o[0].attr===o[9].attr),f&1&&_(r,"btn-info-light",o[0].attr!==o[9].attr)},d(d){d&&v(t),n=!1,c()}}}function ht(o){let t,r,e,a,i,n,c;const s=[ft,ut],d=[];function f(b,y){return b[0].type==="range"?0:b[0].type==="text"?1:-1}~(e=f(o))&&(a=d[e]=s[e](o));let u=A,w=[];for(let b=0;b<u.length;b+=1)w[b]=Q(K(o,u,b));return{c(){t=g("div"),r=g("div"),a&&a.c(),i=C(),n=g("ul");for(let b=0;b<w.length;b+=1)w[b].c();l(r,"class","max-w-md mx-auto flex-1 w-full"),l(n,"class","inline-flex justify-between items-center text-xs uppercase w-full h-16 gap-8 overflow-auto shrink-0"),l(t,"class","flex flex-col")},m(b,y){x(b,t,y),p(t,r),~e&&d[e].m(r,null),p(t,i),p(t,n);for(let j=0;j<w.length;j+=1)w[j].m(n,null);c=!0},p(b,[y]){let j=e;if(e=f(b),e===j?~e&&d[e].p(b,y):(a&&(D(),z(d[j],1,1,()=>{d[j]=null}),B()),~e?(a=d[e],a?a.p(b,y):(a=d[e]=s[e](b),a.c()),$(a,1),a.m(r,null)):a=null),y&5){u=A;let k;for(k=0;k<u.length;k+=1){const M=K(b,u,k);w[k]?w[k].p(M,y):(w[k]=Q(M),w[k].c(),w[k].m(n,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=u.length}},i(b){c||($(a),c=!0)},o(b){z(a),c=!1},d(b){b&&v(t),~e&&d[e].d(),at(w,b)}}}function mt(o,t,r){const e={};let[a]=A,i=[a.defaultValue],{onFilterChange:n=rt}=t;const c=w=>{r(0,a=w),r(1,i=[Object.prototype.hasOwnProperty.call(e,a.attr)?e[a.attr]:a.defaultValue])},s=w=>`${w}${a.unit}`;function d(w){i=w,r(1,i)}const f=w=>{r(1,i[0]=w.target.value,i)},u=w=>c(w);return o.$$set=w=>{"onFilterChange"in w&&r(3,n=w.onFilterChange)},o.$$.update=()=>{if(o.$$.dirty&27&&a.type!=="text"){const[w]=i;r(4,e[a.attr]=w,e),n(G(e))}if(o.$$.dirty&27&&a.type==="text"){const w=`${a.attr}(${i[0]})`;r(4,e[a.attr]=bt("filter",w)?i[0]:a.defaultValue,e),n(G(e))}},[a,i,c,n,e,s,d,f,u]}class xt extends O{constructor(t){super(),V(this,t,mt,ht,R,{onFilterChange:3})}}function vt(o){let t,r,e,a,i,n,c;return n=new xt({props:{onFilterChange:o[2]}}),{c(){t=g("div"),r=g("div"),e=g("img"),i=C(),I(n.$$.fragment),P(e.src,a=o[0])||l(e,"src",a),l(e,"alt","ready for editing"),l(e,"class","h-auto max-h-[100%] mx-auto svelte-tr5dwu"),W(e,"--filter",o[1],!1),l(r,"class","overflow-hidden flex-1 flex items-center justify-center"),l(t,"class","flex flex-col editor gap-6 svelte-tr5dwu")},m(s,d){x(s,t,d),p(t,r),p(r,e),p(t,i),F(n,t,null),c=!0},p(s,[d]){(!c||d&1&&!P(e.src,a=s[0]))&&l(e,"src",a),d&2&&W(e,"--filter",s[1],!1);const f={};d&2&&(f.onFilterChange=s[2]),n.$set(f)},i(s){c||($(n.$$.fragment,s),c=!0)},o(s){z(n.$$.fragment,s),c=!1},d(s){s&&v(t),E(n)}}}function yt(o,t,r){let e="",{img:a=""}=t;const i=n=>{r(1,e=n)};return o.$$set=n=>{"img"in n&&r(0,a=n.img)},[a,e,i]}class kt extends O{constructor(t){super(),V(this,t,yt,vt,R,{img:0})}}function _t(o){let t,r;return{c(){t=H("svg"),r=H("path"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class",o[0]),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor"),l(t,"stroke-width","2")},m(e,a){x(e,t,a),p(t,r)},p(e,[a]){a&1&&l(t,"class",e[0])},i:N,o:N,d(e){e&&v(t)}}}function $t(o,t,r){let{className:e}=t;return o.$$set=a=>{"className"in a&&r(0,e=a.className)},[e]}class zt extends O{constructor(t){super(),V(this,t,$t,_t,R,{className:0})}}function St(o){let t,r;return{c(){t=H("svg"),r=H("path"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class",o[0]),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor"),l(t,"stroke-width","2")},m(e,a){x(e,t,a),p(t,r)},p(e,[a]){a&1&&l(t,"class",e[0])},i:N,o:N,d(e){e&&v(t)}}}function Ct(o,t,r){let{className:e}=t;return o.$$set=a=>{"className"in a&&r(0,e=a.className)},[e]}class Nt extends O{constructor(t){super(),V(this,t,Ct,St,R,{className:0})}}const jt=Object.freeze({maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0}),Lt=new Set(["jpg","jpeg","png","gif"]),It=o=>new Promise((t,r)=>{const e=new Image;e.src=o,e.onload=()=>t(e.width>1920||e.height>1920),e.onerror=a=>r(a)}),Ft=o=>{const t=o.slice(o.lastIndexOf(".")+1);return Lt.has(t)},Et=async o=>{if(!Ft(o.name))throw new Error("Doesn't seem like a valid Image");const t=URL.createObjectURL(o);if(await It(t)){const e=await lt(o,jt);return URL.createObjectURL(e)}return t};function J(o){let t,r,e,a,i,n,c;return e=new Nt({props:{className:"w-4 h-4"}}),{c(){t=g("div"),r=g("span"),I(e.$$.fragment),a=C(),i=g("span"),n=tt(o[0]),l(t,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(s,d){x(s,t,d),p(t,r),F(e,r,null),p(t,a),p(t,i),p(i,n),c=!0},p(s,d){(!c||d&1)&&ct(n,s[0])},i(s){c||($(e.$$.fragment,s),c=!0)},o(s){z(e.$$.fragment,s),c=!1},d(s){s&&v(t),E(e)}}}function Z(o){let t;return{c(){t=g("div"),t.innerHTML=`<span>Optimizing the image for your browser,</span> 
        <span>Please wait...</span>`,l(t,"class","absolute w-full h-full flex flex-col items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(r,e){x(r,t,e)},d(r){r&&v(t)}}}function Ot(o){let t,r,e,a,i,n,c,s,d,f,u,w,b,y,j,k,M,T,Y;a=new zt({props:{className:"w-12 h-12"}});let h=o[0]&&J(o),S=o[1]&&Z();return{c(){t=g("form"),r=g("div"),e=g("div"),I(a.$$.fragment),i=C(),n=g("div"),n.innerHTML='<p class="text-lg">Drag and Drop</p>',c=C(),s=g("div"),s.innerHTML='<p class="text-sm italic">or</p>',d=C(),f=g("div"),u=g("label"),w=g("span"),w.textContent="Browse Image",b=C(),y=g("input"),j=C(),h&&h.c(),k=C(),S&&S.c(),l(e,"class","mb-6 flex justify-center"),l(n,"class","text-center mb-6"),l(s,"class","text-center mb-8"),l(y,"type","file"),l(y,"class","hidden"),l(y,"id","upload-image"),l(y,"accept","image/*"),l(u,"for","upload-image"),l(u,"class","btn cursor-pointer"),_(u,"btn-danger-dark",o[0]!==null),_(u,"btn-info-dark",o[0]===null),l(f,"class","flex justify-center"),l(r,"class","border border-dashed p-6"),_(r,"border-red-400",o[0]!==null),_(r,"border-gray-400",o[0]===null),l(t,"class","p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto"),_(t,"text-red-500",o[0]!==null),_(t,"text-gray-500",o[0]===null)},m(m,L){x(m,t,L),p(t,r),p(r,e),F(a,e,null),p(r,i),p(r,n),p(r,c),p(r,s),p(r,d),p(r,f),p(f,u),p(u,w),p(u,b),p(u,y),p(r,j),h&&h.m(r,null),p(r,k),S&&S.m(r,null),M=!0,T||(Y=[U(y,"click",o[5]),U(y,"change",o[2]),U(t,"dragover",q(X(o[3]))),U(t,"drop",q(X(o[2])))],T=!0)},p(m,[L]){L&1&&_(u,"btn-danger-dark",m[0]!==null),L&1&&_(u,"btn-info-dark",m[0]===null),m[0]?h?(h.p(m,L),L&1&&$(h,1)):(h=J(m),h.c(),$(h,1),h.m(r,k)):h&&(D(),z(h,1,1,()=>{h=null}),B()),m[1]?S||(S=Z(),S.c(),S.m(r,null)):S&&(S.d(1),S=null),L&1&&_(r,"border-red-400",m[0]!==null),L&1&&_(r,"border-gray-400",m[0]===null),L&1&&_(t,"text-red-500",m[0]!==null),L&1&&_(t,"text-gray-500",m[0]===null)},i(m){M||($(a.$$.fragment,m),$(h),M=!0)},o(m){z(a.$$.fragment,m),z(h),M=!1},d(m){m&&v(t),E(a),h&&h.d(),S&&S.d(),T=!1,dt(Y)}}}function Vt(o,t,r){let e=null,a=!1,{onImgChange:i=rt}=t;const n=async d=>{const[f]=d.dataTransfer&&d.dataTransfer.files.length?d.dataTransfer.files:d.target.files;try{r(1,a=!0);const u=await Et(f);i(u)}catch(u){r(0,e=u.message)}finally{r(1,a=!1)}d.target.value=""},c=d=>{d.dataTransfer.dropEffect="copy",r(0,e=null)},s=()=>{r(0,e=null)};return o.$$set=d=>{"onImgChange"in d&&r(4,i=d.onImgChange)},[e,a,n,c,i,s]}class Rt extends O{constructor(t){super(),V(this,t,Vt,Ot,R,{onImgChange:4})}}function Mt(o){let t,r,e,a,i;return a=new Rt({props:{onImgChange:o[1]}}),{c(){t=g("div"),t.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
      <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,r=C(),e=g("div"),I(a.$$.fragment),l(t,"class","mb-12 text-center")},m(n,c){x(n,t,c),x(n,r,c),x(n,e,c),F(a,e,null),i=!0},p(n,c){const s={};c&1&&(s.onImgChange=n[1]),a.$set(s)},i(n){i||($(a.$$.fragment,n),i=!0)},o(n){z(a.$$.fragment,n),i=!1},d(n){n&&v(t),n&&v(r),n&&v(e),E(a)}}}function Ut(o){let t,r;return t=new kt({props:{img:o[0]}}),{c(){I(t.$$.fragment)},m(e,a){F(t,e,a),r=!0},p(e,a){const i={};a&1&&(i.img=e[0]),t.$set(i)},i(e){r||($(t.$$.fragment,e),r=!0)},o(e){z(t.$$.fragment,e),r=!1},d(e){E(t,e)}}}function Ht(o){let t,r,e,a;const i=[Ut,Mt],n=[];function c(s,d){return s[0]?0:1}return r=c(o),e=n[r]=i[r](o),{c(){t=g("div"),e.c()},m(s,d){x(s,t,d),n[r].m(t,null),a=!0},p(s,[d]){let f=r;r=c(s),r===f?n[r].p(s,d):(D(),z(n[f],1,1,()=>{n[f]=null}),B(),e=n[r],e?e.p(s,d):(e=n[r]=i[r](s),e.c()),$(e,1),e.m(t,null))},i(s){a||($(e),a=!0)},o(s){z(e),a=!1},d(s){s&&v(t),n[r].d()}}}function Tt(o,t,r){let e=null;return[e,i=>{r(0,e=i)}]}class At extends O{constructor(t){super(),V(this,t,Tt,Ht,R,{})}}function Dt(o){let t,r,e,a,i,n,c;return e=new gt({}),n=new At({}),{c(){t=g("main"),r=g("div"),I(e.$$.fragment),a=C(),i=g("div"),I(n.$$.fragment),l(i,"class","container mx-auto"),l(t,"class","px-2")},m(s,d){x(s,t,d),p(t,r),F(e,r,null),p(t,a),p(t,i),F(n,i,null),c=!0},p:N,i(s){c||($(e.$$.fragment,s),$(n.$$.fragment,s),c=!0)},o(s){z(e.$$.fragment,s),z(n.$$.fragment,s),c=!1},d(s){s&&v(t),E(e),E(n)}}}class Bt extends O{constructor(t){super(),V(this,t,null,Dt,R,{})}}new Bt({target:document.getElementById("app")});export{Yt as __vite_legacy_guard};
