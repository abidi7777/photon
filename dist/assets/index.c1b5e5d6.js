import{S as F,i as E,s as M,e as b,a as n,b as _,n as S,d as $,c as R,f as g,g as C,h as L,m as I,l as V,j as at,k as T,t as z,o as B,p as k,q as U,r as tt,u as ot,R as nt,v as it,w as st,x as et,y as N,z as lt,A as ct,B as W,C as q,D as dt,E as wt,F as pt,G as X,H as G}from"./vendor.9104aa2d.js";function ee(){import("data:text/javascript,")}const gt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=e(a);fetch(a.href,i)}};gt();function ut(o){let t;return{c(){t=b("div"),t.innerHTML='<button type="button" class="photon-logo"><span>P</span></button>',n(t,"class","py-4 w-full container mx-auto")},m(e,r){_(e,t,r)},p:S,i:S,o:S,d(e){e&&$(t)}}}class bt extends F{constructor(t){super(),E(this,t,null,ut,M,{})}}function ft(o){let t,e;return{c(){t=R("svg"),e=R("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M6 18L18 6M6 6l12 12"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){_(r,t,a),g(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&$(t)}}}function mt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class ht extends F{constructor(t){super(),E(this,t,mt,ft,M,{className:0})}}function vt(o){let t,e;return{c(){t=R("svg"),e=R("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){_(r,t,a),g(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&$(t)}}}function yt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class xt extends F{constructor(t){super(),E(this,t,yt,vt,M,{className:0})}}function kt(o){let t,e;return{c(){t=R("svg"),e=R("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){_(r,t,a),g(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&$(t)}}}function _t(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class $t extends F{constructor(t){super(),E(this,t,_t,kt,M,{className:0})}}function zt(o){let t,e;return{c(){t=R("svg"),e=R("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){_(r,t,a),g(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&$(t)}}}function Nt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class Ct extends F{constructor(t){super(),E(this,t,Nt,zt,M,{className:0})}}const Y=()=>{};function St(o){let t,e;return t=new ht({props:{className:"w-4 h-4"}}),{c(){L(t.$$.fragment)},m(r,a){I(t,r,a),e=!0},i(r){e||(k(t.$$.fragment,r),e=!0)},o(r){z(t.$$.fragment,r),e=!1},d(r){U(t,r)}}}function jt(o){let t;return{c(){t=b("span"),t.textContent="Sure?",n(t,"class","text-xs")},m(e,r){_(e,t,r)},i:S,o:S,d(e){e&&$(t)}}}function Lt(o){let t,e,r,a,i,s,c,l,w,u,d,p;const m=[jt,St],f=[];function h(v,O){return v[1]?0:1}return a=h(o),i=f[a]=m[a](o),w=new xt({props:{className:"w-4 h-4"}}),{c(){t=b("ul"),e=b("li"),r=b("button"),i.c(),s=C(),c=b("li"),l=b("button"),L(w.$$.fragment),n(r,"type","button"),n(r,"class","btn circle btn-danger-dark text-slate-50 rounded-full min-w-0 min-h-0 w-auto h-auto"),n(l,"type","button"),n(l,"class","btn circle btn-primary text-slate-50 rounded-full min-w-0 min-h-0"),n(t,"class","flex gap-3 justify-center")},m(v,O){_(v,t,O),g(t,e),g(e,r),f[a].m(r,null),g(t,s),g(t,c),g(c,l),I(w,l,null),u=!0,d||(p=[V(r,"click",o[2]),V(l,"click",function(){at(o[0])&&o[0].apply(this,arguments)})],d=!0)},p(v,[O]){o=v;let H=a;a=h(o),a!==H&&(T(),z(f[H],1,1,()=>{f[H]=null}),B(),i=f[a],i||(i=f[a]=m[a](o),i.c()),k(i,1),i.m(r,null))},i(v){u||(k(i),k(w.$$.fragment,v),u=!0)},o(v){z(i),z(w.$$.fragment,v),u=!1},d(v){v&&$(t),f[a].d(),U(w),d=!1,tt(p)}}}function It(o,t,e){const r=ot();let a=!1,{onDownload:i=Y}=t;const s=()=>{if(!a){e(1,a=!0);return}r("close"),e(1,a=!1)};return o.$$set=c=>{"onDownload"in c&&e(0,i=c.onDownload)},[i,a,s]}class Ut extends F{constructor(t){super(),E(this,t,It,Lt,M,{onDownload:0})}}const rt={blur:{attr:"blur",displayName:"Blur",type:"range",min:0,max:30,defaultValue:0,unit:"px",displayUnit:"px"},brightness:{attr:"brightness",displayName:"Brightness",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},contrast:{attr:"contrast",displayName:"Contrast",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},grayscale:{attr:"grayscale",displayName:"Grayscale",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"},"hue-rotate":{attr:"hue-rotate",displayName:"Hue",type:"range",min:0,max:100,defaultValue:0,unit:"deg",displayUnit:"\xB0"},invert:{attr:"invert",displayName:"Invert",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"},opacity:{attr:"opacity",displayName:"Opacity",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},saturate:{attr:"saturate",displayName:"Saturate",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},sepia:{attr:"sepia",displayName:"Sepia",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"}},A=Object.values(rt),Ft=o=>Object.keys(o).reduce((t,e)=>{var r;return`${t} ${e}(${o[e]}${(r=rt[e])==null?void 0:r.unit})`},"");function K(o,t,e){const r=o.slice();return r[8]=t[e],r}function Q(o){let t,e,r=o[8].displayName+"",a,i,s,c;function l(){return o[7](o[8])}return{c(){t=b("li"),e=b("button"),a=et(r),i=C(),n(e,"type","button"),n(e,"class","btn"),N(e,"btn-info-dark",o[0].attr===o[8].attr),N(e,"btn-info-light",o[0].attr!==o[8].attr)},m(w,u){_(w,t,u),g(t,e),g(e,a),g(t,i),s||(c=V(e,"click",l),s=!0)},p(w,u){o=w,u&1&&N(e,"btn-info-dark",o[0].attr===o[8].attr),u&1&&N(e,"btn-info-light",o[0].attr!==o[8].attr)},d(w){w&&$(t),s=!1,c()}}}function Et(o){let t,e,r,a,i,s,c;function l(p){o[6](p)}let w={id:"color-pips",min:o[0].min,max:o[0].max,first:"label",last:"label",range:"min",float:!0,pips:!0,formatter:o[5]};o[1]!==void 0&&(w.values=o[1]),r=new nt({props:w}),it.push(()=>st(r,"values",l));let u=A,d=[];for(let p=0;p<u.length;p+=1)d[p]=Q(K(o,u,p));return{c(){t=b("div"),e=b("div"),L(r.$$.fragment),i=C(),s=b("ul");for(let p=0;p<d.length;p+=1)d[p].c();n(e,"class","max-w-md mx-auto flex-1 w-full text-xs"),n(s,"class","inline-flex justify-between items-center text-xs uppercase w-full h-16 gap-8 overflow-auto shrink-0"),n(t,"class","flex flex-col")},m(p,m){_(p,t,m),g(t,e),I(r,e,null),g(t,i),g(t,s);for(let f=0;f<d.length;f+=1)d[f].m(s,null);c=!0},p(p,[m]){const f={};if(m&1&&(f.min=p[0].min),m&1&&(f.max=p[0].max),m&1&&(f.formatter=p[5]),!a&&m&2&&(a=!0,f.values=p[1],lt(()=>a=!1)),r.$set(f),m&5){u=A;let h;for(h=0;h<u.length;h+=1){const v=K(p,u,h);d[h]?d[h].p(v,m):(d[h]=Q(v),d[h].c(),d[h].m(s,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=u.length}},i(p){c||(k(r.$$.fragment,p),c=!0)},o(p){z(r.$$.fragment,p),c=!1},d(p){p&&$(t),U(r),ct(d,p)}}}function Mt(o,t,e){const r={};let[a]=A,i=[a.defaultValue],{onFilterChange:s=Y}=t;const c=d=>{e(0,a=d),e(1,i=[Object.prototype.hasOwnProperty.call(r,a.attr)?r[a.attr]:a.defaultValue])},l=d=>`${d}${a.displayUnit}`;function w(d){i=d,e(1,i)}const u=d=>c(d);return o.$$set=d=>{"onFilterChange"in d&&e(3,s=d.onFilterChange)},o.$$.update=()=>{if(o.$$.dirty&27){const[d]=i;e(4,r[a.attr]=d,r),s(Ft(r))}},[a,i,c,s,r,l,w,u]}class Dt extends F{constructor(t){super(),E(this,t,Mt,Et,M,{onFilterChange:3})}}function Ot(o){let t,e,r,a,i,s,c,l,w,u,d;return l=new Ut({}),l.$on("close",o[2]),u=new Dt({props:{onFilterChange:o[3]}}),{c(){t=b("div"),e=b("div"),r=b("div"),a=b("img"),s=C(),c=b("div"),L(l.$$.fragment),w=C(),L(u.$$.fragment),W(a.src,i=o[0])||n(a,"src",i),n(a,"alt","ready for editing"),n(a,"class","h-auto max-h-[100%] mx-auto svelte-tr5dwu"),q(a,"--filter",o[1],!1),n(r,"class","h-auto lg:h-full max-h-[100%] mx-auto overflow-hidden flex items-center justify-center"),n(e,"class","overflow-hidden flex-1 flex items-center justify-center"),n(t,"class","flex flex-col editor gap-6 svelte-tr5dwu")},m(p,m){_(p,t,m),g(t,e),g(e,r),g(r,a),g(t,s),g(t,c),I(l,c,null),g(c,w),I(u,c,null),d=!0},p(p,[m]){(!d||m&1&&!W(a.src,i=p[0]))&&n(a,"src",i),m&2&&q(a,"--filter",p[1],!1);const f={};m&2&&(f.onFilterChange=p[3]),u.$set(f)},i(p){d||(k(l.$$.fragment,p),k(u.$$.fragment,p),d=!0)},o(p){z(l.$$.fragment,p),z(u.$$.fragment,p),d=!1},d(p){p&&$(t),U(l),U(u)}}}function Rt(o,t,e){let r="",{img:a=""}=t;function i(c){dt.call(this,o,c)}const s=c=>{e(1,r=c)};return o.$$set=c=>{"img"in c&&e(0,a=c.img)},[a,r,i,s]}class Ht extends F{constructor(t){super(),E(this,t,Rt,Ot,M,{img:0})}}const Vt=Object.freeze({maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0}),At=new Set(["jpg","jpeg","png","gif"]),Tt=o=>new Promise((t,e)=>{const r=new Image;r.src=o,r.onload=()=>t(r.width>1920||r.height>1920),r.onerror=a=>e(a)}),Bt=o=>{const t=o.slice(o.lastIndexOf(".")+1);return At.has(t)},Yt=async o=>{if(!Bt(o.name))throw new Error("Doesn't seem like a valid Image");const t=URL.createObjectURL(o);if(await Tt(t)){const r=await wt(o,Vt);return URL.createObjectURL(r)}return t};function J(o){let t,e,r,a,i,s,c;return r=new Ct({props:{className:"w-4 h-4"}}),{c(){t=b("div"),e=b("span"),L(r.$$.fragment),a=C(),i=b("span"),s=et(o[0]),n(t,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(l,w){_(l,t,w),g(t,e),I(r,e,null),g(t,a),g(t,i),g(i,s),c=!0},p(l,w){(!c||w&1)&&pt(s,l[0])},i(l){c||(k(r.$$.fragment,l),c=!0)},o(l){z(r.$$.fragment,l),c=!1},d(l){l&&$(t),U(r)}}}function Z(o){let t;return{c(){t=b("div"),t.innerHTML=`<span>Optimizing the image for your browser,</span> 
        <span>Please wait...</span>`,n(t,"class","absolute w-full h-full flex flex-col items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(e,r){_(e,t,r)},d(e){e&&$(t)}}}function Pt(o){let t,e,r,a,i,s,c,l,w,u,d,p,m,f,h,v,O,H,P;a=new $t({props:{className:"w-12 h-12"}});let y=o[0]&&J(o),j=o[1]&&Z();return{c(){t=b("form"),e=b("div"),r=b("div"),L(a.$$.fragment),i=C(),s=b("div"),s.innerHTML='<p class="text-lg">Drag and Drop</p>',c=C(),l=b("div"),l.innerHTML='<p class="text-sm italic">or</p>',w=C(),u=b("div"),d=b("label"),p=b("span"),p.textContent="Browse Image",m=C(),f=b("input"),h=C(),y&&y.c(),v=C(),j&&j.c(),n(r,"class","mb-6 flex justify-center"),n(s,"class","text-center mb-6"),n(l,"class","text-center mb-8"),n(f,"type","file"),n(f,"class","hidden"),n(f,"id","upload-image"),n(f,"accept","image/*"),n(d,"for","upload-image"),n(d,"class","btn cursor-pointer"),N(d,"btn-danger-dark",o[0]!==null),N(d,"btn-info-dark",o[0]===null),n(u,"class","flex justify-center"),n(e,"class","border border-dashed p-6"),N(e,"border-red-400",o[0]!==null),N(e,"border-gray-400",o[0]===null),n(t,"class","p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto"),N(t,"text-red-500",o[0]!==null),N(t,"text-gray-500",o[0]===null)},m(x,D){_(x,t,D),g(t,e),g(e,r),I(a,r,null),g(e,i),g(e,s),g(e,c),g(e,l),g(e,w),g(e,u),g(u,d),g(d,p),g(d,m),g(d,f),g(e,h),y&&y.m(e,null),g(e,v),j&&j.m(e,null),O=!0,H||(P=[V(f,"click",o[5]),V(f,"change",o[2]),V(t,"dragover",X(G(o[3]))),V(t,"drop",X(G(o[2])))],H=!0)},p(x,[D]){D&1&&N(d,"btn-danger-dark",x[0]!==null),D&1&&N(d,"btn-info-dark",x[0]===null),x[0]?y?(y.p(x,D),D&1&&k(y,1)):(y=J(x),y.c(),k(y,1),y.m(e,v)):y&&(T(),z(y,1,1,()=>{y=null}),B()),x[1]?j||(j=Z(),j.c(),j.m(e,null)):j&&(j.d(1),j=null),D&1&&N(e,"border-red-400",x[0]!==null),D&1&&N(e,"border-gray-400",x[0]===null),D&1&&N(t,"text-red-500",x[0]!==null),D&1&&N(t,"text-gray-500",x[0]===null)},i(x){O||(k(a.$$.fragment,x),k(y),O=!0)},o(x){z(a.$$.fragment,x),z(y),O=!1},d(x){x&&$(t),U(a),y&&y.d(),j&&j.d(),H=!1,tt(P)}}}function Wt(o,t,e){let r=null,a=!1,{onImgChange:i=Y}=t;const s=async w=>{const[u]=w.dataTransfer&&w.dataTransfer.files.length?w.dataTransfer.files:w.target.files;try{e(1,a=!0);const d=await Yt(u);i(d)}catch(d){e(0,r=d.message)}finally{e(1,a=!1)}w.target.value=""},c=w=>{w.dataTransfer.dropEffect="copy",e(0,r=null)},l=()=>{e(0,r=null)};return o.$$set=w=>{"onImgChange"in w&&e(4,i=w.onImgChange)},[r,a,s,c,i,l]}class qt extends F{constructor(t){super(),E(this,t,Wt,Pt,M,{onImgChange:4})}}function Xt(o){let t,e,r,a,i;return a=new qt({props:{onImgChange:o[2]}}),{c(){t=b("div"),t.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
      <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,e=C(),r=b("div"),L(a.$$.fragment),n(t,"class","mb-12 text-center")},m(s,c){_(s,t,c),_(s,e,c),_(s,r,c),I(a,r,null),i=!0},p(s,c){const l={};c&1&&(l.onImgChange=s[2]),a.$set(l)},i(s){i||(k(a.$$.fragment,s),i=!0)},o(s){z(a.$$.fragment,s),i=!1},d(s){s&&$(t),s&&$(e),s&&$(r),U(a)}}}function Gt(o){let t,e;return t=new Ht({props:{img:o[0]}}),t.$on("close",o[1]),{c(){L(t.$$.fragment)},m(r,a){I(t,r,a),e=!0},p(r,a){const i={};a&1&&(i.img=r[0]),t.$set(i)},i(r){e||(k(t.$$.fragment,r),e=!0)},o(r){z(t.$$.fragment,r),e=!1},d(r){U(t,r)}}}function Kt(o){let t,e,r,a;const i=[Gt,Xt],s=[];function c(l,w){return l[0]?0:1}return e=c(o),r=s[e]=i[e](o),{c(){t=b("div"),r.c()},m(l,w){_(l,t,w),s[e].m(t,null),a=!0},p(l,[w]){let u=e;e=c(l),e===u?s[e].p(l,w):(T(),z(s[u],1,1,()=>{s[u]=null}),B(),r=s[e],r?r.p(l,w):(r=s[e]=i[e](l),r.c()),k(r,1),r.m(t,null))},i(l){a||(k(r),a=!0)},o(l){z(r),a=!1},d(l){l&&$(t),s[e].d()}}}function Qt(o,t,e){let r=null;return[r,()=>{e(0,r=null)},s=>{e(0,r=s)}]}class Jt extends F{constructor(t){super(),E(this,t,Qt,Kt,M,{})}}function Zt(o){let t,e,r,a,i,s,c;return r=new bt({}),s=new Jt({}),{c(){t=b("main"),e=b("div"),L(r.$$.fragment),a=C(),i=b("div"),L(s.$$.fragment),n(i,"class","container mx-auto"),n(t,"class","px-2")},m(l,w){_(l,t,w),g(t,e),I(r,e,null),g(t,a),g(t,i),I(s,i,null),c=!0},p:S,i(l){c||(k(r.$$.fragment,l),k(s.$$.fragment,l),c=!0)},o(l){z(r.$$.fragment,l),z(s.$$.fragment,l),c=!1},d(l){l&&$(t),U(r),U(s)}}}class te extends F{constructor(t){super(),E(this,t,null,Zt,M,{})}}new te({target:document.getElementById("app")});export{ee as __vite_legacy_guard};
