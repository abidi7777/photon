import{S as E,i as O,s as R,e as b,a as l,b as x,n as N,d as v,t as at,c as S,f as j,g as p,l as A,h as P,j as $,k as W,m as _,o as it,R as st,p as lt,q as ct,r as I,u as L,v as dt,w as F,x as X,y as G,z as D,A as wt,B as pt,C as K,D as Q,E as bt}from"./vendor.3182f082.js";function qt(){import("data:text/javascript,")}const gt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};gt();function ut(o){let t;return{c(){t=b("div"),t.innerHTML='<button type="button" class="photon-logo"><span>P</span></button>',l(t,"class","py-4 w-full container mx-auto")},m(r,e){x(r,t,e)},p:N,i:N,o:N,d(r){r&&v(t)}}}class ft extends E{constructor(t){super(),O(this,t,null,ut,R,{})}}const ot={blur:{attr:"blur",displayName:"Blur",type:"range",min:0,max:100,defaultValue:0,unit:"px"},brightness:{attr:"brightness",displayName:"Brightness",type:"range",min:0,max:100,defaultValue:100,unit:"%"},contrast:{attr:"contrast",displayName:"Contrast",type:"range",min:0,max:100,defaultValue:100,unit:"%"},"drop-shadow":{attr:"drop-shadow",displayName:"Drop shadow",type:"text",min:0,max:100,defaultValue:"0 0 0 transparent",unit:""},grayscale:{attr:"grayscale",displayName:"Grayscale",type:"range",min:0,max:100,defaultValue:0,unit:"%"},"hue-rotate":{attr:"hue-rotate",displayName:"Hue",type:"range",min:0,max:100,defaultValue:0,unit:"deg"},invert:{attr:"invert",displayName:"Invert",type:"range",min:0,max:100,defaultValue:0,unit:"%"},opacity:{attr:"opacity",displayName:"Opacity",type:"range",min:0,max:100,defaultValue:100,unit:"%"},saturate:{attr:"saturate",displayName:"Saturate",type:"range",min:0,max:100,defaultValue:0,unit:"%"},sepia:{attr:"sepia",displayName:"Sepia",type:"range",min:0,max:100,defaultValue:0,unit:"%"}},Y=Object.values(ot),J=o=>Object.keys(o).reduce((t,r)=>{var e;return`${t} ${r}(${o[r]}${(e=ot[r])==null?void 0:e.unit})`},""),mt=(o,t)=>{const{style:r}=new Option;return r[o]=t,Boolean(r[o])},nt=()=>{};function Z(o,t,r){const e=o.slice();return e[9]=t[r],e}function ht(o){let t,r,e,a,i;return{c(){t=b("input"),r=S(),e=b("span"),e.textContent="e.g. 16px 16px 10px black",l(t,"type","text"),l(t,"placeholder","offset-x offset-y blur-radius color"),l(t,"class","w-full pb-1 outline-none bg-transparent border-0 border-b border-b-black mb-4"),l(e,"class","italic text-xs")},m(n,c){x(n,t,c),x(n,r,c),x(n,e,c),a||(i=A(t,"input",o[7]),a=!0)},p:N,i:N,o:N,d(n){n&&v(t),n&&v(r),n&&v(e),a=!1,i()}}}function xt(o){let t,r,e;function a(n){o[6](n)}let i={id:"color-pips",min:o[0].min,max:o[0].max,first:"label",last:"label",range:"min",float:!0,pips:!0,formatter:o[5]};return o[1]!==void 0&&(i.values=o[1]),t=new st({props:i}),lt.push(()=>ct(t,"values",a)),{c(){I(t.$$.fragment)},m(n,c){L(t,n,c),e=!0},p(n,c){const s={};c&1&&(s.min=n[0].min),c&1&&(s.max=n[0].max),c&1&&(s.formatter=n[5]),!r&&c&2&&(r=!0,s.values=n[1],dt(()=>r=!1)),t.$set(s)},i(n){e||(_(t.$$.fragment,n),e=!0)},o(n){$(t.$$.fragment,n),e=!1},d(n){F(t,n)}}}function tt(o){let t,r,e=o[9].displayName+"",a,i,n,c,s;function d(){return o[8](o[9])}return{c(){t=b("li"),r=b("button"),a=at(e),n=S(),l(r,"type","button"),l(r,"class",i=j("btn",{"btn-info-dark":o[0].attr===o[9].attr},{"btn-info-light":o[0].attr!==o[9].attr}))},m(f,u){x(f,t,u),p(t,r),p(r,a),p(t,n),c||(s=A(r,"click",d),c=!0)},p(f,u){o=f,u&1&&i!==(i=j("btn",{"btn-info-dark":o[0].attr===o[9].attr},{"btn-info-light":o[0].attr!==o[9].attr}))&&l(r,"class",i)},d(f){f&&v(t),c=!1,s()}}}function vt(o){let t,r,e,a,i,n,c;const s=[xt,ht],d=[];function f(g,y){return g[0].type==="range"?0:g[0].type==="text"?1:-1}~(e=f(o))&&(a=d[e]=s[e](o));let u=Y,w=[];for(let g=0;g<u.length;g+=1)w[g]=tt(Z(o,u,g));return{c(){t=b("div"),r=b("div"),a&&a.c(),i=S(),n=b("ul");for(let g=0;g<w.length;g+=1)w[g].c();l(r,"class","max-w-md mx-auto flex-1 w-full"),l(n,"class","inline-flex justify-between items-center text-xs uppercase w-full h-24 gap-8 overflow-auto shrink-0"),l(t,"class","flex flex-col")},m(g,y){x(g,t,y),p(t,r),~e&&d[e].m(r,null),p(t,i),p(t,n);for(let C=0;C<w.length;C+=1)w[C].m(n,null);c=!0},p(g,[y]){let C=e;if(e=f(g),e===C?~e&&d[e].p(g,y):(a&&(P(),$(d[C],1,1,()=>{d[C]=null}),W()),~e?(a=d[e],a?a.p(g,y):(a=d[e]=s[e](g),a.c()),_(a,1),a.m(r,null)):a=null),y&5){u=Y;let k;for(k=0;k<u.length;k+=1){const M=Z(g,u,k);w[k]?w[k].p(M,y):(w[k]=tt(M),w[k].c(),w[k].m(n,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=u.length}},i(g){c||(_(a),c=!0)},o(g){$(a),c=!1},d(g){g&&v(t),~e&&d[e].d(),it(w,g)}}}function yt(o,t,r){const e={};let[a]=Y,i=[a.defaultValue],{onFilterChange:n=nt}=t;const c=w=>{r(0,a=w),r(1,i=[Object.prototype.hasOwnProperty.call(e,a.attr)?e[a.attr]:a.defaultValue])},s=w=>`${w}${a.unit}`;function d(w){i=w,r(1,i)}const f=w=>{r(1,i[0]=w.target.value,i)},u=w=>c(w);return o.$$set=w=>{"onFilterChange"in w&&r(3,n=w.onFilterChange)},o.$$.update=()=>{if(o.$$.dirty&27&&a.type!=="text"){const[w]=i;r(4,e[a.attr]=w,e),n(J(e))}if(o.$$.dirty&27&&a.type==="text"){const[w]=i,g=`${a.attr}(${w})`;r(4,e[a.attr]=w,e),mt("filter",g)&&n(J(e))}},[a,i,c,n,e,s,d,f,u]}class kt extends E{constructor(t){super(),O(this,t,yt,vt,R,{onFilterChange:3})}}function _t(o){let t,r,e,a,i,n,c;return n=new kt({props:{onFilterChange:o[2]}}),{c(){t=b("div"),r=b("div"),e=b("img"),i=S(),I(n.$$.fragment),X(e.src,a=o[0])||l(e,"src",a),l(e,"alt","ready for editing"),l(e,"class","h-auto max-h-[100%] mx-auto svelte-tr5dwu"),G(e,"--filter",o[1],!1),l(r,"class","overflow-hidden flex-1 flex items-center justify-center"),l(t,"class","flex flex-col editor gap-6 svelte-tr5dwu")},m(s,d){x(s,t,d),p(t,r),p(r,e),p(t,i),L(n,t,null),c=!0},p(s,[d]){(!c||d&1&&!X(e.src,a=s[0]))&&l(e,"src",a),d&2&&G(e,"--filter",s[1],!1);const f={};d&2&&(f.onFilterChange=s[2]),n.$set(f)},i(s){c||(_(n.$$.fragment,s),c=!0)},o(s){$(n.$$.fragment,s),c=!1},d(s){s&&v(t),F(n)}}}function $t(o,t,r){let e="",{img:a=""}=t;const i=n=>{r(1,e=n)};return o.$$set=n=>{"img"in n&&r(0,a=n.img)},[a,e,i]}class zt extends E{constructor(t){super(),O(this,t,$t,_t,R,{img:0})}}function St(o){let t,r;return{c(){t=D("svg"),r=D("path"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class",o[0]),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor"),l(t,"stroke-width","2")},m(e,a){x(e,t,a),p(t,r)},p(e,[a]){a&1&&l(t,"class",e[0])},i:N,o:N,d(e){e&&v(t)}}}function Ct(o,t,r){let{className:e}=t;return o.$$set=a=>{"className"in a&&r(0,e=a.className)},[e]}class Nt extends E{constructor(t){super(),O(this,t,Ct,St,R,{className:0})}}function jt(o){let t,r;return{c(){t=D("svg"),r=D("path"),l(r,"stroke-linecap","round"),l(r,"stroke-linejoin","round"),l(r,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class",o[0]),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor"),l(t,"stroke-width","2")},m(e,a){x(e,t,a),p(t,r)},p(e,[a]){a&1&&l(t,"class",e[0])},i:N,o:N,d(e){e&&v(t)}}}function It(o,t,r){let{className:e}=t;return o.$$set=a=>{"className"in a&&r(0,e=a.className)},[e]}class Lt extends E{constructor(t){super(),O(this,t,It,jt,R,{className:0})}}const Ft=Object.freeze({maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0}),Et=new Set(["jpg","jpeg","png","gif"]),Ot=o=>new Promise((t,r)=>{const e=new Image;e.src=o,e.onload=()=>t(e.width>1920||e.height>1920),e.onerror=a=>r(a)}),Rt=o=>{const t=o.slice(o.lastIndexOf(".")+1);return Et.has(t)},Vt=async o=>{if(!Rt(o.name))throw new Error("Doesn't seem like a valid Image");const t=URL.createObjectURL(o);if(await Ot(t)){const e=await wt(o,Ft);return URL.createObjectURL(e)}return t};function et(o){let t,r,e,a,i,n,c;return e=new Lt({props:{className:"w-4 h-4"}}),{c(){t=b("div"),r=b("span"),I(e.$$.fragment),a=S(),i=b("span"),n=at(o[0]),l(t,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(s,d){x(s,t,d),p(t,r),L(e,r,null),p(t,a),p(t,i),p(i,n),c=!0},p(s,d){(!c||d&1)&&pt(n,s[0])},i(s){c||(_(e.$$.fragment,s),c=!0)},o(s){$(e.$$.fragment,s),c=!1},d(s){s&&v(t),F(e)}}}function rt(o){let t;return{c(){t=b("div"),t.innerHTML=`<span>Optimizing the image for your browser,</span> 
        <span>Please wait...</span>`,l(t,"class","absolute w-full h-full flex flex-col items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(r,e){x(r,t,e)},d(r){r&&v(t)}}}function Ut(o){let t,r,e,a,i,n,c,s,d,f,u,w,g,y,C,k,M,H,T,V,B,q;a=new Nt({props:{className:"w-12 h-12"}});let m=o[0]&&et(o),z=o[1]&&rt();return{c(){t=b("form"),r=b("div"),e=b("div"),I(a.$$.fragment),i=S(),n=b("div"),n.innerHTML='<p class="text-lg">Drag and Drop</p>',c=S(),s=b("div"),s.innerHTML='<p class="text-sm italic">or</p>',d=S(),f=b("div"),u=b("label"),w=b("span"),w.textContent="Browse Image",g=S(),y=b("input"),k=S(),m&&m.c(),M=S(),z&&z.c(),l(e,"class","mb-6 flex justify-center"),l(n,"class","text-center mb-6"),l(s,"class","text-center mb-8"),l(y,"type","file"),l(y,"class","hidden"),l(y,"id","upload-image"),l(y,"accept","image/*"),l(u,"for","upload-image"),l(u,"class",C=j("btn cursor-pointer",{"btn-danger-dark":o[0]},{"btn-info-dark":!o[0]})),l(f,"class","flex justify-center"),l(r,"class",H=j("border border-dashed p-6",{"border-red-400":o[0]},{"border-gray-400":!o[0]})),l(t,"class",T=j("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":o[0]},{"text-gray-500":!o[0]}))},m(h,U){x(h,t,U),p(t,r),p(r,e),L(a,e,null),p(r,i),p(r,n),p(r,c),p(r,s),p(r,d),p(r,f),p(f,u),p(u,w),p(u,g),p(u,y),p(r,k),m&&m.m(r,null),p(r,M),z&&z.m(r,null),V=!0,B||(q=[A(y,"click",o[5]),A(y,"change",o[2]),A(t,"dragover",K(Q(o[3]))),A(t,"drop",K(Q(o[2])))],B=!0)},p(h,[U]){(!V||U&1&&C!==(C=j("btn cursor-pointer",{"btn-danger-dark":h[0]},{"btn-info-dark":!h[0]})))&&l(u,"class",C),h[0]?m?(m.p(h,U),U&1&&_(m,1)):(m=et(h),m.c(),_(m,1),m.m(r,M)):m&&(P(),$(m,1,1,()=>{m=null}),W()),h[1]?z||(z=rt(),z.c(),z.m(r,null)):z&&(z.d(1),z=null),(!V||U&1&&H!==(H=j("border border-dashed p-6",{"border-red-400":h[0]},{"border-gray-400":!h[0]})))&&l(r,"class",H),(!V||U&1&&T!==(T=j("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":h[0]},{"text-gray-500":!h[0]})))&&l(t,"class",T)},i(h){V||(_(a.$$.fragment,h),_(m),V=!0)},o(h){$(a.$$.fragment,h),$(m),V=!1},d(h){h&&v(t),F(a),m&&m.d(),z&&z.d(),B=!1,bt(q)}}}function Mt(o,t,r){let e=null,a=!1,{onImgChange:i=nt}=t;const n=async d=>{const[f]=d.dataTransfer&&d.dataTransfer.files.length?d.dataTransfer.files:d.target.files;try{r(1,a=!0);const u=await Vt(f);i(u)}catch(u){r(0,e=u.message)}finally{r(1,a=!1)}d.target.value=""},c=d=>{d.dataTransfer.dropEffect="copy",r(0,e=null)},s=()=>{r(0,e=null)};return o.$$set=d=>{"onImgChange"in d&&r(4,i=d.onImgChange)},[e,a,n,c,i,s]}class At extends E{constructor(t){super(),O(this,t,Mt,Ut,R,{onImgChange:4})}}function Ht(o){let t,r,e,a,i;return a=new At({props:{onImgChange:o[1]}}),{c(){t=b("div"),t.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
      <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,r=S(),e=b("div"),I(a.$$.fragment),l(t,"class","mb-12 text-center")},m(n,c){x(n,t,c),x(n,r,c),x(n,e,c),L(a,e,null),i=!0},p(n,c){const s={};c&1&&(s.onImgChange=n[1]),a.$set(s)},i(n){i||(_(a.$$.fragment,n),i=!0)},o(n){$(a.$$.fragment,n),i=!1},d(n){n&&v(t),n&&v(r),n&&v(e),F(a)}}}function Tt(o){let t,r;return t=new zt({props:{img:o[0]}}),{c(){I(t.$$.fragment)},m(e,a){L(t,e,a),r=!0},p(e,a){const i={};a&1&&(i.img=e[0]),t.$set(i)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Dt(o){let t,r,e,a;const i=[Tt,Ht],n=[];function c(s,d){return s[0]?0:1}return r=c(o),e=n[r]=i[r](o),{c(){t=b("div"),e.c()},m(s,d){x(s,t,d),n[r].m(t,null),a=!0},p(s,[d]){let f=r;r=c(s),r===f?n[r].p(s,d):(P(),$(n[f],1,1,()=>{n[f]=null}),W(),e=n[r],e?e.p(s,d):(e=n[r]=i[r](s),e.c()),_(e,1),e.m(t,null))},i(s){a||(_(e),a=!0)},o(s){$(e),a=!1},d(s){s&&v(t),n[r].d()}}}function Bt(o,t,r){let e=null;return[e,i=>{r(0,e=i)}]}class Yt extends E{constructor(t){super(),O(this,t,Bt,Dt,R,{})}}function Pt(o){let t,r,e,a,i,n,c;return e=new ft({}),n=new Yt({}),{c(){t=b("main"),r=b("div"),I(e.$$.fragment),a=S(),i=b("div"),I(n.$$.fragment),l(i,"class","container mx-auto"),l(t,"class","px-2")},m(s,d){x(s,t,d),p(t,r),L(e,r,null),p(t,a),p(t,i),L(n,i,null),c=!0},p:N,i(s){c||(_(e.$$.fragment,s),_(n.$$.fragment,s),c=!0)},o(s){$(e.$$.fragment,s),$(n.$$.fragment,s),c=!1},d(s){s&&v(t),F(e),F(n)}}}class Wt extends E{constructor(t){super(),O(this,t,null,Pt,R,{})}}new Wt({target:document.getElementById("app")});export{qt as __vite_legacy_guard};
