function __vite_legacy_guard(){import("data:text/javascript,")}const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}};p();function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null)return noop;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}const is_client=typeof window!="undefined";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(i=>{tasks.add(t={c:e,f:i})}),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function insert(e,t,i){e.insertBefore(t,i||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,i,r){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_style(e,t,i,r){i===null?e.style.removeProperty(t):e.style.setProperty(t,i,r?"important":"")}function toggle_class(e,t,i){e.classList[i?"add":"remove"](t)}function custom_event(e,t,{bubbles:i=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i,r,t),n}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function createEventDispatcher(){const e=get_current_component();return(t,i,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[t];if(n){const a=custom_event(t,i,{cancelable:r});return n.slice().forEach(l=>{l.call(e,a)}),!a.defaultPrevented}return!0}}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const i=render_callbacks[t];seen_callbacks.has(i)||(seen_callbacks.add(i),i())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,i,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),r&&(i&&e.d(1),r())}),e.o(t)}}function bind(e,t,i){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=i,i(e.$$.ctx[r]))}function create_component(e){e&&e.c()}function mount_component(e,t,i,r){const{fragment:n,on_mount:a,on_destroy:l,after_update:s}=e.$$;n&&n.m(t,i),r||add_render_callback(()=>{const f=a.map(run).filter(is_function);l?l.push(...f):run_all(f),e.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(e,t){const i=e.$$;i.fragment!==null&&(run_all(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,i,r,n,a,l,s=[-1]){const f=current_component;set_current_component(e);const c=e.$$={fragment:null,ctx:null,props:a,update:noop,not_equal:n,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:t.target||f.$$.root};l&&l(c.root);let h=!1;if(c.ctx=i?i(e,t.props||{},(g,d,...u)=>{const m=u.length?u[0]:d;return c.ctx&&n(c.ctx[g],c.ctx[g]=m)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](m),h&&make_dirty(e,g)),d}):[],c.update(),h=!0,run_all(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const g=children(t.target);c.fragment&&c.fragment.l(g),g.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(f)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,i){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(i),()=>{const n=r.indexOf(i);n!==-1&&r.splice(n,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function create_fragment$9(e){let t;return{c(){t=element("div"),t.innerHTML='<button type="button" class="photon-logo"><span>P</span></button>',attr(t,"class","py-4 w-full container mx-auto")},m(i,r){insert(i,t,r)},p:noop,i:noop,o:noop,d(i){i&&detach(t)}}}class Header extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$9,safe_not_equal,{})}}const subscriber_queue=[];function writable(e,t=noop){let i;const r=new Set;function n(s){if(safe_not_equal(e,s)&&(e=s,i)){const f=!subscriber_queue.length;for(const c of r)c[1](),subscriber_queue.push(c,e);if(f){for(let c=0;c<subscriber_queue.length;c+=2)subscriber_queue[c][0](subscriber_queue[c+1]);subscriber_queue.length=0}}}function a(s){n(s(e))}function l(s,f=noop){const c=[s,f];return r.add(c),r.size===1&&(i=t(n)||noop),s(e),()=>{r.delete(c),r.size===0&&(i(),i=null)}}return{set:n,update:a,subscribe:l}}function is_date(e){return Object.prototype.toString.call(e)==="[object Date]"}function tick_spring(e,t,i,r){if(typeof i=="number"||is_date(i)){const n=r-i,a=(i-t)/(e.dt||1/60),l=e.opts.stiffness*n,s=e.opts.damping*a,f=(l-s)*e.inv_mass,c=(a+f)*e.dt;return Math.abs(c)<e.opts.precision&&Math.abs(n)<e.opts.precision?r:(e.settled=!1,is_date(i)?new Date(i.getTime()+c):i+c)}else{if(Array.isArray(i))return i.map((n,a)=>tick_spring(e,t[a],i[a],r[a]));if(typeof i=="object"){const n={};for(const a in i)n[a]=tick_spring(e,t[a],i[a],r[a]);return n}else throw new Error(`Cannot spring ${typeof i} values`)}}function spring(e,t={}){const i=writable(e),{stiffness:r=.15,damping:n=.8,precision:a=.01}=t;let l,s,f,c=e,h=e,g=1,d=0,u=!1;function m(b,y={}){h=b;const E=f={};if(e==null||y.hard||w.stiffness>=1&&w.damping>=1)return u=!0,l=now(),c=b,i.set(e=h),Promise.resolve();if(y.soft){const _=y.soft===!0?.5:+y.soft;d=1/(_*60),g=0}return s||(l=now(),u=!1,s=loop(_=>{if(u)return u=!1,s=null,!1;g=Math.min(g+d,1);const A={inv_mass:g,opts:w,settled:!0,dt:(_-l)*60/1e3},C=tick_spring(A,c,e,h);return l=_,c=e,i.set(e=C),A.settled&&(s=null),!A.settled})),new Promise(_=>{s.promise.then(()=>{E===f&&_()})})}const w={set:m,update:(b,y)=>m(b(h,e),y),subscribe:i.subscribe,stiffness:r,damping:n,precision:a};return w}var RangePips_svelte_svelte_type_style_lang=(()=>`.rangeSlider{--pip:var(--range-pip,#789);--pip-text:var(--range-pip-text,var(--pip));--pip-active:var(--range-pip-active,#2f4f4f);--pip-active-text:var(--range-pip-active-text,var(--pip-active));--pip-hover:var(--range-pip-hover,#2f4f4f);--pip-hover-text:var(--range-pip-hover-text,var(--pip-hover));--pip-in-range:var(--range-pip-in-range,var(--pip-active));--pip-in-range-text:var(--range-pip-in-range-text,var(--pip-active-text))}.rangePips{bottom:-1em;height:1em;left:0;position:absolute;right:0}.rangePips.vertical{bottom:0;height:auto;left:100%;right:auto;top:0;width:1em}.rangePips .pip{height:.4em;position:absolute;top:.25em;white-space:nowrap;width:1px}.rangePips.vertical .pip{bottom:auto;height:1px;left:.25em;top:auto;width:.4em}.rangePips .pipVal{position:absolute;top:.4em;transform:translate(-50%,25%)}.rangePips.vertical .pipVal{left:.4em;position:absolute;top:0;transform:translate(25%,-50%)}.rangePips .pip{transition:all .15s ease}.rangePips .pipVal{transition:all .15s ease,font-weight 0s linear}.rangePips .pip{background-color:#789;background-color:var(--pip);color:#789;color:var(--pip-text)}.rangePips .pip.selected{background-color:#2f4f4f;background-color:var(--pip-active);color:#2f4f4f;color:var(--pip-active-text)}.rangePips.hoverable:not(.disabled) .pip:hover{background-color:#2f4f4f;background-color:var(--pip-hover);color:#2f4f4f;color:var(--pip-hover-text)}.rangePips .pip.in-range{background-color:#2f4f4f;background-color:var(--pip-in-range);color:#2f4f4f;color:var(--pip-in-range-text)}.rangePips .pip.selected{height:.75em}.rangePips.vertical .pip.selected{height:1px;width:.75em}.rangePips .pip.selected .pipVal{font-weight:700;top:.75em}.rangePips.vertical .pip.selected .pipVal{left:.75em;top:0}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover{transition:none}.rangePips.hoverable:not(.disabled) .pip:not(.selected):hover .pipVal{font-weight:700;transition:none}
`)();function get_each_context$2(e,t,i){const r=e.slice();return r[28]=t[i],r[30]=i,r}function create_if_block_9(e){let t,i,r,n,a=(e[6]==="label"||e[7]==="label")&&create_if_block_10(e);return{c(){t=element("span"),a&&a.c(),attr(t,"class","pip first"),attr(t,"style",i=e[14]+": 0%;"),toggle_class(t,"selected",e[18](e[0])),toggle_class(t,"in-range",e[17](e[0]))},m(l,s){insert(l,t,s),a&&a.m(t,null),r||(n=[listen(t,"click",function(){is_function(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),listen(t,"touchend",prevent_default(function(){is_function(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(l,s){e=l,e[6]==="label"||e[7]==="label"?a?a.p(e,s):(a=create_if_block_10(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&i!==(i=e[14]+": 0%;")&&attr(t,"style",i),s&262145&&toggle_class(t,"selected",e[18](e[0])),s&131073&&toggle_class(t,"in-range",e[17](e[0]))},d(l){l&&detach(t),a&&a.d(),r=!1,run_all(n)}}}function create_if_block_10(e){let t,i=e[12](e[16](e[0]),0,0)+"",r,n=e[10]&&create_if_block_12(e),a=e[11]&&create_if_block_11(e);return{c(){t=element("span"),n&&n.c(),r=text(i),a&&a.c(),attr(t,"class","pipVal")},m(l,s){insert(l,t,s),n&&n.m(t,null),append(t,r),a&&a.m(t,null)},p(l,s){l[10]?n?n.p(l,s):(n=create_if_block_12(l),n.c(),n.m(t,r)):n&&(n.d(1),n=null),s&69633&&i!==(i=l[12](l[16](l[0]),0,0)+"")&&set_data(r,i),l[11]?a?a.p(l,s):(a=create_if_block_11(l),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(l){l&&detach(t),n&&n.d(),a&&a.d()}}}function create_if_block_12(e){let t,i;return{c(){t=element("span"),i=text(e[10]),attr(t,"class","pipVal-prefix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&1024&&set_data(i,r[10])},d(r){r&&detach(t)}}}function create_if_block_11(e){let t,i;return{c(){t=element("span"),i=text(e[11]),attr(t,"class","pipVal-suffix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&2048&&set_data(i,r[11])},d(r){r&&detach(t)}}}function create_if_block_4$1(e){let t,i=Array(e[20]+1),r=[];for(let n=0;n<i.length;n+=1)r[n]=create_each_block$2(get_each_context$2(e,i,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();t=empty()},m(n,a){for(let l=0;l<r.length;l+=1)r[l].m(n,a);insert(n,t,a)},p(n,a){if(a&4120131){i=Array(n[20]+1);let l;for(l=0;l<i.length;l+=1){const s=get_each_context$2(n,i,l);r[l]?r[l].p(s,a):(r[l]=create_each_block$2(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=i.length}},d(n){destroy_each(r,n),n&&detach(t)}}}function create_if_block_5(e){let t,i,r,n,a,l=(e[6]==="label"||e[9]==="label")&&create_if_block_6(e);return{c(){t=element("span"),l&&l.c(),i=space(),attr(t,"class","pip"),attr(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),toggle_class(t,"selected",e[18](e[19](e[30]))),toggle_class(t,"in-range",e[17](e[19](e[30])))},m(s,f){insert(s,t,f),l&&l.m(t,null),append(t,i),n||(a=[listen(t,"click",function(){is_function(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),listen(t,"touchend",prevent_default(function(){is_function(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],n=!0)},p(s,f){e=s,e[6]==="label"||e[9]==="label"?l?l.p(e,f):(l=create_if_block_6(e),l.c(),l.m(t,i)):l&&(l.d(1),l=null),f&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&attr(t,"style",r),f&786432&&toggle_class(t,"selected",e[18](e[19](e[30]))),f&655360&&toggle_class(t,"in-range",e[17](e[19](e[30])))},d(s){s&&detach(t),l&&l.d(),n=!1,run_all(a)}}}function create_if_block_6(e){let t,i=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,n=e[10]&&create_if_block_8(e),a=e[11]&&create_if_block_7(e);return{c(){t=element("span"),n&&n.c(),r=text(i),a&&a.c(),attr(t,"class","pipVal")},m(l,s){insert(l,t,s),n&&n.m(t,null),append(t,r),a&&a.m(t,null)},p(l,s){l[10]?n?n.p(l,s):(n=create_if_block_8(l),n.c(),n.m(t,r)):n&&(n.d(1),n=null),s&561152&&i!==(i=l[12](l[19](l[30]),l[30],l[15](l[19](l[30])))+"")&&set_data(r,i),l[11]?a?a.p(l,s):(a=create_if_block_7(l),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(l){l&&detach(t),n&&n.d(),a&&a.d()}}}function create_if_block_8(e){let t,i;return{c(){t=element("span"),i=text(e[10]),attr(t,"class","pipVal-prefix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&1024&&set_data(i,r[10])},d(r){r&&detach(t)}}}function create_if_block_7(e){let t,i;return{c(){t=element("span"),i=text(e[11]),attr(t,"class","pipVal-suffix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&2048&&set_data(i,r[11])},d(r){r&&detach(t)}}}function create_each_block$2(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],i,r=t&&create_if_block_5(e);return{c(){r&&r.c(),i=empty()},m(n,a){r&&r.m(n,a),insert(n,i,a)},p(n,a){a&524291&&(t=n[19](n[30])!==n[0]&&n[19](n[30])!==n[1]),t?r?r.p(n,a):(r=create_if_block_5(n),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&detach(i)}}}function create_if_block$4(e){let t,i,r,n,a=(e[6]==="label"||e[8]==="label")&&create_if_block_1$3(e);return{c(){t=element("span"),a&&a.c(),attr(t,"class","pip last"),attr(t,"style",i=e[14]+": 100%;"),toggle_class(t,"selected",e[18](e[1])),toggle_class(t,"in-range",e[17](e[1]))},m(l,s){insert(l,t,s),a&&a.m(t,null),r||(n=[listen(t,"click",function(){is_function(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),listen(t,"touchend",prevent_default(function(){is_function(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(l,s){e=l,e[6]==="label"||e[8]==="label"?a?a.p(e,s):(a=create_if_block_1$3(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&i!==(i=e[14]+": 100%;")&&attr(t,"style",i),s&262146&&toggle_class(t,"selected",e[18](e[1])),s&131074&&toggle_class(t,"in-range",e[17](e[1]))},d(l){l&&detach(t),a&&a.d(),r=!1,run_all(n)}}}function create_if_block_1$3(e){let t,i=e[12](e[16](e[1]),e[20],100)+"",r,n=e[10]&&create_if_block_3$1(e),a=e[11]&&create_if_block_2$1(e);return{c(){t=element("span"),n&&n.c(),r=text(i),a&&a.c(),attr(t,"class","pipVal")},m(l,s){insert(l,t,s),n&&n.m(t,null),append(t,r),a&&a.m(t,null)},p(l,s){l[10]?n?n.p(l,s):(n=create_if_block_3$1(l),n.c(),n.m(t,r)):n&&(n.d(1),n=null),s&1118210&&i!==(i=l[12](l[16](l[1]),l[20],100)+"")&&set_data(r,i),l[11]?a?a.p(l,s):(a=create_if_block_2$1(l),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(l){l&&detach(t),n&&n.d(),a&&a.d()}}}function create_if_block_3$1(e){let t,i;return{c(){t=element("span"),i=text(e[10]),attr(t,"class","pipVal-prefix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&1024&&set_data(i,r[10])},d(r){r&&detach(t)}}}function create_if_block_2$1(e){let t,i;return{c(){t=element("span"),i=text(e[11]),attr(t,"class","pipVal-suffix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n&2048&&set_data(i,r[11])},d(r){r&&detach(t)}}}function create_fragment$8(e){let t,i,r,n=(e[6]&&e[7]!==!1||e[7])&&create_if_block_9(e),a=(e[6]&&e[9]!==!1||e[9])&&create_if_block_4$1(e),l=(e[6]&&e[8]!==!1||e[8])&&create_if_block$4(e);return{c(){t=element("div"),n&&n.c(),i=space(),a&&a.c(),r=space(),l&&l.c(),attr(t,"class","rangePips"),toggle_class(t,"disabled",e[5]),toggle_class(t,"hoverable",e[4]),toggle_class(t,"vertical",e[2]),toggle_class(t,"reversed",e[3]),toggle_class(t,"focus",e[13])},m(s,f){insert(s,t,f),n&&n.m(t,null),append(t,i),a&&a.m(t,null),append(t,r),l&&l.m(t,null)},p(s,[f]){s[6]&&s[7]!==!1||s[7]?n?n.p(s,f):(n=create_if_block_9(s),n.c(),n.m(t,i)):n&&(n.d(1),n=null),s[6]&&s[9]!==!1||s[9]?a?a.p(s,f):(a=create_if_block_4$1(s),a.c(),a.m(t,r)):a&&(a.d(1),a=null),s[6]&&s[8]!==!1||s[8]?l?l.p(s,f):(l=create_if_block$4(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null),f&32&&toggle_class(t,"disabled",s[5]),f&16&&toggle_class(t,"hoverable",s[4]),f&4&&toggle_class(t,"vertical",s[2]),f&8&&toggle_class(t,"reversed",s[3]),f&8192&&toggle_class(t,"focus",s[13])},i:noop,o:noop,d(s){s&&detach(t),n&&n.d(),a&&a.d(),l&&l.d()}}}function instance$7(e,t,i){let r,n,a,l,s,{range:f=!1}=t,{min:c=0}=t,{max:h=100}=t,{step:g=1}=t,{values:d=[(h+c)/2]}=t,{vertical:u=!1}=t,{reversed:m=!1}=t,{hoverable:w=!0}=t,{disabled:b=!1}=t,{pipstep:y=void 0}=t,{all:E=!0}=t,{first:_=void 0}=t,{last:A=void 0}=t,{rest:C=void 0}=t,{prefix:U=""}=t,{suffix:k=""}=t,{formatter:P=(S,x)=>S}=t,{focus:F=void 0}=t,{orientationStart:I=void 0}=t,{percentOf:O=void 0}=t,{moveHandle:R=void 0}=t,{fixFloat:G=void 0}=t;function M(S){b||R(void 0,S)}return e.$$set=S=>{"range"in S&&i(22,f=S.range),"min"in S&&i(0,c=S.min),"max"in S&&i(1,h=S.max),"step"in S&&i(23,g=S.step),"values"in S&&i(24,d=S.values),"vertical"in S&&i(2,u=S.vertical),"reversed"in S&&i(3,m=S.reversed),"hoverable"in S&&i(4,w=S.hoverable),"disabled"in S&&i(5,b=S.disabled),"pipstep"in S&&i(25,y=S.pipstep),"all"in S&&i(6,E=S.all),"first"in S&&i(7,_=S.first),"last"in S&&i(8,A=S.last),"rest"in S&&i(9,C=S.rest),"prefix"in S&&i(10,U=S.prefix),"suffix"in S&&i(11,k=S.suffix),"formatter"in S&&i(12,P=S.formatter),"focus"in S&&i(13,F=S.focus),"orientationStart"in S&&i(14,I=S.orientationStart),"percentOf"in S&&i(15,O=S.percentOf),"moveHandle"in S&&i(26,R=S.moveHandle),"fixFloat"in S&&i(16,G=S.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&i(27,r=y||((h-c)/g>=(u?50:100)?(h-c)/(u?10:20):1)),e.$$.dirty&142606339&&i(20,n=parseInt((h-c)/(g*r),10)),e.$$.dirty&142671873&&i(19,a=function(S){return G(c+S*g*r)}),e.$$.dirty&16842752&&i(18,l=function(S){return d.some(x=>G(x)===G(S))}),e.$$.dirty&20971520&&i(17,s=function(S){if(f==="min")return d[0]>S;if(f==="max")return d[0]<S;if(f)return d[0]<S&&d[1]>S})},[c,h,u,m,w,b,E,_,A,C,U,k,P,F,I,O,G,s,l,a,n,M,f,g,d,y,R,r]}class RangePips extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$8,safe_not_equal,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}var RangeSlider_svelte_svelte_type_style_lang=(()=>`.rangeSlider{--slider:var(--range-slider,#d7dada);--handle-inactive:var(--range-handle-inactive,#99a2a2);--handle:var(--range-handle,#838de7);--handle-focus:var(--range-handle-focus,#4a40d4);--handle-border:var(--range-handle-border,var(--handle));--range-inactive:var(--range-range-inactive,var(--handle-inactive));--range:var(--range-range,var(--handle-focus));--float-inactive:var(--range-float-inactive,var(--handle-inactive));--float:var(--range-float,var(--handle-focus));--float-text:var(--range-float-text,#fff);border-radius:100px;height:.5em;margin:1em;position:relative;transition:opacity .2s ease}.rangeSlider,.rangeSlider *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.rangeSlider.pips{margin-bottom:1.8em}.rangeSlider.pip-labels{margin-bottom:2.8em}.rangeSlider.vertical{border-radius:100px;display:inline-block;min-height:200px;width:.5em}.rangeSlider.vertical.pips{margin-bottom:1em;margin-right:1.8em}.rangeSlider.vertical.pip-labels{margin-bottom:1em;margin-right:2.8em}.rangeSlider .rangeHandle{bottom:auto;display:block;height:1.4em;position:absolute;top:.25em;transform:translateY(-50%) translate(-50%);width:1.4em;z-index:2}.rangeSlider.reversed .rangeHandle{transform:translateY(-50%) translate(50%)}.rangeSlider.vertical .rangeHandle{left:.25em;top:auto;transform:translateY(50%) translate(-50%)}.rangeSlider.vertical.reversed .rangeHandle{transform:translateY(-50%) translate(-50%)}.rangeSlider .rangeHandle:before,.rangeSlider .rangeNub{border-radius:10em;display:block;height:100%;left:0;position:absolute;top:0;transition:box-shadow .2s ease;width:100%}.rangeSlider .rangeHandle:before{bottom:1px;box-shadow:0 0 0 0 var(--handle-border);content:"";height:auto;left:1px;opacity:0;right:1px;top:1px;width:auto}.rangeSlider.hoverable:not(.disabled) .rangeHandle:hover:before{box-shadow:0 0 0 8px var(--handle-border);opacity:.2}.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:before,.rangeSlider.hoverable:not(.disabled) .rangeHandle.press:hover:before{box-shadow:0 0 0 12px var(--handle-border);opacity:.4}.rangeSlider.range:not(.min):not(.max) .rangeNub{border-radius:10em 10em 10em 1.6em}.rangeSlider.range .rangeHandle:first-of-type .rangeNub{transform:rotate(-135deg)}.rangeSlider.range .rangeHandle:nth-of-type(2) .rangeNub,.rangeSlider.range.reversed .rangeHandle:first-of-type .rangeNub{transform:rotate(45deg)}.rangeSlider.range.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(-135deg)}.rangeSlider.range.vertical .rangeHandle:first-of-type .rangeNub{transform:rotate(135deg)}.rangeSlider.range.vertical .rangeHandle:nth-of-type(2) .rangeNub,.rangeSlider.range.vertical.reversed .rangeHandle:first-of-type .rangeNub{transform:rotate(-45deg)}.rangeSlider.range.vertical.reversed .rangeHandle:nth-of-type(2) .rangeNub{transform:rotate(135deg)}.rangeSlider .rangeFloat{border-radius:.2em;display:block;font-size:.9em;left:50%;opacity:0;padding:.2em .4em;pointer-events:none;position:absolute;text-align:center;top:-.5em;transform:translate(-50%,-100%);transition:all .2s ease;white-space:nowrap}.rangeSlider .rangeHandle.active .rangeFloat,.rangeSlider.hoverable .rangeHandle:hover .rangeFloat{opacity:1;top:-.2em;transform:translate(-50%,-100%)}.rangeSlider .rangeBar{border-radius:1em;display:block;height:.5em;position:absolute;top:0;transition:background .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}.rangeSlider.vertical .rangeBar{height:auto;width:.5em}.rangeSlider{background-color:#d7dada;background-color:var(--slider)}.rangeSlider .rangeBar{background-color:#99a2a2;background-color:var(--range-inactive)}.rangeSlider.focus .rangeBar{background-color:#838de7;background-color:var(--range)}.rangeSlider .rangeNub{background-color:#99a2a2;background-color:var(--handle-inactive)}.rangeSlider.focus .rangeNub{background-color:#838de7;background-color:var(--handle)}.rangeSlider .rangeHandle.active .rangeNub{background-color:#4a40d4;background-color:var(--handle-focus)}.rangeSlider .rangeFloat{background-color:#99a2a2;background-color:var(--float-inactive);color:#fff;color:var(--float-text)}.rangeSlider.focus .rangeFloat{background-color:#4a40d4;background-color:var(--float)}.rangeSlider.disabled{opacity:.5}.rangeSlider.disabled .rangeNub{background-color:#d7dada;background-color:var(--slider)}
`)();function get_each_context$1(e,t,i){const r=e.slice();return r[64]=t[i],r[66]=i,r}function create_if_block_2(e){let t,i=e[21](e[64],e[66],e[23](e[64]))+"",r,n=e[18]&&create_if_block_4(e),a=e[19]&&create_if_block_3(e);return{c(){t=element("span"),n&&n.c(),r=text(i),a&&a.c(),attr(t,"class","rangeFloat")},m(l,s){insert(l,t,s),n&&n.m(t,null),append(t,r),a&&a.m(t,null)},p(l,s){l[18]?n?n.p(l,s):(n=create_if_block_4(l),n.c(),n.m(t,r)):n&&(n.d(1),n=null),s[0]&10485761&&i!==(i=l[21](l[64],l[66],l[23](l[64]))+"")&&set_data(r,i),l[19]?a?a.p(l,s):(a=create_if_block_3(l),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(l){l&&detach(t),n&&n.d(),a&&a.d()}}}function create_if_block_4(e){let t,i;return{c(){t=element("span"),i=text(e[18]),attr(t,"class","rangeFloat-prefix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n[0]&262144&&set_data(i,r[18])},d(r){r&&detach(t)}}}function create_if_block_3(e){let t,i;return{c(){t=element("span"),i=text(e[19]),attr(t,"class","rangeFloat-suffix")},m(r,n){insert(r,t,n),append(t,i)},p(r,n){n[0]&524288&&set_data(i,r[19])},d(r){r&&detach(t)}}}function create_each_block$1(e){let t,i,r,n,a,l,s,f,c,h,g,d,u,m=e[7]&&create_if_block_2(e);return{c(){t=element("span"),i=element("span"),r=space(),m&&m.c(),attr(i,"class","rangeNub"),attr(t,"role","slider"),attr(t,"class","rangeHandle"),attr(t,"data-handle",n=e[66]),attr(t,"style",a=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),attr(t,"aria-valuemin",l=e[2]===!0&&e[66]===1?e[0][0]:e[3]),attr(t,"aria-valuemax",s=e[2]===!0&&e[66]===0?e[0][1]:e[4]),attr(t,"aria-valuenow",f=e[64]),attr(t,"aria-valuetext",c=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),attr(t,"aria-orientation",h=e[6]?"vertical":"horizontal"),attr(t,"aria-disabled",e[10]),attr(t,"disabled",e[10]),attr(t,"tabindex",g=e[10]?-1:0),toggle_class(t,"active",e[24]&&e[26]===e[66]),toggle_class(t,"press",e[25]&&e[26]===e[66])},m(w,b){insert(w,t,b),append(t,i),append(t,r),m&&m.m(t,null),d||(u=[listen(t,"blur",e[34]),listen(t,"focus",e[35]),listen(t,"keydown",e[36])],d=!0)},p(w,b){w[7]?m?m.p(w,b):(m=create_if_block_2(w),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&872415232&&a!==(a=w[28]+": "+w[29][w[66]]+"%; z-index: "+(w[26]===w[66]?3:2)+";")&&attr(t,"style",a),b[0]&13&&l!==(l=w[2]===!0&&w[66]===1?w[0][0]:w[3])&&attr(t,"aria-valuemin",l),b[0]&21&&s!==(s=w[2]===!0&&w[66]===0?w[0][1]:w[4])&&attr(t,"aria-valuemax",s),b[0]&1&&f!==(f=w[64])&&attr(t,"aria-valuenow",f),b[0]&11272193&&c!==(c=""+(w[18]+w[21](w[64],w[66],w[23](w[64]))+w[19]))&&attr(t,"aria-valuetext",c),b[0]&64&&h!==(h=w[6]?"vertical":"horizontal")&&attr(t,"aria-orientation",h),b[0]&1024&&attr(t,"aria-disabled",w[10]),b[0]&1024&&attr(t,"disabled",w[10]),b[0]&1024&&g!==(g=w[10]?-1:0)&&attr(t,"tabindex",g),b[0]&83886080&&toggle_class(t,"active",w[24]&&w[26]===w[66]),b[0]&100663296&&toggle_class(t,"press",w[25]&&w[26]===w[66])},d(w){w&&detach(t),m&&m.d(),d=!1,run_all(u)}}}function create_if_block_1$2(e){let t,i;return{c(){t=element("span"),attr(t,"class","rangeBar"),attr(t,"style",i=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,n){insert(r,t,n)},p(r,n){n[0]&939524096&&i!==(i=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&attr(t,"style",i)},d(r){r&&detach(t)}}}function create_if_block$3(e){let t,i;return t=new RangePips({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){create_component(t.$$.fragment)},m(r,n){mount_component(t,r,n),i=!0},p(r,n){const a={};n[0]&1&&(a.values=r[0]),n[0]&8&&(a.min=r[3]),n[0]&16&&(a.max=r[4]),n[0]&32&&(a.step=r[5]),n[0]&4&&(a.range=r[2]),n[0]&64&&(a.vertical=r[6]),n[0]&256&&(a.reversed=r[8]),n[0]&268435456&&(a.orientationStart=r[28]),n[0]&512&&(a.hoverable=r[9]),n[0]&1024&&(a.disabled=r[10]),n[0]&8192&&(a.all=r[13]),n[0]&16384&&(a.first=r[14]),n[0]&32768&&(a.last=r[15]),n[0]&65536&&(a.rest=r[16]),n[0]&4096&&(a.pipstep=r[12]),n[0]&262144&&(a.prefix=r[18]),n[0]&524288&&(a.suffix=r[19]),n[0]&1048576&&(a.formatter=r[20]),n[0]&16777216&&(a.focus=r[24]),n[0]&8388608&&(a.percentOf=r[23]),t.$set(a)},i(r){i||(transition_in(t.$$.fragment,r),i=!0)},o(r){transition_out(t.$$.fragment,r),i=!1},d(r){destroy_component(t,r)}}}function create_fragment$7(e){let t,i,r,n,a,l,s=e[0],f=[];for(let g=0;g<s.length;g+=1)f[g]=create_each_block$1(get_each_context$1(e,s,g));let c=e[2]&&create_if_block_1$2(e),h=e[11]&&create_if_block$3(e);return{c(){t=element("div");for(let g=0;g<f.length;g+=1)f[g].c();i=space(),c&&c.c(),r=space(),h&&h.c(),attr(t,"id",e[17]),attr(t,"class","rangeSlider"),toggle_class(t,"range",e[2]),toggle_class(t,"disabled",e[10]),toggle_class(t,"hoverable",e[9]),toggle_class(t,"vertical",e[6]),toggle_class(t,"reversed",e[8]),toggle_class(t,"focus",e[24]),toggle_class(t,"min",e[2]==="min"),toggle_class(t,"max",e[2]==="max"),toggle_class(t,"pips",e[11]),toggle_class(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(g,d){insert(g,t,d);for(let u=0;u<f.length;u+=1)f[u].m(t,null);append(t,i),c&&c.m(t,null),append(t,r),h&&h.m(t,null),e[50](t),n=!0,a||(l=[listen(window,"mousedown",e[39]),listen(window,"touchstart",e[39]),listen(window,"mousemove",e[40]),listen(window,"touchmove",e[40]),listen(window,"mouseup",e[41]),listen(window,"touchend",e[42]),listen(window,"keydown",e[43]),listen(t,"mousedown",e[37]),listen(t,"mouseup",e[38]),listen(t,"touchstart",prevent_default(e[37])),listen(t,"touchend",prevent_default(e[38]))],a=!0)},p(g,d){if(d[0]&934020317|d[1]&56){s=g[0];let u;for(u=0;u<s.length;u+=1){const m=get_each_context$1(g,s,u);f[u]?f[u].p(m,d):(f[u]=create_each_block$1(m),f[u].c(),f[u].m(t,i))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}g[2]?c?c.p(g,d):(c=create_if_block_1$2(g),c.c(),c.m(t,r)):c&&(c.d(1),c=null),g[11]?h?(h.p(g,d),d[0]&2048&&transition_in(h,1)):(h=create_if_block$3(g),h.c(),transition_in(h,1),h.m(t,null)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros()),(!n||d[0]&131072)&&attr(t,"id",g[17]),d[0]&4&&toggle_class(t,"range",g[2]),d[0]&1024&&toggle_class(t,"disabled",g[10]),d[0]&512&&toggle_class(t,"hoverable",g[9]),d[0]&64&&toggle_class(t,"vertical",g[6]),d[0]&256&&toggle_class(t,"reversed",g[8]),d[0]&16777216&&toggle_class(t,"focus",g[24]),d[0]&4&&toggle_class(t,"min",g[2]==="min"),d[0]&4&&toggle_class(t,"max",g[2]==="max"),d[0]&2048&&toggle_class(t,"pips",g[11]),d[0]&122880&&toggle_class(t,"pip-labels",g[13]==="label"||g[14]==="label"||g[15]==="label"||g[16]==="label")},i(g){n||(transition_in(h),n=!0)},o(g){transition_out(h),n=!1},d(g){g&&detach(t),destroy_each(f,g),c&&c.d(),h&&h.d(),e[50](null),a=!1,run_all(l)}}}function index(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function normalisedClient(e){return e.type.includes("touch")?e.touches[0]:e}function instance$6(e,t,i){let r,n,a,l,s,f,c=noop,h=()=>(c(),c=subscribe($,v=>i(29,f=v)),$);e.$$.on_destroy.push(()=>c());let{slider:g=void 0}=t,{range:d=!1}=t,{pushy:u=!1}=t,{min:m=0}=t,{max:w=100}=t,{step:b=1}=t,{values:y=[(w+m)/2]}=t,{vertical:E=!1}=t,{float:_=!1}=t,{reversed:A=!1}=t,{hoverable:C=!0}=t,{disabled:U=!1}=t,{pips:k=!1}=t,{pipstep:P=void 0}=t,{all:F=void 0}=t,{first:I=void 0}=t,{last:O=void 0}=t,{rest:R=void 0}=t,{id:G=void 0}=t,{prefix:M=""}=t,{suffix:S=""}=t,{formatter:x=(v,B,j)=>v}=t,{handleFormatter:Z=x}=t,{precision:z=2}=t,{springValues:T={stiffness:.15,damping:.4}}=t;const D=createEventDispatcher();let Y=0,Q=!1,q=!1,X=!1,K=!1,J=y.length-1,V,ne,$;const ee=v=>parseFloat(v.toFixed(z));function se(v){const B=g.querySelectorAll(".handle"),j=Array.prototype.includes.call(B,v),L=Array.prototype.some.call(B,te=>te.contains(v));return j||L}function ce(v){return d==="min"||d==="max"?v.slice(0,1):d?v.slice(0,2):v}function oe(){return g.getBoundingClientRect()}function fe(v){const B=oe();let j=0,L=0,te=0;E?(j=v.clientY-B.top,L=j/B.height*100,L=A?L:100-L):(j=v.clientX-B.left,L=j/B.width*100,L=A?100-L:L),te=(w-m)/100*L+m;let le;return d===!0&&y[0]===y[1]?te>y[1]?1:0:(le=y.indexOf([...y].sort((Ae,Fe)=>Math.abs(te-Ae)-Math.abs(te-Fe))[0]),le)}function ae(v){const B=oe();let j=0,L=0,te=0;E?(j=v.clientY-B.top,L=j/B.height*100,L=A?L:100-L):(j=v.clientX-B.left,L=j/B.width*100,L=A?100-L:L),te=(w-m)/100*L+m,re(J,te)}function re(v,B){return B=a(B),typeof v=="undefined"&&(v=J),d&&(v===0&&B>y[1]?u?i(0,y[1]=B,y):B=y[1]:v===1&&B<y[0]&&(u?i(0,y[0]=B,y):B=y[0])),y[v]!==B&&i(0,y[v]=B,y),ne!==B&&(ke(),ne=B),B}function de(v){return d==="min"?0:v[0]}function ue(v){return d==="max"?0:d==="min"?100-v[0]:100-v[1]}function pe(v){K&&(i(24,Q=!1),q=!1,i(25,X=!1))}function ge(v){U||(i(26,J=index(v.target)),i(24,Q=!0))}function he(v){if(!U){const B=index(v.target);let j=v.ctrlKey||v.metaKey||v.shiftKey?b*10:b,L=!1;switch(v.key){case"PageDown":j*=10;case"ArrowRight":case"ArrowUp":re(B,y[B]+j),L=!0;break;case"PageUp":j*=10;case"ArrowLeft":case"ArrowDown":re(B,y[B]-j),L=!0;break;case"Home":re(B,m),L=!0;break;case"End":re(B,w),L=!0;break}L&&(v.preventDefault(),v.stopPropagation())}}function me(v){if(!U){const B=v.target,j=normalisedClient(v);i(24,Q=!0),q=!0,i(25,X=!0),i(26,J=fe(j)),V=ne=a(y[J]),Ne(),v.type==="touchstart"&&!B.matches(".pipVal")&&ae(j)}}function be(v){v.type==="touchend"&&ie(),i(25,X=!1)}function we(v){K=!1,Q&&v.target!==g&&!g.contains(v.target)&&i(24,Q=!1)}function _e(v){U||q&&ae(normalisedClient(v))}function ve(v){if(!U){const B=v.target;q&&((B===g||g.contains(B))&&(i(24,Q=!0),!se(B)&&!B.matches(".pipVal")&&ae(normalisedClient(v))),ie())}q=!1,i(25,X=!1)}function ye(v){q=!1,i(25,X=!1)}function Ue(v){U||(v.target===g||g.contains(v.target))&&(K=!0)}function Ne(){!U&&D("start",{activeHandle:J,value:V,values:y.map(v=>a(v))})}function ie(){!U&&D("stop",{activeHandle:J,startValue:V,value:y[J],values:y.map(v=>a(v))})}function ke(){!U&&D("change",{activeHandle:J,startValue:V,previousValue:typeof ne=="undefined"?V:ne,value:y[J],values:y.map(v=>a(v))})}function Pe(v){binding_callbacks[v?"unshift":"push"](()=>{g=v,i(1,g)})}return e.$$set=v=>{"slider"in v&&i(1,g=v.slider),"range"in v&&i(2,d=v.range),"pushy"in v&&i(44,u=v.pushy),"min"in v&&i(3,m=v.min),"max"in v&&i(4,w=v.max),"step"in v&&i(5,b=v.step),"values"in v&&i(0,y=v.values),"vertical"in v&&i(6,E=v.vertical),"float"in v&&i(7,_=v.float),"reversed"in v&&i(8,A=v.reversed),"hoverable"in v&&i(9,C=v.hoverable),"disabled"in v&&i(10,U=v.disabled),"pips"in v&&i(11,k=v.pips),"pipstep"in v&&i(12,P=v.pipstep),"all"in v&&i(13,F=v.all),"first"in v&&i(14,I=v.first),"last"in v&&i(15,O=v.last),"rest"in v&&i(16,R=v.rest),"id"in v&&i(17,G=v.id),"prefix"in v&&i(18,M=v.prefix),"suffix"in v&&i(19,S=v.suffix),"formatter"in v&&i(20,x=v.formatter),"handleFormatter"in v&&i(21,Z=v.handleFormatter),"precision"in v&&i(45,z=v.precision),"springValues"in v&&i(46,T=v.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&i(49,n=function(v){return v<=m?m:v>=w?w:v}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&i(48,a=function(v){if(v<=m)return ee(m);if(v>=w)return ee(w);let B=(v-m)%b,j=v-B;return Math.abs(B)*2>=b&&(j+=B>0?b:-b),j=n(j),ee(j)}),e.$$.dirty[0]&24&&i(23,r=function(v){let B=(v-m)/(w-m)*100;return isNaN(B)||B<=0?0:B>=100?100:ee(B)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(y)||(i(0,y=[(w+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),i(0,y=ce(y.map(v=>a(v)))),Y!==y.length?h(i(22,$=spring(y.map(v=>r(v)),T))):$.set(y.map(v=>r(v))),i(47,Y=y.length)),e.$$.dirty[0]&320&&i(28,l=E?A?"top":"bottom":A?"right":"left"),e.$$.dirty[0]&320&&i(27,s=E?A?"bottom":"top":A?"left":"right")},[y,g,d,m,w,b,E,_,A,C,U,k,P,F,I,O,R,G,M,S,x,Z,$,r,Q,X,J,s,l,f,ee,re,de,ue,pe,ge,he,me,be,we,_e,ve,ye,Ue,u,z,T,Y,a,n,Pe]}class RangeSlider extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$7,safe_not_equal,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}var classnames={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var r=[],n=0;n<arguments.length;n++){var a=arguments[n];if(!!a){var l=typeof a;if(l==="string"||l==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var s=i.apply(null,a);s&&r.push(s)}}else if(l==="object")if(a.toString===Object.prototype.toString)for(var f in a)t.call(a,f)&&a[f]&&r.push(f);else r.push(a.toString())}}return r.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(classnames);var cx=classnames.exports;const FILTER_TYPES={blur:{attr:"blur",displayName:"Blur",type:"range",min:0,max:100,defaultValue:0,unit:"px"},brightness:{attr:"brightness",displayName:"Brightness",type:"range",min:0,max:100,defaultValue:100,unit:"%"},contrast:{attr:"contrast",displayName:"Contrast",type:"range",min:0,max:100,defaultValue:100,unit:"%"},"drop-shadow":{attr:"drop-shadow",displayName:"Drop shadow",type:"text",min:0,max:100,defaultValue:0,unit:""},grayscale:{attr:"grayscale",displayName:"Grayscale",type:"range",min:0,max:100,defaultValue:0,unit:"%"},"hue-rotate":{attr:"hue-rotate",displayName:"Hue",type:"range",min:0,max:100,defaultValue:0,unit:"deg"},invert:{attr:"invert",displayName:"Invert",type:"range",min:0,max:100,defaultValue:0,unit:"%"},opacity:{attr:"opacity",displayName:"Opacity",type:"range",min:0,max:100,defaultValue:100,unit:"%"},saturate:{attr:"saturate",displayName:"Saturate",type:"range",min:0,max:100,defaultValue:0,unit:"%"},sepia:{attr:"sepia",displayName:"Sepia",type:"range",min:0,max:100,defaultValue:0,unit:"%"}},FILTER_TYPES_AS_ARRAY=Object.values(FILTER_TYPES);function isValidCSS(e,t){const{style:i}=new Option;return i[e]=t,Boolean(i[e])}function get_each_context(e,t,i){const r=e.slice();return r[10]=t[i],r}function create_if_block_1$1(e){let t,i,r,n,a;return{c(){t=element("input"),i=space(),r=element("span"),r.textContent="e.g. 16px 16px 10px black",attr(t,"type","text"),attr(t,"placeholder","offset-x offset-y blur-radius color"),attr(t,"class","w-full pb-1 outline-none bg-transparent border-0 border-b border-b-black mb-4"),attr(r,"class","italic text-xs")},m(l,s){insert(l,t,s),insert(l,i,s),insert(l,r,s),n||(a=listen(t,"input",e[7]),n=!0)},p:noop,i:noop,o:noop,d(l){l&&detach(t),l&&detach(i),l&&detach(r),n=!1,a()}}}function create_if_block$2(e){let t,i,r;function n(l){e[6](l)}let a={id:"color-pips",min:e[0].min,max:e[0].max,first:"label",last:"label",range:"min",float:!0,pips:!0,formatter:e[5]};return e[1]!==void 0&&(a.values=e[1]),t=new RangeSlider({props:a}),binding_callbacks.push(()=>bind(t,"values",n)),{c(){create_component(t.$$.fragment)},m(l,s){mount_component(t,l,s),r=!0},p(l,s){const f={};s&1&&(f.min=l[0].min),s&1&&(f.max=l[0].max),s&1&&(f.formatter=l[5]),!i&&s&2&&(i=!0,f.values=l[1],add_flush_callback(()=>i=!1)),t.$set(f)},i(l){r||(transition_in(t.$$.fragment,l),r=!0)},o(l){transition_out(t.$$.fragment,l),r=!1},d(l){destroy_component(t,l)}}}function create_each_block(e){let t,i,r=e[10].displayName+"",n,a,l,s,f;function c(){return e[8](e[10])}return{c(){t=element("li"),i=element("button"),n=text(r),l=space(),attr(i,"type","button"),attr(i,"class",a=cx("btn",{"btn-info-dark":e[0].attr===e[10].attr},{"btn-info-light":e[0].attr!==e[10].attr}))},m(h,g){insert(h,t,g),append(t,i),append(i,n),append(t,l),s||(f=listen(i,"click",c),s=!0)},p(h,g){e=h,g&1&&a!==(a=cx("btn",{"btn-info-dark":e[0].attr===e[10].attr},{"btn-info-light":e[0].attr!==e[10].attr}))&&attr(i,"class",a)},d(h){h&&detach(t),s=!1,f()}}}function create_fragment$6(e){let t,i,r,n,a,l,s;const f=[create_if_block$2,create_if_block_1$1],c=[];function h(u,m){return u[0].type==="range"?0:u[0].type==="text"?1:-1}~(r=h(e))&&(n=c[r]=f[r](e));let g=FILTER_TYPES_AS_ARRAY,d=[];for(let u=0;u<g.length;u+=1)d[u]=create_each_block(get_each_context(e,g,u));return{c(){t=element("div"),i=element("div"),n&&n.c(),a=space(),l=element("ul");for(let u=0;u<d.length;u+=1)d[u].c();attr(i,"class","max-w-md mx-auto flex-1 w-full"),attr(l,"class","inline-flex justify-between items-center text-xs uppercase w-full h-24 gap-8 overflow-auto shrink-0"),attr(t,"class","flex flex-col")},m(u,m){insert(u,t,m),append(t,i),~r&&c[r].m(i,null),append(t,a),append(t,l);for(let w=0;w<d.length;w+=1)d[w].m(l,null);s=!0},p(u,[m]){let w=r;if(r=h(u),r===w?~r&&c[r].p(u,m):(n&&(group_outros(),transition_out(c[w],1,1,()=>{c[w]=null}),check_outros()),~r?(n=c[r],n?n.p(u,m):(n=c[r]=f[r](u),n.c()),transition_in(n,1),n.m(i,null)):n=null),m&5){g=FILTER_TYPES_AS_ARRAY;let b;for(b=0;b<g.length;b+=1){const y=get_each_context(u,g,b);d[b]?d[b].p(y,m):(d[b]=create_each_block(y),d[b].c(),d[b].m(l,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},i(u){s||(transition_in(n),s=!0)},o(u){transition_out(n),s=!1},d(u){u&&detach(t),~r&&c[r].d(),destroy_each(d,u)}}}function instance$5(e,t,i){const r=()=>{},n={};let[a]=FILTER_TYPES_AS_ARRAY,l=[a.defaultValue],{onFilterChange:s=r}=t;const f=u=>{i(0,a=u),i(1,l=[Object.prototype.hasOwnProperty.call(n,a.attr)?n[a.attr]:a.defaultValue])},c=u=>`${u}${a.unit}`;function h(u){l=u,i(1,l)}const g=u=>{i(1,l[0]=u.target.value,l)},d=u=>f(u);return e.$$set=u=>{"onFilterChange"in u&&i(3,s=u.onFilterChange)},e.$$.update=()=>{if(e.$$.dirty&27&&a.type!=="text"){const[u]=l;i(4,n[a.attr]=u,n);const m=Object.keys(n).reduce((w,b)=>{var y;return`${w} ${b}(${n[b]}${(y=FILTER_TYPES[b])==null?void 0:y.unit})`},"");s(m)}if(e.$$.dirty&11&&a.type==="text"){const[u]=l,m=`${a.attr}(${u})`;i(4,n[a.attr]=u,n),isValidCSS("filter",m)&&s(m)}},[a,l,f,s,n,c,h,g,d]}class Filter extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$6,safe_not_equal,{onFilterChange:3})}}var Editor_svelte_svelte_type_style_lang=(()=>`.editor.svelte-tr5dwu{height:calc(100vh - 80px)}img.svelte-tr5dwu{filter:var(--filter)}
`)();function create_fragment$5(e){let t,i,r,n,a,l,s;return l=new Filter({props:{onFilterChange:e[2]}}),{c(){t=element("div"),i=element("div"),r=element("img"),a=space(),create_component(l.$$.fragment),src_url_equal(r.src,n=e[0])||attr(r,"src",n),attr(r,"alt","ready for editing"),attr(r,"class","h-auto max-h-[100%] mx-auto svelte-tr5dwu"),set_style(r,"--filter",e[1],!1),attr(i,"class","overflow-hidden flex-1 flex items-center justify-center"),attr(t,"class","flex flex-col editor gap-6 svelte-tr5dwu")},m(f,c){insert(f,t,c),append(t,i),append(i,r),append(t,a),mount_component(l,t,null),s=!0},p(f,[c]){(!s||c&1&&!src_url_equal(r.src,n=f[0]))&&attr(r,"src",n),c&2&&set_style(r,"--filter",f[1],!1);const h={};c&2&&(h.onFilterChange=f[2]),l.$set(h)},i(f){s||(transition_in(l.$$.fragment,f),s=!0)},o(f){transition_out(l.$$.fragment,f),s=!1},d(f){f&&detach(t),destroy_component(l)}}}function instance$4(e,t,i){let r="",{img:n=""}=t;const a=l=>{i(1,r=l)};return e.$$set=l=>{"img"in l&&i(0,n=l.img)},[n,r,a]}class Editor extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$5,safe_not_equal,{img:0})}}function create_fragment$4(e){let t,i;return{c(){t=svg_element("svg"),i=svg_element("path"),attr(i,"stroke-linecap","round"),attr(i,"stroke-linejoin","round"),attr(i,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"class",e[0]),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke","currentColor"),attr(t,"stroke-width","2")},m(r,n){insert(r,t,n),append(t,i)},p(r,[n]){n&1&&attr(t,"class",r[0])},i:noop,o:noop,d(r){r&&detach(t)}}}function instance$3(e,t,i){let{className:r}=t;return e.$$set=n=>{"className"in n&&i(0,r=n.className)},[r]}class Cloud_upload extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$4,safe_not_equal,{className:0})}}function create_fragment$3(e){let t,i;return{c(){t=svg_element("svg"),i=svg_element("path"),attr(i,"stroke-linecap","round"),attr(i,"stroke-linejoin","round"),attr(i,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"class",e[0]),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke","currentColor"),attr(t,"stroke-width","2")},m(r,n){insert(r,t,n),append(t,i)},p(r,[n]){n&1&&attr(t,"class",r[0])},i:noop,o:noop,d(r){r&&detach(t)}}}function instance$2(e,t,i){let{className:r}=t;return e.$$set=n=>{"className"in n&&i(0,r=n.className)},[r]}class Exclamation extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$3,safe_not_equal,{className:0})}}function _mergeNamespaces(e,t){return t.forEach(function(i){Object.keys(i).forEach(function(r){if(r!=="default"&&!(r in e)){var n=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return i[r]}})}})}),Object.freeze(e)}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(r){_defineProperty(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,n,a=[],l=!0,s=!1;try{for(i=i.call(e);!(l=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(f){s=!0,n=f}finally{try{l||i.return==null||i.return()}finally{if(s)throw n}}return a}}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports}var UZIP_1=createCommonjsModule(function(e){var t,i,r={};e.exports=r,r.parse=function(n,a){for(var l=r.bin.readUshort,s=r.bin.readUint,f=0,c={},h=new Uint8Array(n),g=h.length-4;s(h,g)!=101010256;)g--;f=g,f+=4;var d=l(h,f+=4);l(h,f+=2);var u=s(h,f+=2),m=s(h,f+=4);f+=4,f=m;for(var w=0;w<d;w++){s(h,f),f+=4,f+=4,f+=4,s(h,f+=4),u=s(h,f+=4);var b=s(h,f+=4),y=l(h,f+=4),E=l(h,f+2),_=l(h,f+4);f+=6;var A=s(h,f+=8);f+=4,f+=y+E+_,r._readLocal(h,A,c,u,b,a)}return c},r._readLocal=function(n,a,l,s,f,c){var h=r.bin.readUshort,g=r.bin.readUint;g(n,a),h(n,a+=4),h(n,a+=2);var d=h(n,a+=2);g(n,a+=2),g(n,a+=4),a+=4;var u=h(n,a+=8),m=h(n,a+=2);a+=2;var w=r.bin.readUTF8(n,a,u);if(a+=u,a+=m,c)l[w]={size:f,csize:s};else{var b=new Uint8Array(n.buffer,a);if(d==0)l[w]=new Uint8Array(b.buffer.slice(a,a+s));else{if(d!=8)throw"unknown compression method: "+d;var y=new Uint8Array(f);r.inflateRaw(b,y),l[w]=y}}},r.inflateRaw=function(n,a){return r.F.inflate(n,a)},r.inflate=function(n,a){return n[0],n[1],r.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),a)},r.deflate=function(n,a){a==null&&(a={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*n.length));s[l]=120,s[l+1]=156,l+=2,l=r.F.deflateRaw(n,s,l,a.level);var f=r.adler(n,0,n.length);return s[l+0]=f>>>24&255,s[l+1]=f>>>16&255,s[l+2]=f>>>8&255,s[l+3]=f>>>0&255,new Uint8Array(s.buffer,0,l+4)},r.deflateRaw=function(n,a){a==null&&(a={level:6});var l=new Uint8Array(50+Math.floor(1.1*n.length)),s=r.F.deflateRaw(n,l,s,a.level);return new Uint8Array(l.buffer,0,s)},r.encode=function(n,a){a==null&&(a=!1);var l=0,s=r.bin.writeUint,f=r.bin.writeUshort,c={};for(var h in n){var g=!r._noNeed(h)&&!a,d=n[h],u=r.crc.crc(d,0,d.length);c[h]={cpr:g,usize:d.length,crc:u,file:g?r.deflateRaw(d):d}}for(var h in c)l+=c[h].file.length+30+46+2*r.bin.sizeUTF8(h);l+=22;var m=new Uint8Array(l),w=0,b=[];for(var h in c){var y=c[h];b.push(w),w=r._writeHeader(m,w,h,y,0)}var E=0,_=w;for(var h in c)y=c[h],b.push(w),w=r._writeHeader(m,w,h,y,1,b[E++]);var A=w-_;return s(m,w,101010256),w+=4,f(m,w+=4,E),f(m,w+=2,E),s(m,w+=2,A),s(m,w+=4,_),w+=4,w+=2,m.buffer},r._noNeed=function(n){var a=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},r._writeHeader=function(n,a,l,s,f,c){var h=r.bin.writeUint,g=r.bin.writeUshort,d=s.file;return h(n,a,f==0?67324752:33639248),a+=4,f==1&&(a+=2),g(n,a,20),g(n,a+=2,0),g(n,a+=2,s.cpr?8:0),h(n,a+=2,0),h(n,a+=4,s.crc),h(n,a+=4,d.length),h(n,a+=4,s.usize),g(n,a+=4,r.bin.sizeUTF8(l)),g(n,a+=2,0),a+=2,f==1&&(a+=2,a+=2,h(n,a+=6,c),a+=4),a+=r.bin.writeUTF8(n,a,l),f==0&&(n.set(d,a),a+=d.length),a},r.crc={table:function(){for(var n=new Uint32Array(256),a=0;a<256;a++){for(var l=a,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;n[a]=l}return n}(),update:function(n,a,l,s){for(var f=0;f<s;f++)n=r.crc.table[255&(n^a[l+f])]^n>>>8;return n},crc:function(n,a,l){return 4294967295^r.crc.update(4294967295,n,a,l)}},r.adler=function(n,a,l){for(var s=1,f=0,c=a,h=a+l;c<h;){for(var g=Math.min(c+5552,h);c<g;)f+=s+=n[c++];s%=65521,f%=65521}return f<<16|s},r.bin={readUshort:function(n,a){return n[a]|n[a+1]<<8},writeUshort:function(n,a,l){n[a]=255&l,n[a+1]=l>>8&255},readUint:function(n,a){return 16777216*n[a+3]+(n[a+2]<<16|n[a+1]<<8|n[a])},writeUint:function(n,a,l){n[a]=255&l,n[a+1]=l>>8&255,n[a+2]=l>>16&255,n[a+3]=l>>24&255},readASCII:function(n,a,l){for(var s="",f=0;f<l;f++)s+=String.fromCharCode(n[a+f]);return s},writeASCII:function(n,a,l){for(var s=0;s<l.length;s++)n[a+s]=l.charCodeAt(s)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,a,l){for(var s,f="",c=0;c<l;c++)f+="%"+r.bin.pad(n[a+c].toString(16));try{s=decodeURIComponent(f)}catch{return r.bin.readASCII(n,a,l)}return s},writeUTF8:function(n,a,l){for(var s=l.length,f=0,c=0;c<s;c++){var h=l.charCodeAt(c);if((4294967168&h)==0)n[a+f]=h,f++;else if((4294965248&h)==0)n[a+f]=192|h>>6,n[a+f+1]=128|h>>0&63,f+=2;else if((4294901760&h)==0)n[a+f]=224|h>>12,n[a+f+1]=128|h>>6&63,n[a+f+2]=128|h>>0&63,f+=3;else{if((4292870144&h)!=0)throw"e";n[a+f]=240|h>>18,n[a+f+1]=128|h>>12&63,n[a+f+2]=128|h>>6&63,n[a+f+3]=128|h>>0&63,f+=4}}return f},sizeUTF8:function(n){for(var a=n.length,l=0,s=0;s<a;s++){var f=n.charCodeAt(s);if((4294967168&f)==0)l++;else if((4294965248&f)==0)l+=2;else if((4294901760&f)==0)l+=3;else{if((4292870144&f)!=0)throw"e";l+=4}}return l}},r.F={},r.F.deflateRaw=function(n,a,l,s){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],c=r.F.U,h=r.F._goodIndex;r.F._hash;var g=r.F._putsE,d=0,u=l<<3,m=0,w=n.length;if(s==0){for(;d<w;)g(a,u,d+(O=Math.min(65535,w-d))==w?1:0),u=r.F._copyExact(n,d,O,a,u+8),d+=O;return u>>>3}var b=c.lits,y=c.strt,E=c.prev,_=0,A=0,C=0,U=0,k=0,P=0;for(w>2&&(y[P=r.F._hash(n,0)]=0),d=0;d<w;d++){if(k=P,d+1<w-2){P=r.F._hash(n,d+1);var F=d+1&32767;E[F]=y[P],y[P]=F}if(m<=d){(_>14e3||A>26697)&&w-d>100&&(m<d&&(b[_]=d-m,_+=2,m=d),u=r.F._writeBlock(d==w-1||m==w?1:0,b,_,U,n,C,d-C,a,u),_=A=U=0,C=d);var I=0;d<w-2&&(I=r.F._bestMatch(n,d,E,k,Math.min(f[2],w-d),f[3]));var O=I>>>16,R=65535&I;if(I!=0){R=65535&I;var G=h(O=I>>>16,c.of0);c.lhst[257+G]++;var M=h(R,c.df0);c.dhst[M]++,U+=c.exb[G]+c.dxb[M],b[_]=O<<23|d-m,b[_+1]=R<<16|G<<8|M,_+=2,m=d+O}else c.lhst[n[d]]++;A++}}for(C==d&&n.length!=0||(m<d&&(b[_]=d-m,_+=2,m=d),u=r.F._writeBlock(1,b,_,U,n,C,d-C,a,u),_=0,A=0,_=A=U=0,C=d);(7&u)!=0;)u++;return u>>>3},r.F._bestMatch=function(n,a,l,s,f,c){var h=32767&a,g=l[h],d=h-g+32768&32767;if(g==h||s!=r.F._hash(n,a-d))return 0;for(var u=0,m=0,w=Math.min(32767,a);d<=w&&--c!=0&&g!=h;){if(u==0||n[a+u]==n[a+u-d]){var b=r.F._howLong(n,a,d);if(b>u){if(m=d,(u=b)>=f)break;d+2<b&&(b=d+2);for(var y=0,E=0;E<b-2;E++){var _=a-d+E+32768&32767,A=_-l[_]+32768&32767;A>y&&(y=A,g=_)}}}d+=(h=g)-(g=l[h])+32768&32767}return u<<16|m},r.F._howLong=function(n,a,l){if(n[a]!=n[a-l]||n[a+1]!=n[a+1-l]||n[a+2]!=n[a+2-l])return 0;var s=a,f=Math.min(n.length,a+258);for(a+=3;a<f&&n[a]==n[a-l];)a++;return a-s},r.F._hash=function(n,a){return(n[a]<<8|n[a+1])+(n[a+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(n,a,l,s,f,c,h,g,d){var u,m,w,b,y,E,_,A,C,U=r.F.U,k=r.F._putsF,P=r.F._putsE;U.lhst[256]++,m=(u=r.F.getTrees())[0],w=u[1],b=u[2],y=u[3],E=u[4],_=u[5],A=u[6],C=u[7];var F=32+((d+3&7)==0?0:8-(d+3&7))+(h<<3),I=s+r.F.contSize(U.fltree,U.lhst)+r.F.contSize(U.fdtree,U.dhst),O=s+r.F.contSize(U.ltree,U.lhst)+r.F.contSize(U.dtree,U.dhst);O+=14+3*_+r.F.contSize(U.itree,U.ihst)+(2*U.ihst[16]+3*U.ihst[17]+7*U.ihst[18]);for(var R=0;R<286;R++)U.lhst[R]=0;for(R=0;R<30;R++)U.dhst[R]=0;for(R=0;R<19;R++)U.ihst[R]=0;var G=F<I&&F<O?0:I<O?1:2;if(k(g,d,n),k(g,d+1,G),d+=3,G==0){for(;(7&d)!=0;)d++;d=r.F._copyExact(f,c,h,g,d)}else{var M,S;if(G==1&&(M=U.fltree,S=U.fdtree),G==2){r.F.makeCodes(U.ltree,m),r.F.revCodes(U.ltree,m),r.F.makeCodes(U.dtree,w),r.F.revCodes(U.dtree,w),r.F.makeCodes(U.itree,b),r.F.revCodes(U.itree,b),M=U.ltree,S=U.dtree,P(g,d,y-257),P(g,d+=5,E-1),P(g,d+=5,_-4),d+=4;for(var x=0;x<_;x++)P(g,d+3*x,U.itree[1+(U.ordr[x]<<1)]);d+=3*_,d=r.F._codeTiny(A,U.itree,g,d),d=r.F._codeTiny(C,U.itree,g,d)}for(var Z=c,z=0;z<l;z+=2){for(var T=a[z],D=T>>>23,Y=Z+(8388607&T);Z<Y;)d=r.F._writeLit(f[Z++],M,g,d);if(D!=0){var Q=a[z+1],q=Q>>16,X=Q>>8&255,K=255&Q;P(g,d=r.F._writeLit(257+X,M,g,d),D-U.of0[X]),d+=U.exb[X],k(g,d=r.F._writeLit(K,S,g,d),q-U.df0[K]),d+=U.dxb[K],Z+=D}}d=r.F._writeLit(256,M,g,d)}return d},r.F._copyExact=function(n,a,l,s,f){var c=f>>>3;return s[c]=l,s[c+1]=l>>>8,s[c+2]=255-s[c],s[c+3]=255-s[c+1],c+=4,s.set(new Uint8Array(n.buffer,a,l),c),f+(l+4<<3)},r.F.getTrees=function(){for(var n=r.F.U,a=r.F._hufTree(n.lhst,n.ltree,15),l=r.F._hufTree(n.dhst,n.dtree,15),s=[],f=r.F._lenCodes(n.ltree,s),c=[],h=r.F._lenCodes(n.dtree,c),g=0;g<s.length;g+=2)n.ihst[s[g]]++;for(g=0;g<c.length;g+=2)n.ihst[c[g]]++;for(var d=r.F._hufTree(n.ihst,n.itree,7),u=19;u>4&&n.itree[1+(n.ordr[u-1]<<1)]==0;)u--;return[a,l,d,f,h,u,s,c]},r.F.getSecond=function(n){for(var a=[],l=0;l<n.length;l+=2)a.push(n[l+1]);return a},r.F.nonZero=function(n){for(var a="",l=0;l<n.length;l+=2)n[l+1]!=0&&(a+=(l>>1)+",");return a},r.F.contSize=function(n,a){for(var l=0,s=0;s<a.length;s++)l+=a[s]*n[1+(s<<1)];return l},r.F._codeTiny=function(n,a,l,s){for(var f=0;f<n.length;f+=2){var c=n[f],h=n[f+1];s=r.F._writeLit(c,a,l,s);var g=c==16?2:c==17?3:7;c>15&&(r.F._putsE(l,s,h,g),s+=g)}return s},r.F._lenCodes=function(n,a){for(var l=n.length;l!=2&&n[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var f=n[s+1],c=s+3<l?n[s+3]:-1,h=s+5<l?n[s+5]:-1,g=s==0?-1:n[s-1];if(f==0&&c==f&&h==f){for(var d=s+5;d+2<l&&n[d+2]==f;)d+=2;(u=Math.min(d+1-s>>>1,138))<11?a.push(17,u-3):a.push(18,u-11),s+=2*u-2}else if(f==g&&c==f&&h==f){for(d=s+5;d+2<l&&n[d+2]==f;)d+=2;var u=Math.min(d+1-s>>>1,6);a.push(16,u-3),s+=2*u-2}else a.push(f,0)}return l>>>1},r.F._hufTree=function(n,a,l){var s=[],f=n.length,c=a.length,h=0;for(h=0;h<c;h+=2)a[h]=0,a[h+1]=0;for(h=0;h<f;h++)n[h]!=0&&s.push({lit:h,f:n[h]});var g=s.length,d=s.slice(0);if(g==0)return 0;if(g==1){var u=s[0].lit;return d=u==0?1:0,a[1+(u<<1)]=1,a[1+(d<<1)]=1,1}s.sort(function(A,C){return A.f-C.f});var m=s[0],w=s[1],b=0,y=1,E=2;for(s[0]={lit:-1,f:m.f+w.f,l:m,r:w,d:0};y!=g-1;)m=b!=y&&(E==g||s[b].f<s[E].f)?s[b++]:s[E++],w=b!=y&&(E==g||s[b].f<s[E].f)?s[b++]:s[E++],s[y++]={lit:-1,f:m.f+w.f,l:m,r:w};var _=r.F.setDepth(s[y-1],0);for(_>l&&(r.F.restrictDepth(d,l,_),_=l),h=0;h<g;h++)a[1+(d[h].lit<<1)]=d[h].d;return _},r.F.setDepth=function(n,a){return n.lit!=-1?(n.d=a,a):Math.max(r.F.setDepth(n.l,a+1),r.F.setDepth(n.r,a+1))},r.F.restrictDepth=function(n,a,l){var s=0,f=1<<l-a,c=0;for(n.sort(function(g,d){return d.d==g.d?g.f-d.f:d.d-g.d}),s=0;s<n.length&&n[s].d>a;s++){var h=n[s].d;n[s].d=a,c+=f-(1<<l-h)}for(c>>>=l-a;c>0;)(h=n[s].d)<a?(n[s].d++,c-=1<<a-h-1):s++;for(;s>=0;s--)n[s].d==a&&c<0&&(n[s].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(n,a){var l=0;return a[16|l]<=n&&(l|=16),a[8|l]<=n&&(l|=8),a[4|l]<=n&&(l|=4),a[2|l]<=n&&(l|=2),a[1|l]<=n&&(l|=1),l},r.F._writeLit=function(n,a,l,s){return r.F._putsF(l,s,a[n<<1]),s+a[1+(n<<1)]},r.F.inflate=function(n,a){var l=Uint8Array;if(n[0]==3&&n[1]==0)return a||new l(0);var s=r.F,f=s._bitsF,c=s._bitsE,h=s._decodeTiny,g=s.makeCodes,d=s.codes2map,u=s._get17,m=s.U,w=a==null;w&&(a=new l(n.length>>>2<<3));for(var b,y,E=0,_=0,A=0,C=0,U=0,k=0,P=0,F=0,I=0;E==0;)if(E=f(n,I,1),_=f(n,I+1,2),I+=3,_!=0){if(w&&(a=r.F._check(a,F+(1<<17))),_==1&&(b=m.flmap,y=m.fdmap,k=511,P=31),_==2){A=c(n,I,5)+257,C=c(n,I+5,5)+1,U=c(n,I+10,4)+4,I+=14;for(var O=0;O<38;O+=2)m.itree[O]=0,m.itree[O+1]=0;var R=1;for(O=0;O<U;O++){var G=c(n,I+3*O,3);m.itree[1+(m.ordr[O]<<1)]=G,G>R&&(R=G)}I+=3*U,g(m.itree,R),d(m.itree,R,m.imap),b=m.lmap,y=m.dmap,I=h(m.imap,(1<<R)-1,A+C,n,I,m.ttree);var M=s._copyOut(m.ttree,0,A,m.ltree);k=(1<<M)-1;var S=s._copyOut(m.ttree,A,C,m.dtree);P=(1<<S)-1,g(m.ltree,M),d(m.ltree,M,b),g(m.dtree,S),d(m.dtree,S,y)}for(;;){var x=b[u(n,I)&k];I+=15&x;var Z=x>>>4;if(Z>>>8==0)a[F++]=Z;else{if(Z==256)break;var z=F+Z-254;if(Z>264){var T=m.ldef[Z-257];z=F+(T>>>3)+c(n,I,7&T),I+=7&T}var D=y[u(n,I)&P];I+=15&D;var Y=D>>>4,Q=m.ddef[Y],q=(Q>>>4)+f(n,I,15&Q);for(I+=15&Q,w&&(a=r.F._check(a,F+(1<<17)));F<z;)a[F]=a[F++-q],a[F]=a[F++-q],a[F]=a[F++-q],a[F]=a[F++-q];F=z}}}else{(7&I)!=0&&(I+=8-(7&I));var X=4+(I>>>3),K=n[X-4]|n[X-3]<<8;w&&(a=r.F._check(a,F+K)),a.set(new l(n.buffer,n.byteOffset+X,K),F),I=X+K<<3,F+=K}return a.length==F?a:a.slice(0,F)},r.F._check=function(n,a){var l=n.length;if(a<=l)return n;var s=new Uint8Array(Math.max(l<<1,a));return s.set(n,0),s},r.F._decodeTiny=function(n,a,l,s,f,c){for(var h=r.F._bitsE,g=r.F._get17,d=0;d<l;){var u=n[g(s,f)&a];f+=15&u;var m=u>>>4;if(m<=15)c[d]=m,d++;else{var w=0,b=0;m==16?(b=3+h(s,f,2),f+=2,w=c[d-1]):m==17?(b=3+h(s,f,3),f+=3):m==18&&(b=11+h(s,f,7),f+=7);for(var y=d+b;d<y;)c[d]=w,d++}}return f},r.F._copyOut=function(n,a,l,s){for(var f=0,c=0,h=s.length>>>1;c<l;){var g=n[c+a];s[c<<1]=0,s[1+(c<<1)]=g,g>f&&(f=g),c++}for(;c<h;)s[c<<1]=0,s[1+(c<<1)]=0,c++;return f},r.F.makeCodes=function(n,a){for(var l,s,f,c,h=r.F.U,g=n.length,d=h.bl_count,u=0;u<=a;u++)d[u]=0;for(u=1;u<g;u+=2)d[n[u]]++;var m=h.next_code;for(l=0,d[0]=0,s=1;s<=a;s++)l=l+d[s-1]<<1,m[s]=l;for(f=0;f<g;f+=2)(c=n[f+1])!=0&&(n[f]=m[c],m[c]++)},r.F.codes2map=function(n,a,l){for(var s=n.length,f=r.F.U.rev15,c=0;c<s;c+=2)if(n[c+1]!=0)for(var h=c>>1,g=n[c+1],d=h<<4|g,u=a-g,m=n[c]<<u,w=m+(1<<u);m!=w;)l[f[m]>>>15-a]=d,m++},r.F.revCodes=function(n,a){for(var l=r.F.U.rev15,s=15-a,f=0;f<n.length;f+=2){var c=n[f]<<a-n[f+1];n[f]=l[c]>>>s}},r.F._putsE=function(n,a,l){l<<=7&a;var s=a>>>3;n[s]|=l,n[s+1]|=l>>>8},r.F._putsF=function(n,a,l){l<<=7&a;var s=a>>>3;n[s]|=l,n[s+1]|=l>>>8,n[s+2]|=l>>>16},r.F._bitsE=function(n,a,l){return(n[a>>>3]|n[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},r.F._bitsF=function(n,a,l){return(n[a>>>3]|n[1+(a>>>3)]<<8|n[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},r.F._get17=function(n,a){return(n[a>>>3]|n[1+(a>>>3)]<<8|n[2+(a>>>3)]<<16)>>>(7&a)},r.F._get25=function(n,a){return(n[a>>>3]|n[1+(a>>>3)]<<8|n[2+(a>>>3)]<<16|n[3+(a>>>3)]<<24)>>>(7&a)},r.F.U=(t=Uint16Array,i=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var n=r.F.U,a=0;a<32768;a++){var l=a;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,n.rev15[a]=(l>>>16|l<<16)>>>17}function s(f,c,h){for(;c--!=0;)f.push(0,h)}for(a=0;a<32;a++)n.ldef[a]=n.of0[a]<<3|n.exb[a],n.ddef[a]=n.df0[a]<<4|n.dxb[a];s(n.fltree,144,8),s(n.fltree,112,9),s(n.fltree,24,7),s(n.fltree,8,8),r.F.makeCodes(n.fltree,9),r.F.codes2map(n.fltree,9,n.flmap),r.F.revCodes(n.fltree,9),s(n.fdtree,32,5),r.F.makeCodes(n.fdtree,5),r.F.codes2map(n.fdtree,5,n.fdmap),r.F.revCodes(n.fdtree,5),s(n.itree,19,0),s(n.ltree,286,0),s(n.dtree,30,0),s(n.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(e){var t=e.width,i=e.height;if(e.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(e.data,t,i,e).buffer];var r=[];e.frames[0].data==null&&(e.frames[0].data=e.data);for(var n=t*i*4,a=new Uint8Array(n),l=new Uint8Array(n),s=new Uint8Array(n),f=0;f<e.frames.length;f++){var c=e.frames[f],h=c.rect.x,g=c.rect.y,d=c.rect.width,u=c.rect.height,m=UPNG.toRGBA8.decodeImage(c.data,d,u,e);if(f!=0)for(var w=0;w<n;w++)s[w]=a[w];if(c.blend==0?UPNG._copyTile(m,d,u,a,t,i,h,g,0):c.blend==1&&UPNG._copyTile(m,d,u,a,t,i,h,g,1),r.push(a.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)UPNG._copyTile(l,d,u,a,t,i,h,g,0);else if(c.dispose==2)for(w=0;w<n;w++)a[w]=s[w]}}return r},UPNG.toRGBA8.decodeImage=function(e,t,i,r){var n=t*i,a=UPNG.decode._getBPP(r),l=Math.ceil(t*a/8),s=new Uint8Array(4*n),f=new Uint32Array(s.buffer),c=r.ctype,h=r.depth,g=UPNG._bin.readUshort;if(c==6){var d=n<<2;if(h==8)for(var u=0;u<d;u+=4)s[u]=e[u],s[u+1]=e[u+1],s[u+2]=e[u+2],s[u+3]=e[u+3];if(h==16)for(u=0;u<d;u++)s[u]=e[u<<1]}else if(c==2){var m=r.tabs.tRNS;if(m==null){if(h==8)for(u=0;u<n;u++){var w=3*u;f[u]=255<<24|e[w+2]<<16|e[w+1]<<8|e[w]}if(h==16)for(u=0;u<n;u++)w=6*u,f[u]=255<<24|e[w+4]<<16|e[w+2]<<8|e[w]}else{var b=m[0],y=m[1],E=m[2];if(h==8)for(u=0;u<n;u++){var _=u<<2;w=3*u,f[u]=255<<24|e[w+2]<<16|e[w+1]<<8|e[w],e[w]==b&&e[w+1]==y&&e[w+2]==E&&(s[_+3]=0)}if(h==16)for(u=0;u<n;u++)_=u<<2,w=6*u,f[u]=255<<24|e[w+4]<<16|e[w+2]<<8|e[w],g(e,w)==b&&g(e,w+2)==y&&g(e,w+4)==E&&(s[_+3]=0)}}else if(c==3){var A=r.tabs.PLTE,C=r.tabs.tRNS,U=C?C.length:0;if(h==1)for(var k=0;k<i;k++){var P=k*l,F=k*t;for(u=0;u<t;u++){_=F+u<<2;var I=3*(O=e[P+(u>>3)]>>7-((7&u)<<0)&1);s[_]=A[I],s[_+1]=A[I+1],s[_+2]=A[I+2],s[_+3]=O<U?C[O]:255}}if(h==2)for(k=0;k<i;k++)for(P=k*l,F=k*t,u=0;u<t;u++)_=F+u<<2,I=3*(O=e[P+(u>>2)]>>6-((3&u)<<1)&3),s[_]=A[I],s[_+1]=A[I+1],s[_+2]=A[I+2],s[_+3]=O<U?C[O]:255;if(h==4)for(k=0;k<i;k++)for(P=k*l,F=k*t,u=0;u<t;u++)_=F+u<<2,I=3*(O=e[P+(u>>1)]>>4-((1&u)<<2)&15),s[_]=A[I],s[_+1]=A[I+1],s[_+2]=A[I+2],s[_+3]=O<U?C[O]:255;if(h==8)for(u=0;u<n;u++){var O;_=u<<2,I=3*(O=e[u]),s[_]=A[I],s[_+1]=A[I+1],s[_+2]=A[I+2],s[_+3]=O<U?C[O]:255}}else if(c==4){if(h==8)for(u=0;u<n;u++){_=u<<2;var R=e[G=u<<1];s[_]=R,s[_+1]=R,s[_+2]=R,s[_+3]=e[G+1]}if(h==16)for(u=0;u<n;u++){var G;_=u<<2,R=e[G=u<<2],s[_]=R,s[_+1]=R,s[_+2]=R,s[_+3]=e[G+2]}}else if(c==0)for(b=r.tabs.tRNS?r.tabs.tRNS:-1,k=0;k<i;k++){var M=k*l,S=k*t;if(h==1)for(var x=0;x<t;x++){var Z=(R=255*(e[M+(x>>>3)]>>>7-(7&x)&1))==255*b?0:255;f[S+x]=Z<<24|R<<16|R<<8|R}else if(h==2)for(x=0;x<t;x++)Z=(R=85*(e[M+(x>>>2)]>>>6-((3&x)<<1)&3))==85*b?0:255,f[S+x]=Z<<24|R<<16|R<<8|R;else if(h==4)for(x=0;x<t;x++)Z=(R=17*(e[M+(x>>>1)]>>>4-((1&x)<<2)&15))==17*b?0:255,f[S+x]=Z<<24|R<<16|R<<8|R;else if(h==8)for(x=0;x<t;x++)Z=(R=e[M+x])==b?0:255,f[S+x]=Z<<24|R<<16|R<<8|R;else if(h==16)for(x=0;x<t;x++)R=e[M+(x<<1)],Z=g(e,M+(x<<u))==b?0:255,f[S+x]=Z<<24|R<<16|R<<8|R}return s},UPNG.decode=function(e){for(var t,i=new Uint8Array(e),r=8,n=UPNG._bin,a=n.readUshort,l=n.readUint,s={tabs:{},frames:[]},f=new Uint8Array(i.length),c=0,h=0,g=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(i[d]!=g[d])throw"The input is not a PNG file!";for(;r<i.length;){var u=n.readUint(i,r);r+=4;var m=n.readASCII(i,r,4);if(r+=4,m=="IHDR")UPNG.decode._IHDR(i,r,s);else if(m=="CgBI")s.tabs[m]=i.slice(r,r+4);else if(m=="IDAT"){for(d=0;d<u;d++)f[c+d]=i[r+d];c+=u}else if(m=="acTL")s.tabs[m]={num_frames:l(i,r),num_plays:l(i,r+4)},t=new Uint8Array(i.length);else if(m=="fcTL"){var w;h!=0&&((w=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,t.slice(0,h),w.rect.width,w.rect.height),h=0);var b={x:l(i,r+12),y:l(i,r+16),width:l(i,r+4),height:l(i,r+8)},y=a(i,r+22);y=a(i,r+20)/(y==0?100:y);var E={rect:b,delay:Math.round(1e3*y),dispose:i[r+24],blend:i[r+25]};s.frames.push(E)}else if(m=="fdAT"){for(d=0;d<u-4;d++)t[h+d]=i[r+d+4];h+=u-4}else if(m=="pHYs")s.tabs[m]=[n.readUint(i,r),n.readUint(i,r+4),i[r+8]];else if(m=="cHRM")for(s.tabs[m]=[],d=0;d<8;d++)s.tabs[m].push(n.readUint(i,r+4*d));else if(m=="tEXt"||m=="zTXt"){s.tabs[m]==null&&(s.tabs[m]={});var _=n.nextZero(i,r),A=n.readASCII(i,r,_-r),C=r+u-_-1;if(m=="tEXt")P=n.readASCII(i,_+1,C);else{var U=UPNG.decode._inflate(i.slice(_+2,_+2+C));P=n.readUTF8(U,0,U.length)}s.tabs[m][A]=P}else if(m=="iTXt"){s.tabs[m]==null&&(s.tabs[m]={}),_=0;var k=r;_=n.nextZero(i,k),A=n.readASCII(i,k,_-k);var P,F=i[k=_+1];i[k+1],k+=2,_=n.nextZero(i,k),n.readASCII(i,k,_-k),k=_+1,_=n.nextZero(i,k),n.readUTF8(i,k,_-k),C=u-((k=_+1)-r),F==0?P=n.readUTF8(i,k,C):(U=UPNG.decode._inflate(i.slice(k,k+C)),P=n.readUTF8(U,0,U.length)),s.tabs[m][A]=P}else if(m=="PLTE")s.tabs[m]=n.readBytes(i,r,u);else if(m=="hIST"){var I=s.tabs.PLTE.length/3;for(s.tabs[m]=[],d=0;d<I;d++)s.tabs[m].push(a(i,r+2*d))}else if(m=="tRNS")s.ctype==3?s.tabs[m]=n.readBytes(i,r,u):s.ctype==0?s.tabs[m]=a(i,r):s.ctype==2&&(s.tabs[m]=[a(i,r),a(i,r+2),a(i,r+4)]);else if(m=="gAMA")s.tabs[m]=n.readUint(i,r)/1e5;else if(m=="sRGB")s.tabs[m]=i[r];else if(m=="bKGD")s.ctype==0||s.ctype==4?s.tabs[m]=[a(i,r)]:s.ctype==2||s.ctype==6?s.tabs[m]=[a(i,r),a(i,r+2),a(i,r+4)]:s.ctype==3&&(s.tabs[m]=i[r]);else if(m=="IEND")break;r+=u,n.readUint(i,r),r+=4}return h!=0&&((w=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,t.slice(0,h),w.rect.width,w.rect.height),h=0),s.data=UPNG.decode._decompress(s,f,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},UPNG.decode._decompress=function(e,t,i,r){var n=UPNG.decode._getBPP(e),a=Math.ceil(i*n/8),l=new Uint8Array((a+1+e.interlace)*r);return t=e.tabs.CgBI?UPNG.inflateRaw(t,l):UPNG.decode._inflate(t,l),e.interlace==0?t=UPNG.decode._filterZero(t,e,0,i,r):e.interlace==1&&(t=UPNG.decode._readInterlace(t,e)),t},UPNG.decode._inflate=function(e,t){return UPNG.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(e,t){var i,r,n=Uint8Array,a=0,l=0,s=0,f=0,c=0,h=0,g=0,d=0,u=0;if(e[0]==3&&e[1]==0)return t||new n(0);var m=H.H,w=m.b,b=m.e,y=m.R,E=m.n,_=m.A,A=m.Z,C=m.m,U=t==null;for(U&&(t=new n(e.length>>>2<<5));a==0;)if(a=w(e,u,1),l=w(e,u+1,2),u+=3,l!=0){if(U&&(t=H.H.W(t,d+(1<<17))),l==1&&(i=C.J,r=C.h,h=511,g=31),l==2){s=b(e,u,5)+257,f=b(e,u+5,5)+1,c=b(e,u+10,4)+4,u+=14;for(var k=1,P=0;P<38;P+=2)C.Q[P]=0,C.Q[P+1]=0;for(P=0;P<c;P++){var F=b(e,u+3*P,3);C.Q[1+(C.X[P]<<1)]=F,F>k&&(k=F)}u+=3*c,E(C.Q,k),_(C.Q,k,C.u),i=C.w,r=C.d,u=y(C.u,(1<<k)-1,s+f,e,u,C.v);var I=m.V(C.v,0,s,C.C);h=(1<<I)-1;var O=m.V(C.v,s,f,C.D);g=(1<<O)-1,E(C.C,I),_(C.C,I,i),E(C.D,O),_(C.D,O,r)}for(;;){var R=i[A(e,u)&h];u+=15&R;var G=R>>>4;if(G>>>8==0)t[d++]=G;else{if(G==256)break;var M=d+G-254;if(G>264){var S=C.q[G-257];M=d+(S>>>3)+b(e,u,7&S),u+=7&S}var x=r[A(e,u)&g];u+=15&x;var Z=x>>>4,z=C.c[Z],T=(z>>>4)+w(e,u,15&z);for(u+=15&z;d<M;)t[d]=t[d++-T],t[d]=t[d++-T],t[d]=t[d++-T],t[d]=t[d++-T];d=M}}}else{(7&u)!=0&&(u+=8-(7&u));var D=4+(u>>>3),Y=e[D-4]|e[D-3]<<8;U&&(t=H.H.W(t,d+Y)),t.set(new n(e.buffer,e.byteOffset+D,Y),d),u=D+Y<<3,d+=Y}return t.length==d?t:t.slice(0,d)},H.H.W=function(e,t){var i=e.length;if(t<=i)return e;var r=new Uint8Array(i<<1);return r.set(e,0),r},H.H.R=function(e,t,i,r,n,a){for(var l=H.H.e,s=H.H.Z,f=0;f<i;){var c=e[s(r,n)&t];n+=15&c;var h=c>>>4;if(h<=15)a[f]=h,f++;else{var g=0,d=0;h==16?(d=3+l(r,n,2),n+=2,g=a[f-1]):h==17?(d=3+l(r,n,3),n+=3):h==18&&(d=11+l(r,n,7),n+=7);for(var u=f+d;f<u;)a[f]=g,f++}}return n},H.H.V=function(e,t,i,r){for(var n=0,a=0,l=r.length>>>1;a<i;){var s=e[a+t];r[a<<1]=0,r[1+(a<<1)]=s,s>n&&(n=s),a++}for(;a<l;)r[a<<1]=0,r[1+(a<<1)]=0,a++;return n},H.H.n=function(e,t){for(var i,r,n,a,l=H.H.m,s=e.length,f=l.j,c=0;c<=t;c++)f[c]=0;for(c=1;c<s;c+=2)f[e[c]]++;var h=l.K;for(i=0,f[0]=0,r=1;r<=t;r++)i=i+f[r-1]<<1,h[r]=i;for(n=0;n<s;n+=2)(a=e[n+1])!=0&&(e[n]=h[a],h[a]++)},H.H.A=function(e,t,i){for(var r=e.length,n=H.H.m.r,a=0;a<r;a+=2)if(e[a+1]!=0)for(var l=a>>1,s=e[a+1],f=l<<4|s,c=t-s,h=e[a]<<c,g=h+(1<<c);h!=g;)i[n[h]>>>15-t]=f,h++},H.H.l=function(e,t){for(var i=H.H.m.r,r=15-t,n=0;n<e.length;n+=2){var a=e[n]<<t-e[n+1];e[n]=i[a]>>>r}},H.H.M=function(e,t,i){i<<=7&t;var r=t>>>3;e[r]|=i,e[r+1]|=i>>>8},H.H.I=function(e,t,i){i<<=7&t;var r=t>>>3;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},H.H.e=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<i)-1},H.H.b=function(e,t,i){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<i)-1},H.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},H.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var e=H.H.m,t=0;t<32768;t++){var i=t;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,e.r[t]=(i>>>16|i<<16)>>>17}function r(n,a,l){for(;a--!=0;)n.push(0,l)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];r(e._,144,8),r(e._,112,9),r(e._,24,7),r(e._,8,8),H.H.n(e._,9),H.H.A(e._,9,e.J),H.H.l(e._,9),r(e.$,32,5),H.H.n(e.$,5),H.H.A(e.$,5,e.h),H.H.l(e.$,5),r(e.Q,19,0),r(e.C,286,0),r(e.D,30,0),r(e.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(e,t){for(var i=t.width,r=t.height,n=UPNG.decode._getBPP(t),a=n>>3,l=Math.ceil(i*n/8),s=new Uint8Array(r*l),f=0,c=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],g=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],u=0;u<7;){for(var m=g[u],w=d[u],b=0,y=0,E=c[u];E<r;)E+=m,y++;for(var _=h[u];_<i;)_+=w,b++;var A=Math.ceil(b*n/8);UPNG.decode._filterZero(e,t,f,b,y);for(var C=0,U=c[u];U<r;){for(var k=h[u],P=f+C*A<<3;k<i;){var F;if(n==1&&(F=(F=e[P>>3])>>7-(7&P)&1,s[U*l+(k>>3)]|=F<<7-((7&k)<<0)),n==2&&(F=(F=e[P>>3])>>6-(7&P)&3,s[U*l+(k>>2)]|=F<<6-((3&k)<<1)),n==4&&(F=(F=e[P>>3])>>4-(7&P)&15,s[U*l+(k>>1)]|=F<<4-((1&k)<<2)),n>=8)for(var I=U*l+k*a,O=0;O<a;O++)s[I+O]=e[(P>>3)+O];P+=n,k+=w}C++,U+=m}b*y!=0&&(f+=y*(1+A)),u+=1}return s},UPNG.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},UPNG.decode._filterZero=function(e,t,i,r,n){var a=UPNG.decode._getBPP(t),l=Math.ceil(r*a/8),s=UPNG.decode._paeth;a=Math.ceil(a/8);var f=0,c=1,h=e[i],g=0;if(h>1&&(e[i]=[0,0,1][h-2]),h==3)for(g=a;g<l;g++)e[g+1]=e[g+1]+(e[g+1-a]>>>1)&255;for(var d=0;d<n;d++)if(g=0,(h=e[(c=(f=i+d*l)+d+1)-1])==0)for(;g<l;g++)e[f+g]=e[c+g];else if(h==1){for(;g<a;g++)e[f+g]=e[c+g];for(;g<l;g++)e[f+g]=e[c+g]+e[f+g-a]}else if(h==2)for(;g<l;g++)e[f+g]=e[c+g]+e[f+g-l];else if(h==3){for(;g<a;g++)e[f+g]=e[c+g]+(e[f+g-l]>>>1);for(;g<l;g++)e[f+g]=e[c+g]+(e[f+g-l]+e[f+g-a]>>>1)}else{for(;g<a;g++)e[f+g]=e[c+g]+s(0,e[f+g-l],0);for(;g<l;g++)e[f+g]=e[c+g]+s(e[f+g-a],e[f+g-l],e[f+g-a-l])}return e},UPNG.decode._paeth=function(e,t,i){var r=e+t-i,n=r-e,a=r-t,l=r-i;return n*n<=a*a&&n*n<=l*l?e:a*a<=l*l?t:i},UPNG.decode._IHDR=function(e,t,i){var r=UPNG._bin;i.width=r.readUint(e,t),t+=4,i.height=r.readUint(e,t),t+=4,i.depth=e[t],t++,i.ctype=e[t],t++,i.compress=e[t],t++,i.filter=e[t],t++,i.interlace=e[t],t++},UPNG._bin={nextZero:function(t,i){for(;t[i]!=0;)i++;return i},readUshort:function(t,i){return t[i]<<8|t[i+1]},writeUshort:function(t,i,r){t[i]=r>>8&255,t[i+1]=255&r},readUint:function(t,i){return 16777216*t[i]+(t[i+1]<<16|t[i+2]<<8|t[i+3])},writeUint:function(t,i,r){t[i]=r>>24&255,t[i+1]=r>>16&255,t[i+2]=r>>8&255,t[i+3]=255&r},readASCII:function(t,i,r){for(var n="",a=0;a<r;a++)n+=String.fromCharCode(t[i+a]);return n},writeASCII:function(t,i,r){for(var n=0;n<r.length;n++)t[i+n]=r.charCodeAt(n)},readBytes:function(t,i,r){for(var n=[],a=0;a<r;a++)n.push(t[i+a]);return n},pad:function(t){return t.length<2?"0".concat(t):t},readUTF8:function(t,i,r){for(var n,a="",l=0;l<r;l++)a+="%".concat(UPNG._bin.pad(t[i+l].toString(16)));try{n=decodeURIComponent(a)}catch{return UPNG._bin.readASCII(t,i,r)}return n}},UPNG._copyTile=function(e,t,i,r,n,a,l,s,f){for(var c=Math.min(t,n),h=Math.min(i,a),g=0,d=0,u=0;u<h;u++)for(var m=0;m<c;m++)if(l>=0&&s>=0?(g=u*t+m<<2,d=(s+u)*n+l+m<<2):(g=(-s+u)*t-l+m<<2,d=u*n+m<<2),f==0)r[d]=e[g],r[d+1]=e[g+1],r[d+2]=e[g+2],r[d+3]=e[g+3];else if(f==1){var w=e[g+3]*.00392156862745098,b=e[g]*w,y=e[g+1]*w,E=e[g+2]*w,_=r[d+3]*(1/255),A=r[d]*_,C=r[d+1]*_,U=r[d+2]*_,k=1-w,P=w+_*k,F=P==0?0:1/P;r[d+3]=255*P,r[d+0]=(b+A*k)*F,r[d+1]=(y+C*k)*F,r[d+2]=(E+U*k)*F}else if(f==2)w=e[g+3],b=e[g],y=e[g+1],E=e[g+2],_=r[d+3],A=r[d],C=r[d+1],U=r[d+2],w==_&&b==A&&y==C&&E==U?(r[d]=0,r[d+1]=0,r[d+2]=0,r[d+3]=0):(r[d]=b,r[d+1]=y,r[d+2]=E,r[d+3]=w);else if(f==3){if(w=e[g+3],b=e[g],y=e[g+1],E=e[g+2],_=r[d+3],A=r[d],C=r[d+1],U=r[d+2],w==_&&b==A&&y==C&&E==U)continue;if(w<220&&_>20)return!1}return!0},UPNG.encode=function(e,t,i,r,n,a,l){r==null&&(r=0),l==null&&(l=!1);var s=UPNG.encode.compress(e,t,i,r,[!1,!1,!1,0,l]);return UPNG.encode.compressPNG(s,-1),UPNG.encode._main(s,t,i,n,a)},UPNG.encodeLL=function(e,t,i,r,n,a,l,s){for(var f={ctype:0+(r==1?0:2)+(n==0?0:4),depth:a,frames:[]},c=(r+n)*a,h=c*t,g=0;g<e.length;g++)f.frames.push({rect:{x:0,y:0,width:t,height:i},img:new Uint8Array(e[g]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(h/8)});return UPNG.encode.compressPNG(f,0,!0),UPNG.encode._main(f,t,i,l,s)},UPNG.encode._main=function(e,t,i,r,n){n==null&&(n={});var a=UPNG.crc.crc,l=UPNG._bin.writeUint,s=UPNG._bin.writeUshort,f=UPNG._bin.writeASCII,c=8,h=e.frames.length>1,g=!1,d=33+(h?20:0);if(n.sRGB!=null&&(d+=13),n.pHYs!=null&&(d+=21),e.ctype==3){for(var u=e.plte.length,m=0;m<u;m++)e.plte[m]>>>24!=255&&(g=!0);d+=8+3*u+4+(g?8+1*u+4:0)}for(var w=0;w<e.frames.length;w++)h&&(d+=38),d+=(P=e.frames[w]).cimg.length+12,w!=0&&(d+=4);d+=12;var b=new Uint8Array(d),y=[137,80,78,71,13,10,26,10];for(m=0;m<8;m++)b[m]=y[m];if(l(b,c,13),f(b,c+=4,"IHDR"),l(b,c+=4,t),l(b,c+=4,i),b[c+=4]=e.depth,b[++c]=e.ctype,b[++c]=0,b[++c]=0,b[++c]=0,l(b,++c,a(b,c-17,17)),c+=4,n.sRGB!=null&&(l(b,c,1),f(b,c+=4,"sRGB"),b[c+=4]=n.sRGB,l(b,++c,a(b,c-5,5)),c+=4),n.pHYs!=null&&(l(b,c,9),f(b,c+=4,"pHYs"),l(b,c+=4,n.pHYs[0]),l(b,c+=4,n.pHYs[1]),b[c+=4]=n.pHYs[2],l(b,++c,a(b,c-13,13)),c+=4),h&&(l(b,c,8),f(b,c+=4,"acTL"),l(b,c+=4,e.frames.length),l(b,c+=4,n.loop!=null?n.loop:0),l(b,c+=4,a(b,c-12,12)),c+=4),e.ctype==3){for(l(b,c,3*(u=e.plte.length)),f(b,c+=4,"PLTE"),c+=4,m=0;m<u;m++){var E=3*m,_=e.plte[m],A=255&_,C=_>>>8&255,U=_>>>16&255;b[c+E+0]=A,b[c+E+1]=C,b[c+E+2]=U}if(l(b,c+=3*u,a(b,c-3*u-4,3*u+4)),c+=4,g){for(l(b,c,u),f(b,c+=4,"tRNS"),c+=4,m=0;m<u;m++)b[c+m]=e.plte[m]>>>24&255;l(b,c+=u,a(b,c-u-4,u+4)),c+=4}}var k=0;for(w=0;w<e.frames.length;w++){var P=e.frames[w];h&&(l(b,c,26),f(b,c+=4,"fcTL"),l(b,c+=4,k++),l(b,c+=4,P.rect.width),l(b,c+=4,P.rect.height),l(b,c+=4,P.rect.x),l(b,c+=4,P.rect.y),s(b,c+=4,r[w]),s(b,c+=2,1e3),b[c+=2]=P.dispose,b[++c]=P.blend,l(b,++c,a(b,c-30,30)),c+=4);var F=P.cimg;l(b,c,(u=F.length)+(w==0?0:4));var I=c+=4;f(b,c,w==0?"IDAT":"fdAT"),c+=4,w!=0&&(l(b,c,k++),c+=4),b.set(F,c),l(b,c+=u,a(b,I,c-I)),c+=4}return l(b,c,0),f(b,c+=4,"IEND"),l(b,c+=4,a(b,c-4,4)),c+=4,b.buffer},UPNG.encode.compressPNG=function(e,t,i){for(var r=0;r<e.frames.length;r++){var n=e.frames[r];n.rect.width;var a=n.rect.height,l=new Uint8Array(a*n.bpl+a);n.cimg=UPNG.encode._filterZero(n.img,a,n.bpp,n.bpl,l,t,i)}},UPNG.encode.compress=function(e,t,i,r,n){for(var a=n[0],l=n[1],s=n[2],f=n[3],c=n[4],h=6,g=8,d=255,u=0;u<e.length;u++)for(var m=new Uint8Array(e[u]),w=m.length,b=0;b<w;b+=4)d&=m[b+3];var y=d!=255,E=UPNG.encode.framize(e,t,i,a,l,s),_={},A=[],C=[];if(r!=0){var U=[];for(b=0;b<E.length;b++)U.push(E[b].img.buffer);var k=UPNG.encode.concatRGBA(U),P=UPNG.quantize(k,r),F=0,I=new Uint8Array(P.abuf);for(b=0;b<E.length;b++){var O=($=E[b].img).length;for(C.push(new Uint8Array(P.inds.buffer,F>>2,O>>2)),u=0;u<O;u+=4)$[u]=I[F+u],$[u+1]=I[F+u+1],$[u+2]=I[F+u+2],$[u+3]=I[F+u+3];F+=O}for(b=0;b<P.plte.length;b++)A.push(P.plte[b].est.rgba)}else for(u=0;u<E.length;u++){var R=E[u],G=new Uint32Array(R.img.buffer),M=R.rect.width,S=(w=G.length,new Uint8Array(w));for(C.push(S),b=0;b<w;b++){var x=G[b];if(b!=0&&x==G[b-1])S[b]=S[b-1];else if(b>M&&x==G[b-M])S[b]=S[b-M];else{var Z=_[x];if(Z==null&&(_[x]=Z=A.length,A.push(x),A.length>=300))break;S[b]=Z}}}var z=A.length;for(z<=256&&c==0&&(g=z<=2?1:z<=4?2:z<=16?4:8,g=Math.max(g,f)),u=0;u<E.length;u++){(R=E[u]).rect.x,R.rect.y,M=R.rect.width;var T=R.rect.height,D=R.img;new Uint32Array(D.buffer);var Y=4*M,Q=4;if(z<=256&&c==0){Y=Math.ceil(g*M/8);for(var q=new Uint8Array(Y*T),X=C[u],K=0;K<T;K++){b=K*Y;var J=K*M;if(g==8)for(var V=0;V<M;V++)q[b+V]=X[J+V];else if(g==4)for(V=0;V<M;V++)q[b+(V>>1)]|=X[J+V]<<4-4*(1&V);else if(g==2)for(V=0;V<M;V++)q[b+(V>>2)]|=X[J+V]<<6-2*(3&V);else if(g==1)for(V=0;V<M;V++)q[b+(V>>3)]|=X[J+V]<<7-1*(7&V)}D=q,h=3,Q=1}else if(y==0&&E.length==1){q=new Uint8Array(M*T*3);var ne=M*T;for(b=0;b<ne;b++){var $,ee=4*b;q[$=3*b]=D[ee],q[$+1]=D[ee+1],q[$+2]=D[ee+2]}D=q,h=2,Q=3,Y=3*M}R.img=D,R.bpl=Y,R.bpp=Q}return{ctype:h,depth:g,plte:A,frames:E}},UPNG.encode.framize=function(e,t,i,r,n,a){for(var l=[],s=0;s<e.length;s++){var f,c=new Uint8Array(e[s]),h=new Uint32Array(c.buffer),g=0,d=0,u=t,m=i,w=r?1:0;if(s!=0){for(var b=a||r||s==1||l[s-2].dispose!=0?1:2,y=0,E=1e9,_=0;_<b;_++){for(var A=new Uint8Array(e[s-1-_]),C=new Uint32Array(e[s-1-_]),U=t,k=i,P=-1,F=-1,I=0;I<i;I++)for(var O=0;O<t;O++)h[z=I*t+O]!=C[z]&&(O<U&&(U=O),O>P&&(P=O),I<k&&(k=I),I>F&&(F=I));P==-1&&(U=k=P=F=0),n&&((1&U)==1&&U--,(1&k)==1&&k--);var R=(P-U+1)*(F-k+1);R<E&&(E=R,y=_,g=U,d=k,u=P-U+1,m=F-k+1)}A=new Uint8Array(e[s-1-y]),y==1&&(l[s-1].dispose=2),f=new Uint8Array(u*m*4),UPNG._copyTile(A,t,i,f,u,m,-g,-d,0),(w=UPNG._copyTile(c,t,i,f,u,m,-g,-d,3)?1:0)==1?UPNG.encode._prepareDiff(c,t,i,f,{x:g,y:d,width:u,height:m}):UPNG._copyTile(c,t,i,f,u,m,-g,-d,0)}else f=c.slice(0);l.push({rect:{x:g,y:d,width:u,height:m},img:f,blend:w,dispose:0})}if(r){for(s=0;s<l.length;s++)if((T=l[s]).blend!=1){var G=T.rect,M=l[s-1].rect,S=Math.min(G.x,M.x),x=Math.min(G.y,M.y),Z={x:S,y:x,width:Math.max(G.x+G.width,M.x+M.width)-S,height:Math.max(G.y+G.height,M.y+M.height)-x};l[s-1].dispose=1,s-1!=0&&UPNG.encode._updateFrame(e,t,i,l,s-1,Z,n),UPNG.encode._updateFrame(e,t,i,l,s,Z,n)}}if(e.length!=1)for(var z=0;z<l.length;z++){var T;(T=l[z]).rect.width*T.rect.height}return l},UPNG.encode._updateFrame=function(e,t,i,r,n,a,l){for(var s=Uint8Array,f=Uint32Array,c=new s(e[n-1]),h=new f(e[n-1]),g=n+1<e.length?new s(e[n+1]):null,d=new s(e[n]),u=new f(d.buffer),m=t,w=i,b=-1,y=-1,E=0;E<a.height;E++)for(var _=0;_<a.width;_++){var A=a.x+_,C=a.y+E,U=C*t+A,k=u[U];k==0||r[n-1].dispose==0&&h[U]==k&&(g==null||g[4*U+3]!=0)||(A<m&&(m=A),A>b&&(b=A),C<w&&(w=C),C>y&&(y=C))}b==-1&&(m=w=b=y=0),l&&((1&m)==1&&m--,(1&w)==1&&w--),a={x:m,y:w,width:b-m+1,height:y-w+1};var P=r[n];P.rect=a,P.blend=1,P.img=new Uint8Array(a.width*a.height*4),r[n-1].dispose==0?(UPNG._copyTile(c,t,i,P.img,a.width,a.height,-a.x,-a.y,0),UPNG.encode._prepareDiff(d,t,i,P.img,a)):UPNG._copyTile(d,t,i,P.img,a.width,a.height,-a.x,-a.y,0)},UPNG.encode._prepareDiff=function(e,t,i,r,n){UPNG._copyTile(e,t,i,r,n.width,n.height,-n.x,-n.y,2)},UPNG.encode._filterZero=function(e,t,i,r,n,a,l){var s,f=[],c=[0,1,2,3,4];a!=-1?c=[a]:(t*r>5e5||i==1)&&(c=[0]),l&&(s={level:0});for(var h,g=UZIP,d=0;d<c.length;d++){for(var u=0;u<t;u++)UPNG.encode._filterLine(n,e,u,r,i,c[d]);f.push(g.deflate(n,s))}var m=1e9;for(d=0;d<f.length;d++)f[d].length<m&&(h=d,m=f[d].length);return f[h]},UPNG.encode._filterLine=function(e,t,i,r,n,a){var l=i*r,s=l+i,f=UPNG.decode._paeth;if(e[s]=a,s++,a==0)if(r<500)for(var c=0;c<r;c++)e[s+c]=t[l+c];else e.set(new Uint8Array(t.buffer,l,r),s);else if(a==1){for(c=0;c<n;c++)e[s+c]=t[l+c];for(c=n;c<r;c++)e[s+c]=t[l+c]-t[l+c-n]+256&255}else if(i==0){for(c=0;c<n;c++)e[s+c]=t[l+c];if(a==2)for(c=n;c<r;c++)e[s+c]=t[l+c];if(a==3)for(c=n;c<r;c++)e[s+c]=t[l+c]-(t[l+c-n]>>1)+256&255;if(a==4)for(c=n;c<r;c++)e[s+c]=t[l+c]-f(t[l+c-n],0,0)+256&255}else{if(a==2)for(c=0;c<r;c++)e[s+c]=t[l+c]+256-t[l+c-r]&255;if(a==3){for(c=0;c<n;c++)e[s+c]=t[l+c]+256-(t[l+c-r]>>1)&255;for(c=n;c<r;c++)e[s+c]=t[l+c]+256-(t[l+c-r]+t[l+c-n]>>1)&255}if(a==4){for(c=0;c<n;c++)e[s+c]=t[l+c]+256-f(0,t[l+c-r],0)&255;for(c=n;c<r;c++)e[s+c]=t[l+c]+256-f(t[l+c-n],t[l+c-r],t[l+c-n-r])&255}}},UPNG.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var i=t,r=0;r<8;r++)1&i?i=3988292384^i>>>1:i>>>=1;e[t]=i}return e}(),update:function(t,i,r,n){for(var a=0;a<n;a++)t=UPNG.crc.table[255&(t^i[r+a])]^t>>>8;return t},crc:function(t,i,r){return 4294967295^UPNG.crc.update(4294967295,t,i,r)}},UPNG.quantize=function(e,t){var i,r=new Uint8Array(e),n=r.slice(0),a=new Uint32Array(n.buffer),l=UPNG.quantize.getKDtree(n,t),s=l[0],f=l[1],c=UPNG.quantize.planeDst,h=r,g=a,d=h.length,u=new Uint8Array(r.length>>2);if(r.length<2e7)for(var m=0;m<d;m+=4){var w=h[m]*.00392156862745098,b=h[m+1]*(1/255),y=h[m+2]*(1/255),E=h[m+3]*(1/255);i=UPNG.quantize.getNearest(s,w,b,y,E),u[m>>2]=i.ind,g[m>>2]=i.est.rgba}else for(m=0;m<d;m+=4){for(w=h[m]*(1/255),b=h[m+1]*(1/255),y=h[m+2]*(1/255),E=h[m+3]*(1/255),i=s;i.left;)i=c(i.est,w,b,y,E)<=0?i.left:i.right;u[m>>2]=i.ind,g[m>>2]=i.est.rgba}return{abuf:n.buffer,inds:u,plte:f}},UPNG.quantize.getKDtree=function(e,t,i){i==null&&(i=1e-4);var r=new Uint32Array(e.buffer),n={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};n.bst=UPNG.quantize.stats(e,n.i0,n.i1),n.est=UPNG.quantize.estats(n.bst);for(var a=[n];a.length<t;){for(var l=0,s=0,f=0;f<a.length;f++)a[f].est.L>l&&(l=a[f].est.L,s=f);if(l<i)break;var c=a[s],h=UPNG.quantize.splitPixels(e,r,c.i0,c.i1,c.est.e,c.est.eMq255);if(c.i0>=h||c.i1<=h)c.est.L=0;else{var g={i0:c.i0,i1:h,bst:null,est:null,tdst:0,left:null,right:null};g.bst=UPNG.quantize.stats(e,g.i0,g.i1),g.est=UPNG.quantize.estats(g.bst);var d={i0:h,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:c.bst.N-g.bst.N},f=0;f<16;f++)d.bst.R[f]=c.bst.R[f]-g.bst.R[f];for(f=0;f<4;f++)d.bst.m[f]=c.bst.m[f]-g.bst.m[f];d.est=UPNG.quantize.estats(d.bst),c.left=g,c.right=d,a[s]=g,a.push(d)}}for(a.sort(function(u,m){return m.bst.N-u.bst.N}),f=0;f<a.length;f++)a[f].ind=f;return[n,a]},UPNG.quantize.getNearest=function(e,t,i,r,n){if(e.left==null)return e.tdst=UPNG.quantize.dist(e.est.q,t,i,r,n),e;var a=UPNG.quantize.planeDst(e.est,t,i,r,n),l=e.left,s=e.right;a>0&&(l=e.right,s=e.left);var f=UPNG.quantize.getNearest(l,t,i,r,n);if(f.tdst<=a*a)return f;var c=UPNG.quantize.getNearest(s,t,i,r,n);return c.tdst<f.tdst?c:f},UPNG.quantize.planeDst=function(e,t,i,r,n){var a=e.e;return a[0]*t+a[1]*i+a[2]*r+a[3]*n-e.eMq},UPNG.quantize.dist=function(e,t,i,r,n){var a=t-e[0],l=i-e[1],s=r-e[2],f=n-e[3];return a*a+l*l+s*s+f*f},UPNG.quantize.splitPixels=function(e,t,i,r,n,a){var l=UPNG.quantize.vecDot;for(r-=4;i<r;){for(;l(e,i,n)<=a;)i+=4;for(;l(e,r,n)>a;)r-=4;if(i>=r)break;var s=t[i>>2];t[i>>2]=t[r>>2],t[r>>2]=s,i+=4,r-=4}for(;l(e,i,n)>a;)i-=4;return i+4},UPNG.quantize.vecDot=function(e,t,i){return e[t]*i[0]+e[t+1]*i[1]+e[t+2]*i[2]+e[t+3]*i[3]},UPNG.quantize.stats=function(e,t,i){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=[0,0,0,0],a=i-t>>2,l=t;l<i;l+=4){var s=e[l]*.00392156862745098,f=e[l+1]*(1/255),c=e[l+2]*(1/255),h=e[l+3]*(1/255);n[0]+=s,n[1]+=f,n[2]+=c,n[3]+=h,r[0]+=s*s,r[1]+=s*f,r[2]+=s*c,r[3]+=s*h,r[5]+=f*f,r[6]+=f*c,r[7]+=f*h,r[10]+=c*c,r[11]+=c*h,r[15]+=h*h}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:n,N:a}},UPNG.quantize.estats=function(e){var t=e.R,i=e.m,r=e.N,n=i[0],a=i[1],l=i[2],s=i[3],f=r==0?0:1/r,c=[t[0]-n*n*f,t[1]-n*a*f,t[2]-n*l*f,t[3]-n*s*f,t[4]-a*n*f,t[5]-a*a*f,t[6]-a*l*f,t[7]-a*s*f,t[8]-l*n*f,t[9]-l*a*f,t[10]-l*l*f,t[11]-l*s*f,t[12]-s*n*f,t[13]-s*a*f,t[14]-s*l*f,t[15]-s*s*f],h=c,g=UPNG.M4,d=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,m=0;if(r!=0)for(var w=0;w<16&&(d=g.multVec(h,d),m=Math.sqrt(g.dot(d,d)),d=g.sml(1/m,d),!(w!=0&&Math.abs(m-u)<1e-9));w++)u=m;var b=[n*f,a*f,l*f,s*f];return{Cov:c,q:b,e:d,L:u,eMq255:g.dot(g.sml(255,b),d),eMq:g.dot(d,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2])<<16|Math.round(255*b[1])<<8|Math.round(255*b[0])<<0)>>>0}},UPNG.M4={multVec:function(t,i){return[t[0]*i[0]+t[1]*i[1]+t[2]*i[2]+t[3]*i[3],t[4]*i[0]+t[5]*i[1]+t[6]*i[2]+t[7]*i[3],t[8]*i[0]+t[9]*i[1]+t[10]*i[2]+t[11]*i[3],t[12]*i[0]+t[13]*i[1]+t[14]*i[2]+t[15]*i[3]]},dot:function(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]+t[3]*i[3]},sml:function(t,i){return[t*i[0],t*i[1],t*i[2],t*i[3]]}},UPNG.encode.concatRGBA=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].byteLength;var r=new Uint8Array(t),n=0;for(i=0;i<e.length;i++){for(var a=new Uint8Array(e[i]),l=a.length,s=0;s<l;s+=4){var f=a[s],c=a[s+1],h=a[s+2],g=a[s+3];g==0&&(f=c=h=0),r[n+s]=f,r[n+s+1]=c,r[n+s+2]=h,r[n+s+3]=g}n+=l}return r.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window!="undefined",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(r){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],l=globalThis.atob(n[1]),s=l.length,f=new Uint8Array(s);s--;)f[s]=l.charCodeAt(s);var c=new Blob([f],{type:a});c.name=t,c.lastModified=i,r(c)})}function getDataUrlFromFile(e){return new Promise(function(t,i){var r=new CustomFileReader;r.onload=function(){return t(r.result)},r.onerror=function(n){return i(n)},r.readAsDataURL(e)})}function loadImage(e){return new Promise(function(t,i){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(n){return i(n)},r.src=e})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var e=BROWSER_NAME.ETC,t=navigator.userAgent;return/Chrom(e|ium)/i.test(t)?e=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(t)?e=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(t)?e=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(t)?e=BROWSER_NAME.FIREFOX:(/MSIE/i.test(t)||!!document.documentMode)&&(e=BROWSER_NAME.IE),getBrowserName.cachedResult=e,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(e,t){for(var i=getBrowserName(),r=MAX_CANVAS_SIZE[i],n=e,a=t,l=n*a,s=n>a?a/n:n/a;l>r*r;){var f=(r+n)/2,c=(r+a)/2;f<c?(a=c,n=c*s):(a=f*s,n=f),l=n*a}return{width:n,height:a}}function getNewCanvasAndCtx(e,t){var i,r;try{if((r=(i=new OffscreenCanvas(e,t)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=(i=document.createElement("canvas")).getContext("2d")}return i.width=e,i.height=t,[i,r]}function drawImageInCanvas(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=approximateBelowMaximumCanvasSizeOfBrowser(e.width,e.height),r=i.width,n=i.height,a=getNewCanvasAndCtx(r,n),l=_slicedToArray(a,2),s=l[0],f=l[1];return t&&/jpe?g/.test(t)&&(f.fillStyle="white",f.fillRect(0,0,s.width,s.height)),f.drawImage(e,0,0,s.width,s.height),s}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,r){var n,a,l=function(){try{return a=drawImageInCanvas(n,t.fileType||e.type),i([n,a])}catch(c){return r(c)}},s=function(c){try{var h=function(d){try{throw d}catch(u){return r(u)}};try{return getDataUrlFromFile(e).then(function(g){try{return loadImage(g).then(function(d){try{return n=d,function(){try{return l()}catch(m){return r(m)}}()}catch(u){return h(u)}},h)}catch(d){return h(d)}},h)}catch(g){h(g)}}catch(g){return r(g)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(f){try{return n=f,l()}catch{return s()}},s)}catch{s()}})}function canvasToFile(e,t,i,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(a,l){var s,f,c;if(t==="image/png")return f=e.getContext("2d").getImageData(0,0,e.width,e.height).data,c=UPNG.encode([f],e.width,e.height,256*n),(s=new Blob([c],{type:t})).name=i,s.lastModified=r,h.call(this);{let g=function(){return h.call(this)};return typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:n}).then(function(d){try{return(s=d).name=i,s.lastModified=r,g.call(this)}catch(u){return l(u)}}.bind(this),l):getFilefromDataUrl(e.toDataURL(t,n),i,r).then(function(d){try{return s=d,g.call(this)}catch(u){return l(u)}}.bind(this),l)}function h(){return a(s)}})}function cleanupCanvasMemory(e){e.width=0,e.height=0}function isAutoOrientationInBrowser(){return new Promise(function(e,t){var i,r,n,a;return isAutoOrientationInBrowser.cachedResult!==void 0?e(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return drawFileInCanvas(i=l).then(function(s){try{return canvasToFile(r=s[1],i.type,i.name,i.lastModified).then(function(f){try{return n=f,cleanupCanvasMemory(r),drawFileInCanvas(n).then(function(c){try{return a=c[0],isAutoOrientationInBrowser.cachedResult=a.width===1&&a.height===2,e(isAutoOrientationInBrowser.cachedResult)}catch(h){return t(h)}},t)}catch(c){return t(c)}},t)}catch(f){return t(f)}},t)}catch(s){return t(s)}},t)})}function getExifOrientation(e){return new Promise(function(t,i){var r=new CustomFileReader;r.onload=function(n){var a=new DataView(n.target.result);if(a.getUint16(0,!1)!=65496)return t(-2);for(var l=a.byteLength,s=2;s<l;){if(a.getUint16(s+2,!1)<=8)return t(-1);var f=a.getUint16(s,!1);if(s+=2,f==65505){if(a.getUint32(s+=2,!1)!=1165519206)return t(-1);var c=a.getUint16(s+=6,!1)==18761;s+=a.getUint32(s+4,c);var h=a.getUint16(s,c);s+=2;for(var g=0;g<h;g++)if(a.getUint16(s+12*g,c)==274)return t(a.getUint16(s+12*g+8,c))}else{if((65280&f)!=65280)break;s+=a.getUint16(s,!1)}}return t(-1)},r.onerror=function(n){return i(n)},r.readAsArrayBuffer(e)})}function handleMaxWidthOrHeight(e,t){var i,r=e.width,n=e.height,a=t.maxWidthOrHeight,l=e;if(isFinite(a)&&(r>a||n>a)){var s=_slicedToArray(getNewCanvasAndCtx(r,n),2);l=s[0],i=s[1],r>n?(l.width=a,l.height=n/r*a):(l.width=r/n*a,l.height=a),i.drawImage(e,0,0,l.width,l.height),cleanupCanvasMemory(e)}return l}function followExifOrientation(e,t){var i=e.width,r=e.height,n=_slicedToArray(getNewCanvasAndCtx(i,r),2),a=n[0],l=n[1];switch(t>4&&t<9?(a.width=r,a.height=i):(a.width=i,a.height=r),t){case 2:l.transform(-1,0,0,1,i,0);break;case 3:l.transform(-1,0,0,-1,i,r);break;case 4:l.transform(1,0,0,-1,0,r);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,r,0);break;case 7:l.transform(0,-1,-1,0,r,i);break;case 8:l.transform(0,-1,1,0,0,i)}return l.drawImage(e,0,0,i,r),cleanupCanvasMemory(e),a}function compress(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(r,n){var a,l,s,f,c,h,g,d,u,m,w,b,y,E,_,A,C,U,k;function P(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;a+=I,t.onProgress(Math.min(a,100))}function F(I){if(t.signal&&t.signal.aborted)throw t.signal.reason;a=Math.min(Math.max(I,a),100),t.onProgress(a)}return a=i,l=t.maxIteration||10,s=1024*t.maxSizeMB*1024,P(),drawFileInCanvas(e,t).then(function(I){try{var O=_slicedToArray(I,2);return f=O[1],P(),c=handleMaxWidthOrHeight(f,t),P(),new Promise(function(R,G){var M;if(!(M=t.exifOrientation))return getExifOrientation(e).then(function(x){try{return M=x,S.call(this)}catch(Z){return G(Z)}}.bind(this),G);function S(){return R(M)}return S.call(this)}).then(function(R){try{return h=R,P(),isAutoOrientationInBrowser().then(function(G){try{return g=G?c:followExifOrientation(c,h),P(),d=t.initialQuality||1,u=t.fileType||e.type,canvasToFile(g,u,e.name,e.lastModified,d).then(function(M){try{{let x=function(){if(l--&&(_>s||_>y)){var z,T,D=_slicedToArray(getNewCanvasAndCtx(z=k?.95*U.width:U.width,T=k?.95*U.height:U.height),2);return C=D[0],D[1].drawImage(U,0,0,z,T),d*=.95,canvasToFile(C,u,e.name,e.lastModified,d).then(function(Y){try{return A=Y,cleanupCanvasMemory(U),U=C,_=A.size,F(Math.min(99,Math.floor((E-_)/(E-s)*100))),x}catch(Q){return n(Q)}},n)}return[1]},Z=function(){return cleanupCanvasMemory(U),cleanupCanvasMemory(C),cleanupCanvasMemory(c),cleanupCanvasMemory(g),cleanupCanvasMemory(f),F(100),r(A)};if(m=M,P(),w=m.size>s,b=m.size>e.size,!w&&!b)return F(100),r(m);var S;return y=e.size,E=m.size,_=E,U=g,k=!t.alwaysKeepResolution&&w,(S=function(z){for(;z;){if(z.then)return void z.then(S,n);try{if(z.pop){if(z.length)return z.pop()?Z.call(this):z;z=x}else z=z.call(this)}catch(T){return n(T)}}}.bind(this))(x)}}catch(x){return n(x)}}.bind(this),n)}catch(M){return n(M)}}.bind(this),n)}catch(G){return n(G)}}.bind(this),n)}catch(R){return n(R)}}.bind(this),n)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(e){var t=[];return typeof e=="function"?t.push("(".concat(e,")()")):t.push(e),new Worker(URL.createObjectURL(new Blob(t)))}function createSourceObject(e){return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}function stringify(e){return JSON.stringify(e,function(t,i){return typeof i=="function"?"BIC_FN:::(function () { return ".concat(i.toString()," })()"):i})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(e){throw e}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(e,t){return new Promise(function(i,r){var n=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function a(l){if(l.data.id===n){if(t.signal&&t.signal.aborted)return;if(l.data.progress!==void 0)return void t.onProgress(l.data.progress);worker.removeEventListener("message",a),l.data.error&&r(new Error(l.data.error)),i(l.data.file)}}),worker.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",function(){worker.terminate(),r(t.signal.reason)}),worker.postMessage({file:e,id:n,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},t),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(e,t){return new Promise(function(i,r){var n,a,l,s,f,c;if(n=_objectSpread2({},t),l=0,s=n.onProgress,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=function(u){l=u,typeof s=="function"&&s(l)},!(e instanceof Blob||e instanceof CustomFile))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||c)return compress(e,n).then(function(u){try{return a=u,d.call(this)}catch(m){return r(m)}}.bind(this),r);var h=function(){try{return d.call(this)}catch(u){return r(u)}}.bind(this),g=function(m){try{return compress(e,n).then(function(w){try{return a=w,h()}catch(b){return r(b)}},r)}catch(w){return r(w)}};try{return compressOnWebWorker(e,n).then(function(u){try{return a=u,h()}catch{return g()}},g)}catch{g()}function d(){try{a.name=e.name,a.lastModified=e.lastModified}catch{}return i(a)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";function isImageQualityAboveFullHD(e){return new Promise((t,i)=>{const r=new Image;r.src=e,r.onload=()=>t(r.width>1920||r.height>1920),r.onerror=n=>i(n)})}const ALLOWED_EXTENSIONS=new Set(["jpg","jpeg","png","gif"]);function isValidImage(e){const t=e.slice(e.lastIndexOf(".")+1);return ALLOWED_EXTENSIONS.has(t)}const compressImageOptions=Object.freeze({maxSizeMB:.7,maxWidthOrHeight:1920,useWebWorker:!0});async function createImageDataUrl(e){if(!isValidImage(e.name))throw new Error("Doesn't seem like a valid Image");const t=URL.createObjectURL(e);if(await isImageQualityAboveFullHD(t)){const r=await imageCompression(e,compressImageOptions);return URL.createObjectURL(r)}return t}function create_if_block_1(e){let t,i,r,n,a,l,s;return r=new Exclamation({props:{className:"w-4 h-4"}}),{c(){t=element("div"),i=element("span"),create_component(r.$$.fragment),n=space(),a=element("span"),l=text(e[0]),attr(t,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(f,c){insert(f,t,c),append(t,i),mount_component(r,i,null),append(t,n),append(t,a),append(a,l),s=!0},p(f,c){(!s||c&1)&&set_data(l,f[0])},i(f){s||(transition_in(r.$$.fragment,f),s=!0)},o(f){transition_out(r.$$.fragment,f),s=!1},d(f){f&&detach(t),destroy_component(r)}}}function create_if_block$1(e){let t;return{c(){t=element("div"),t.innerHTML=`<span>Optimizing the image for your browser,</span> 
        <span>Please wait...</span>`,attr(t,"class","absolute w-full h-full flex flex-col items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(i,r){insert(i,t,r)},d(i){i&&detach(t)}}}function create_fragment$2(e){let t,i,r,n,a,l,s,f,c,h,g,d,u,m,w,b,y,E,_,A,C,U;n=new Cloud_upload({props:{className:"w-12 h-12"}});let k=e[0]&&create_if_block_1(e),P=e[1]&&create_if_block$1();return{c(){t=element("form"),i=element("div"),r=element("div"),create_component(n.$$.fragment),a=space(),l=element("div"),l.innerHTML='<p class="text-lg">Drag and Drop</p>',s=space(),f=element("div"),f.innerHTML='<p class="text-sm italic">or</p>',c=space(),h=element("div"),g=element("label"),d=element("span"),d.textContent="Browse Image",u=space(),m=element("input"),b=space(),k&&k.c(),y=space(),P&&P.c(),attr(r,"class","mb-6 flex justify-center"),attr(l,"class","text-center mb-6"),attr(f,"class","text-center mb-8"),attr(m,"type","file"),attr(m,"class","hidden"),attr(m,"id","upload-image"),attr(m,"accept","image/*"),attr(g,"for","upload-image"),attr(g,"class",w=cx("btn cursor-pointer",{"btn-danger-dark":e[0]},{"btn-info-dark":!e[0]})),attr(h,"class","flex justify-center"),attr(i,"class",E=cx("border border-dashed p-6",{"border-red-400":e[0]},{"border-gray-400":!e[0]})),attr(t,"class",_=cx("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":e[0]},{"text-gray-500":!e[0]}))},m(F,I){insert(F,t,I),append(t,i),append(i,r),mount_component(n,r,null),append(i,a),append(i,l),append(i,s),append(i,f),append(i,c),append(i,h),append(h,g),append(g,d),append(g,u),append(g,m),append(i,b),k&&k.m(i,null),append(i,y),P&&P.m(i,null),A=!0,C||(U=[listen(m,"click",e[5]),listen(m,"change",e[2]),listen(t,"dragover",stop_propagation(prevent_default(e[3]))),listen(t,"drop",stop_propagation(prevent_default(e[2])))],C=!0)},p(F,[I]){(!A||I&1&&w!==(w=cx("btn cursor-pointer",{"btn-danger-dark":F[0]},{"btn-info-dark":!F[0]})))&&attr(g,"class",w),F[0]?k?(k.p(F,I),I&1&&transition_in(k,1)):(k=create_if_block_1(F),k.c(),transition_in(k,1),k.m(i,y)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),F[1]?P||(P=create_if_block$1(),P.c(),P.m(i,null)):P&&(P.d(1),P=null),(!A||I&1&&E!==(E=cx("border border-dashed p-6",{"border-red-400":F[0]},{"border-gray-400":!F[0]})))&&attr(i,"class",E),(!A||I&1&&_!==(_=cx("p-3 border shadow-md max-w-72 md:w-1/2 bg-white border-gray-300 relative mx-auto",{"text-red-500":F[0]},{"text-gray-500":!F[0]})))&&attr(t,"class",_)},i(F){A||(transition_in(n.$$.fragment,F),transition_in(k),A=!0)},o(F){transition_out(n.$$.fragment,F),transition_out(k),A=!1},d(F){F&&detach(t),destroy_component(n),k&&k.d(),P&&P.d(),C=!1,run_all(U)}}}function instance$1(e,t,i){const r=()=>{};let n=null,a=!1,{onImgChange:l=r}=t;const s=async h=>{const[g]=h.dataTransfer&&h.dataTransfer.files.length?h.dataTransfer.files:h.target.files;try{i(1,a=!0);const d=await createImageDataUrl(g);l(d)}catch(d){i(0,n=d.message)}finally{i(1,a=!1)}h.target.value=""},f=h=>{h.dataTransfer.dropEffect="copy",i(0,n=null)},c=()=>{i(0,n=null)};return e.$$set=h=>{"onImgChange"in h&&i(4,l=h.onImgChange)},[n,a,s,f,l,c]}class ImageForm extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$2,safe_not_equal,{onImgChange:4})}}function create_else_block(e){let t,i,r,n,a;return n=new ImageForm({props:{onImgChange:e[1]}}),{c(){t=element("div"),t.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
      <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,i=space(),r=element("div"),create_component(n.$$.fragment),attr(t,"class","mb-12 text-center")},m(l,s){insert(l,t,s),insert(l,i,s),insert(l,r,s),mount_component(n,r,null),a=!0},p(l,s){const f={};s&1&&(f.onImgChange=l[1]),n.$set(f)},i(l){a||(transition_in(n.$$.fragment,l),a=!0)},o(l){transition_out(n.$$.fragment,l),a=!1},d(l){l&&detach(t),l&&detach(i),l&&detach(r),destroy_component(n)}}}function create_if_block(e){let t,i;return t=new Editor({props:{img:e[0]}}),{c(){create_component(t.$$.fragment)},m(r,n){mount_component(t,r,n),i=!0},p(r,n){const a={};n&1&&(a.img=r[0]),t.$set(a)},i(r){i||(transition_in(t.$$.fragment,r),i=!0)},o(r){transition_out(t.$$.fragment,r),i=!1},d(r){destroy_component(t,r)}}}function create_fragment$1(e){let t,i,r,n;const a=[create_if_block,create_else_block],l=[];function s(f,c){return f[0]?0:1}return i=s(e),r=l[i]=a[i](e),{c(){t=element("div"),r.c()},m(f,c){insert(f,t,c),l[i].m(t,null),n=!0},p(f,[c]){let h=i;i=s(f),i===h?l[i].p(f,c):(group_outros(),transition_out(l[h],1,1,()=>{l[h]=null}),check_outros(),r=l[i],r?r.p(f,c):(r=l[i]=a[i](f),r.c()),transition_in(r,1),r.m(t,null))},i(f){n||(transition_in(r),n=!0)},o(f){transition_out(r),n=!1},d(f){f&&detach(t),l[i].d()}}}function instance(e,t,i){let r=null;return[r,a=>{i(0,r=a)}]}class Home extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment$1,safe_not_equal,{})}}function create_fragment(e){let t,i,r,n,a,l,s;return r=new Header({}),l=new Home({}),{c(){t=element("main"),i=element("div"),create_component(r.$$.fragment),n=space(),a=element("div"),create_component(l.$$.fragment),attr(a,"class","container mx-auto"),attr(t,"class","px-2")},m(f,c){insert(f,t,c),append(t,i),mount_component(r,i,null),append(t,n),append(t,a),mount_component(l,a,null),s=!0},p:noop,i(f){s||(transition_in(r.$$.fragment,f),transition_in(l.$$.fragment,f),s=!0)},o(f){transition_out(r.$$.fragment,f),transition_out(l.$$.fragment,f),s=!1},d(f){f&&detach(t),destroy_component(r),destroy_component(l)}}}class App extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment,safe_not_equal,{})}}var main=(()=>`.btn{align-items:center;display:flex;gap:.5rem;justify-content:center;min-height:3rem;min-width:6rem;padding:.5rem;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.btn:disabled{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity));border-color:rgb(229 231 235/var(--tw-border-opacity));border-width:1px;color:rgb(156 163 175/var(--tw-text-opacity));cursor:not-allowed}.btn:not(:disabled):not(.loading):hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.btn:not(:disabled):not(.loading):active,.btn:not(:disabled):not(.loading):hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled):not(.loading):active{--tw-scale-x:.95;--tw-scale-y:.95;--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.btn:not(:disabled):not(.loading)[class*=-dark]:hover,.btn:not(:disabled):not(.loading)[class*=-primary]:hover{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);--tw-shadow-color:#4b5563;--tw-shadow:var(--tw-shadow-colored);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled):not(.loading)[class*=-dark]:active,.btn:not(:disabled):not(.loading)[class*=-primary]:active{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.btn:not(:disabled).btn-primary{background-color:rgb(17 24 39/var(--tw-bg-opacity))}.btn:not(:disabled).btn-danger-dark,.btn:not(:disabled).btn-primary{--tw-bg-opacity:1;--tw-text-opacity:1;color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-danger-dark{background-color:rgb(239 68 68/var(--tw-bg-opacity))}.btn:not(:disabled).btn-danger-dark:not(.loading):active{--tw-shadow-color:#991b1b;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-danger-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity));border-color:rgb(254 202 202/var(--tw-border-opacity));border-width:1px;color:rgb(153 27 27/var(--tw-text-opacity))}.btn:not(:disabled).btn-danger-light:not(.loading):active{--tw-shadow-color:#ef4444;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-warn-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-warn-dark:not(.loading):active{--tw-shadow-color:#854d0e;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-warn-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(254 249 195/var(--tw-bg-opacity));border-color:rgb(254 240 138/var(--tw-border-opacity));border-width:1px;color:rgb(133 77 14/var(--tw-text-opacity))}.btn:not(:disabled).btn-warn-light:not(.loading):active{--tw-shadow-color:#eab308;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-success-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(34 197 94/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-success-dark:not(.loading):active{--tw-shadow-color:#166534;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-success-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(220 252 231/var(--tw-bg-opacity));border-color:rgb(187 247 208/var(--tw-border-opacity));border-width:1px;color:rgb(22 101 52/var(--tw-text-opacity))}.btn:not(:disabled).btn-success-light:not(.loading):active{--tw-shadow-color:#22c55e;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-info-dark{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity));color:rgb(248 250 252/var(--tw-text-opacity))}.btn:not(:disabled).btn-info-dark:not(.loading):active{--tw-shadow-color:#1e40af;--tw-shadow:var(--tw-shadow-colored)}.btn:not(:disabled).btn-info-light{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity));border-color:rgb(191 219 254/var(--tw-border-opacity));border-width:1px;color:rgb(30 64 175/var(--tw-text-opacity))}.btn:not(:disabled).btn-info-light:not(.loading):active{--tw-shadow-color:#3b82f6;--tw-shadow:var(--tw-shadow-colored)}.btn.loading{cursor:wait;opacity:.5}.btn.circle{border-radius:9999px;min-height:0;min-width:0}.btn.circle,.logo{height:3rem;width:3rem}.logo{--tw-bg-opacity:1;--tw-text-opacity:1;--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);align-items:center;background-color:rgb(17 24 39/var(--tw-bg-opacity));box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:rgb(248 250 252/var(--tw-text-opacity));cursor:pointer;display:flex;font-size:1.5rem;justify-content:center;line-height:2rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}.logo>span{transition-duration:.3s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.logo:hover>span{--tw-scale-x:1.5;--tw-scale-y:1.5}.logo:active>span,.logo:hover>span{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.logo:active>span{--tw-scale-x:.75;--tw-scale-y:.75}.h-\\[3rem\\]{height:3rem}.min-h-\\[3rem\\]{min-height:3rem}.min-h-0{min-height:0}.w-\\[3rem\\]{width:3rem}.min-w-\\[6rem\\]{min-width:6rem}.min-w-0{min-width:0}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.gap-2{gap:.5rem}.gap-5{gap:1.25rem}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8/var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195/var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94/var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231/var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity))}.p-2{padding:.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27/var(--tw-text-opacity))}.text-yellow-800{--tw-text-opacity:1;color:rgb(133 77 14/var(--tw-text-opacity))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52/var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity))}.text-slate-50{--tw-text-opacity:1;color:rgb(248 250 252/var(--tw-text-opacity))}.opacity-50{opacity:.5}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.hover\\:shadow-md:hover,.hover\\:shadow-sm:hover{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:shadow-sm:hover{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.hover\\:shadow-gray-600:hover{--tw-shadow-color:#4b5563;--tw-shadow:var(--tw-shadow-colored)}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.photon-logo{--tw-bg-opacity:1;--tw-text-opacity:1;--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);align-items:center;background-color:rgb(17 24 39/var(--tw-bg-opacity));box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:rgb(248 250 252/var(--tw-text-opacity));cursor:pointer;display:flex;font-size:1.5rem;height:3rem;justify-content:center;line-height:2rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:3rem}.photon-logo>span{transition-duration:.3s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.photon-logo:hover>span{--tw-scale-x:1.5;--tw-scale-y:1.5}.photon-logo:active>span,.photon-logo:hover>span{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.photon-logo:active>span{--tw-scale-x:.75;--tw-scale-y:.75}.absolute{position:absolute}.relative{position:relative}.top-0{top:0}.left-0{left:0}.mx-auto{margin-left:auto;margin-right:auto}.mb-4{margin-bottom:1rem}.mb-12{margin-bottom:3rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-2{margin-top:.5rem}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-auto{height:auto}.h-24{height:6rem}.h-12{height:3rem}.h-4{height:1rem}.h-full{height:100%}.max-h-\\[100\\%\\]{max-height:100%}.w-full{width:100%}.w-12{width:3rem}.w-4{width:1rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.gap-1{gap:.25rem}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.border-0{border-width:0}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-red-400{--tw-border-opacity:1;border-color:rgb(248 113 113/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.border-b-black{--tw-border-opacity:1;border-bottom-color:rgb(0 0 0/var(--tw-border-opacity))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-90{--tw-bg-opacity:.9}.p-3{padding:.75rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.pb-1{padding-bottom:.25rem}.text-center{text-align:center}.text-xs{font-size:.75rem;line-height:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.uppercase{text-transform:uppercase}.italic{font-style:italic}.text-sky-600{--tw-text-opacity:1;color:rgb(2 132 199/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.outline-none{outline:2px solid transparent;outline-offset:2px}.blur{--tw-blur:blur(8px)}.blur,.drop-shadow{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow:drop-shadow(0 1px 2px rgba(0,0,0,.1)) drop-shadow(0 1px 1px rgba(0,0,0,.06))}.grayscale{--tw-grayscale:grayscale(100%)}.grayscale,.invert{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert:invert(100%)}.sepia{--tw-sepia:sepia(100%)}.filter,.sepia{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}body,html{font-family:Ubuntu,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.hover\\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}@media (min-width:768px){.md\\:w-1\\/2{width:50%}.md\\:text-base{font-size:1rem;line-height:1.5rem}}
`)();new App({target:document.getElementById("app")});export{__vite_legacy_guard};
