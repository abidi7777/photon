import{S as F,i as E,s as M,a as O,b as n,c as C,d as w,n as S,e as N,f as u,g as j,h as L,m as I,l as H,j as at,k as A,t as x,o as B,p as h,q as U,r as tt,u as ot,v as et,w as z,R as nt,x as it,y as st,z as lt,A as ct,B as W,C as q,D as dt,E as wt,F as pt,G as X,H as Z}from"./vendor.227126eb.js";function oe(){import("data:text/javascript,")}const gt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=e(a);fetch(a.href,i)}};gt();function ut(o){let t,e;return{c(){t=O("svg"),e=O("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M6 18L18 6M6 6l12 12"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){C(r,t,a),w(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&N(t)}}}function bt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class ft extends F{constructor(t){super(),E(this,t,bt,ut,M,{className:0})}}function mt(o){let t,e;return{c(){t=O("svg"),e=O("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){C(r,t,a),w(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&N(t)}}}function ht(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class vt extends F{constructor(t){super(),E(this,t,ht,mt,M,{className:0})}}function xt(o){let t,e;return{c(){t=O("svg"),e=O("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){C(r,t,a),w(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&N(t)}}}function yt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class kt extends F{constructor(t){super(),E(this,t,yt,xt,M,{className:0})}}function _t(o){let t,e;return{c(){t=O("svg"),e=O("path"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"class",o[0]),n(t,"fill","none"),n(t,"viewBox","0 0 24 24"),n(t,"stroke","currentColor"),n(t,"stroke-width","2")},m(r,a){C(r,t,a),w(t,e)},p(r,[a]){a&1&&n(t,"class",r[0])},i:S,o:S,d(r){r&&N(t)}}}function $t(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class Ct extends F{constructor(t){super(),E(this,t,$t,_t,M,{className:0})}}function Nt(o){let t,e,r;return{c(){t=O("svg"),e=O("path"),r=O("path"),n(e,"opacity","0.2"),n(e,"fill-rule","evenodd"),n(e,"clip-rule","evenodd"),n(e,"d","M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"),n(e,"fill","currentColor"),n(r,"d","M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z"),n(r,"fill","currentColor"),n(t,"class",o[0]),n(t,"stroke","currentColor"),n(t,"fill","none"),n(t,"stroke-width","0"),n(t,"viewBox","0 0 24 24"),n(t,"height","1em"),n(t,"width","1em"),n(t,"xmlns","http://www.w3.org/2000/svg")},m(a,i){C(a,t,i),w(t,e),w(t,r)},p(a,[i]){i&1&&n(t,"class",a[0])},i:S,o:S,d(a){a&&N(t)}}}function zt(o,t,e){let{className:r}=t;return o.$$set=a=>{"className"in a&&e(0,r=a.className)},[r]}class St extends F{constructor(t){super(),E(this,t,zt,Nt,M,{className:0})}}const Y=()=>{};function jt(o){let t,e;return t=new ft({props:{className:"w-4 h-4"}}),{c(){L(t.$$.fragment)},m(r,a){I(t,r,a),e=!0},i(r){e||(h(t.$$.fragment,r),e=!0)},o(r){x(t.$$.fragment,r),e=!1},d(r){U(t,r)}}}function Lt(o){let t;return{c(){t=u("span"),t.textContent="Sure?",n(t,"class","text-xs")},m(e,r){C(e,t,r)},i:S,o:S,d(e){e&&N(t)}}}function It(o){let t,e,r,a,i,l,c,d,s,b,p,g;const m=[Lt,jt],f=[];function v(y,R){return y[1]?0:1}return a=v(o),i=f[a]=m[a](o),s=new vt({props:{className:"w-4 h-4"}}),{c(){t=u("ul"),e=u("li"),r=u("button"),i.c(),l=j(),c=u("li"),d=u("button"),L(s.$$.fragment),n(r,"type","button"),n(r,"class","btn circle btn-danger-dark text-slate-50 rounded-full min-w-0 min-h-0 w-auto h-auto"),n(d,"type","button"),n(d,"class","btn circle btn-primary text-slate-50 rounded-full min-w-0 min-h-0"),n(t,"class","flex gap-3 justify-center")},m(y,R){C(y,t,R),w(t,e),w(e,r),f[a].m(r,null),w(t,l),w(t,c),w(c,d),I(s,d,null),b=!0,p||(g=[H(r,"click",o[2]),H(d,"click",function(){at(o[0])&&o[0].apply(this,arguments)})],p=!0)},p(y,[R]){o=y;let V=a;a=v(o),a!==V&&(A(),x(f[V],1,1,()=>{f[V]=null}),B(),i=f[a],i||(i=f[a]=m[a](o),i.c()),h(i,1),i.m(r,null))},i(y){b||(h(i),h(s.$$.fragment,y),b=!0)},o(y){x(i),x(s.$$.fragment,y),b=!1},d(y){y&&N(t),f[a].d(),U(s),p=!1,tt(g)}}}function Ut(o,t,e){const r=ot();let a=!1,{onDownload:i=Y}=t;const l=()=>{if(!a){e(1,a=!0);return}r("close"),e(1,a=!1)};return o.$$set=c=>{"onDownload"in c&&e(0,i=c.onDownload)},[i,a,l]}class Ft extends F{constructor(t){super(),E(this,t,Ut,It,M,{onDownload:0})}}const rt={blur:{attr:"blur",displayName:"Blur",type:"range",min:0,max:30,defaultValue:0,unit:"px",displayUnit:"px"},brightness:{attr:"brightness",displayName:"Brightness",type:"range",min:0,max:400,defaultValue:100,unit:"%",displayUnit:"%"},contrast:{attr:"contrast",displayName:"Contrast",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},grayscale:{attr:"grayscale",displayName:"Grayscale",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"},"hue-rotate":{attr:"hue-rotate",displayName:"Hue",type:"range",min:0,max:360,defaultValue:0,unit:"deg",displayUnit:"\xB0"},invert:{attr:"invert",displayName:"Invert",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"},opacity:{attr:"opacity",displayName:"Opacity",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},saturate:{attr:"saturate",displayName:"Saturate",type:"range",min:0,max:100,defaultValue:100,unit:"%",displayUnit:"%"},sepia:{attr:"sepia",displayName:"Sepia",type:"range",min:0,max:100,defaultValue:0,unit:"%",displayUnit:"%"}},T=Object.values(rt),Et=o=>Object.keys(o).reduce((t,e)=>{var r;return`${t} ${e}(${o[e]}${(r=rt[e])==null?void 0:r.unit})`},"");function G(o,t,e){const r=o.slice();return r[8]=t[e],r}function K(o){let t,e,r=o[8].displayName+"",a,i,l,c;function d(){return o[5](o[8])}return{c(){t=u("li"),e=u("button"),a=et(r),i=j(),n(e,"type","button"),n(e,"class","btn circle w-20"),z(e,"bg-gray-300",o[0].attr!==o[8].attr),z(e,"btn-info-light",o[0].attr===o[8].attr)},m(s,b){C(s,t,b),w(t,e),w(e,a),w(t,i),l||(c=H(e,"click",d),l=!0)},p(s,b){o=s,b&1&&z(e,"bg-gray-300",o[0].attr!==o[8].attr),b&1&&z(e,"btn-info-light",o[0].attr===o[8].attr)},d(s){s&&N(t),l=!1,c()}}}function Mt(o){let t,e,r,a,i,l,c,d=T,s=[];for(let g=0;g<d.length;g+=1)s[g]=K(G(o,d,g));function b(g){o[7](g)}let p={id:"color-pips",min:o[0].min,max:o[0].max,range:"min",float:!0,formatter:o[6]};return o[1]!==void 0&&(p.values=o[1]),i=new nt({props:p}),it.push(()=>st(i,"values",b)),{c(){t=u("div"),e=u("ul");for(let g=0;g<s.length;g+=1)s[g].c();r=j(),a=u("div"),L(i.$$.fragment),n(e,"class","px-2 inline-flex justify-start mx-auto items-center text-xs uppercase max-w-full h-12 gap-8 overflow-auto shrink-0 hide-scrollbar"),n(a,"class","max-w-md mx-auto flex-1 w-full text-xs"),n(t,"class","flex flex-col")},m(g,m){C(g,t,m),w(t,e);for(let f=0;f<s.length;f+=1)s[f].m(e,null);w(t,r),w(t,a),I(i,a,null),c=!0},p(g,[m]){if(m&5){d=T;let v;for(v=0;v<d.length;v+=1){const y=G(g,d,v);s[v]?s[v].p(y,m):(s[v]=K(y),s[v].c(),s[v].m(e,null))}for(;v<s.length;v+=1)s[v].d(1);s.length=d.length}const f={};m&1&&(f.min=g[0].min),m&1&&(f.max=g[0].max),m&1&&(f.formatter=g[6]),!l&&m&2&&(l=!0,f.values=g[1],lt(()=>l=!1)),i.$set(f)},i(g){c||(h(i.$$.fragment,g),c=!0)},o(g){x(i.$$.fragment,g),c=!1},d(g){g&&N(t),ct(s,g),U(i)}}}function Dt(o,t,e){const r={};let[a]=T,i=[a.defaultValue],{onFilterChange:l=Y}=t;const c=p=>{e(0,a=p),e(1,i=[Object.prototype.hasOwnProperty.call(r,a.attr)?r[a.attr]:a.defaultValue])},d=p=>c(p),s=p=>`${p}${a.displayUnit}`;function b(p){i=p,e(1,i)}return o.$$set=p=>{"onFilterChange"in p&&e(3,l=p.onFilterChange)},o.$$.update=()=>{if(o.$$.dirty&27){const[p]=i;e(4,r[a.attr]=p,r),l(Et(r))}},[a,i,c,l,r,d,s,b]}class Ot extends F{constructor(t){super(),E(this,t,Dt,Mt,M,{onFilterChange:3})}}function Rt(o){let t,e,r,a,i,l,c,d,s,b,p,g;return r=new Ot({props:{onFilterChange:o[2]}}),p=new Ft({}),p.$on("close",o[3]),{c(){t=u("div"),e=u("div"),L(r.$$.fragment),a=j(),i=u("div"),l=u("div"),c=u("img"),s=j(),b=u("div"),L(p.$$.fragment),W(c.src,d=o[0])||n(c,"src",d),n(c,"alt","ready for editing"),n(c,"class","h-auto max-h-[100%] mx-auto svelte-ha8d0r"),q(c,"--filter",o[1],!1),n(l,"class","h-auto landscape:h-full md:h-full max-h-[100%] mx-auto overflow-hidden flex items-center justify-center"),n(b,"class","absolute bottom-4 right-0 left-0 mx-auto z-10"),n(i,"class","overflow-hidden flex-1 flex flex-col items-center justify-center pb-2 relative"),n(t,"class","h-screen flex flex-col")},m(m,f){C(m,t,f),w(t,e),I(r,e,null),w(t,a),w(t,i),w(i,l),w(l,c),w(i,s),w(i,b),I(p,b,null),g=!0},p(m,[f]){const v={};f&2&&(v.onFilterChange=m[2]),r.$set(v),(!g||f&1&&!W(c.src,d=m[0]))&&n(c,"src",d),f&2&&q(c,"--filter",m[1],!1)},i(m){g||(h(r.$$.fragment,m),h(p.$$.fragment,m),g=!0)},o(m){x(r.$$.fragment,m),x(p.$$.fragment,m),g=!1},d(m){m&&N(t),U(r),U(p)}}}function Vt(o,t,e){let r="",{img:a=""}=t;const i=c=>{e(1,r=c)};function l(c){dt.call(this,o,c)}return o.$$set=c=>{"img"in c&&e(0,a=c.img)},[a,r,i,l]}class Ht extends F{constructor(t){super(),E(this,t,Vt,Rt,M,{img:0})}}function At(o){let t;return{c(){t=u("div"),t.innerHTML='<button type="button" class="logo btn btn-primary"><span>P</span></button>',n(t,"class","py-4 w-full container mx-auto")},m(e,r){C(e,t,r)},p:S,i:S,o:S,d(e){e&&N(t)}}}class Bt extends F{constructor(t){super(),E(this,t,null,At,M,{})}}const Tt=Object.freeze({maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0}),Yt=new Set(["jpg","jpeg","png","gif"]),Pt=o=>new Promise((t,e)=>{const r=new Image;r.src=o,r.onload=()=>t(r.width>1920||r.height>1920),r.onerror=a=>e(a)}),Wt=o=>{const t=o.slice(o.lastIndexOf(".")+1);return Yt.has(t)},qt=async o=>{if(!Wt(o.name))throw new Error("Doesn't seem like a valid Image");const t=URL.createObjectURL(o);if(await Pt(t)){const r=await wt(o,Tt);return URL.createObjectURL(r)}return t};function Q(o){let t,e,r,a,i,l,c;return r=new Ct({props:{className:"w-4 h-4"}}),{c(){t=u("div"),e=u("span"),L(r.$$.fragment),a=j(),i=u("span"),l=et(o[0]),n(t,"class","text-red-500 text-xs italic flex justify-center items-center gap-1 mt-2")},m(d,s){C(d,t,s),w(t,e),I(r,e,null),w(t,a),w(t,i),w(i,l),c=!0},p(d,s){(!c||s&1)&&pt(l,d[0])},i(d){c||(h(r.$$.fragment,d),c=!0)},o(d){x(r.$$.fragment,d),c=!1},d(d){d&&N(t),U(r)}}}function J(o){let t,e,r,a,i;return a=new St({props:{className:"animate-spin"}}),{c(){t=u("div"),e=u("span"),e.textContent="Optimizing",r=j(),L(a.$$.fragment),n(t,"class","absolute w-full h-full flex gap-2 items-center justify-center bg-slate-50 bg-opacity-90 top-0 left-0 text-sm md:text-base")},m(l,c){C(l,t,c),w(t,e),w(t,r),I(a,t,null),i=!0},i(l){i||(h(a.$$.fragment,l),i=!0)},o(l){x(a.$$.fragment,l),i=!1},d(l){l&&N(t),U(a)}}}function Xt(o){let t,e,r,a,i,l,c,d,s,b,p,g,m,f,v,y,R,V,P;a=new kt({props:{className:"w-12 h-12"}});let k=o[0]&&Q(o),$=o[1]&&J();return{c(){t=u("form"),e=u("div"),r=u("div"),L(a.$$.fragment),i=j(),l=u("div"),l.innerHTML='<p class="text-lg">Drag and Drop</p>',c=j(),d=u("div"),d.innerHTML='<p class="text-sm italic">or</p>',s=j(),b=u("div"),p=u("label"),g=u("span"),g.textContent="Browse Image",m=j(),f=u("input"),v=j(),k&&k.c(),y=j(),$&&$.c(),n(r,"class","mb-6 flex justify-center"),n(l,"class","text-center mb-6"),n(d,"class","text-center mb-8"),n(f,"type","file"),n(f,"class","hidden"),n(f,"id","upload-image"),n(f,"accept","image/*"),n(p,"for","upload-image"),n(p,"class","btn cursor-pointer"),z(p,"btn-danger-dark",o[0]!==null),z(p,"btn-info-dark",o[0]===null),n(b,"class","flex justify-center"),n(e,"class","border border-dashed p-6"),z(e,"border-red-400",o[0]!==null),z(e,"border-gray-400",o[0]===null),n(t,"class","p-3 border shadow-md max-w-xs bg-white border-gray-300 relative mx-auto"),z(t,"text-red-500",o[0]!==null),z(t,"text-gray-500",o[0]===null)},m(_,D){C(_,t,D),w(t,e),w(e,r),I(a,r,null),w(e,i),w(e,l),w(e,c),w(e,d),w(e,s),w(e,b),w(b,p),w(p,g),w(p,m),w(p,f),w(e,v),k&&k.m(e,null),w(e,y),$&&$.m(e,null),R=!0,V||(P=[H(f,"click",o[5]),H(f,"change",o[2]),H(t,"dragover",X(Z(o[3]))),H(t,"drop",X(Z(o[2])))],V=!0)},p(_,[D]){D&1&&z(p,"btn-danger-dark",_[0]!==null),D&1&&z(p,"btn-info-dark",_[0]===null),_[0]?k?(k.p(_,D),D&1&&h(k,1)):(k=Q(_),k.c(),h(k,1),k.m(e,y)):k&&(A(),x(k,1,1,()=>{k=null}),B()),_[1]?$?D&2&&h($,1):($=J(),$.c(),h($,1),$.m(e,null)):$&&(A(),x($,1,1,()=>{$=null}),B()),D&1&&z(e,"border-red-400",_[0]!==null),D&1&&z(e,"border-gray-400",_[0]===null),D&1&&z(t,"text-red-500",_[0]!==null),D&1&&z(t,"text-gray-500",_[0]===null)},i(_){R||(h(a.$$.fragment,_),h(k),h($),R=!0)},o(_){x(a.$$.fragment,_),x(k),x($),R=!1},d(_){_&&N(t),U(a),k&&k.d(),$&&$.d(),V=!1,tt(P)}}}function Zt(o,t,e){let r=null,a=!1,{onImgChange:i=Y}=t;const l=async s=>{const[b]=s.dataTransfer&&s.dataTransfer.files.length?s.dataTransfer.files:s.target.files;try{e(1,a=!0);const p=await qt(b);i(p)}catch(p){e(0,r=p.message)}finally{e(1,a=!1)}s.target.value=""},c=s=>{s.dataTransfer.dropEffect="copy",e(0,r=null)},d=()=>{e(0,r=null)};return o.$$set=s=>{"onImgChange"in s&&e(4,i=s.onImgChange)},[r,a,l,c,i,d]}class Gt extends F{constructor(t){super(),E(this,t,Zt,Xt,M,{onImgChange:4})}}function Kt(o){let t,e,r,a,i,l,c,d;return e=new Bt({}),c=new Gt({props:{onImgChange:o[2]}}),{c(){t=u("div"),L(e.$$.fragment),r=j(),a=u("div"),a.innerHTML=`<p class="text-xl mb-4">A simple Web based Photo editor.</p> 
        <p>For now it supports the following <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" class="text-sky-600 hover:underline">CSS Filters</a>.</p>`,i=j(),l=u("div"),L(c.$$.fragment),n(a,"class","mb-12 text-center"),n(t,"class","p-2")},m(s,b){C(s,t,b),I(e,t,null),w(t,r),w(t,a),w(t,i),w(t,l),I(c,l,null),d=!0},p(s,b){const p={};b&1&&(p.onImgChange=s[2]),c.$set(p)},i(s){d||(h(e.$$.fragment,s),h(c.$$.fragment,s),d=!0)},o(s){x(e.$$.fragment,s),x(c.$$.fragment,s),d=!1},d(s){s&&N(t),U(e),U(c)}}}function Qt(o){let t,e;return t=new Ht({props:{img:o[0]}}),t.$on("close",o[1]),{c(){L(t.$$.fragment)},m(r,a){I(t,r,a),e=!0},p(r,a){const i={};a&1&&(i.img=r[0]),t.$set(i)},i(r){e||(h(t.$$.fragment,r),e=!0)},o(r){x(t.$$.fragment,r),e=!1},d(r){U(t,r)}}}function Jt(o){let t,e,r,a;const i=[Qt,Kt],l=[];function c(d,s){return d[0]?0:1}return e=c(o),r=l[e]=i[e](o),{c(){t=u("div"),r.c()},m(d,s){C(d,t,s),l[e].m(t,null),a=!0},p(d,[s]){let b=e;e=c(d),e===b?l[e].p(d,s):(A(),x(l[b],1,1,()=>{l[b]=null}),B(),r=l[e],r?r.p(d,s):(r=l[e]=i[e](d),r.c()),h(r,1),r.m(t,null))},i(d){a||(h(r),a=!0)},o(d){x(r),a=!1},d(d){d&&N(t),l[e].d()}}}function te(o,t,e){let r=null;return[r,()=>{e(0,r=null)},l=>{e(0,r=l)}]}class ee extends F{constructor(t){super(),E(this,t,te,Jt,M,{})}}function re(o){let t,e,r,a;return r=new ee({}),{c(){t=u("main"),e=u("div"),L(r.$$.fragment),n(e,"class","container mx-auto")},m(i,l){C(i,t,l),w(t,e),I(r,e,null),a=!0},p:S,i(i){a||(h(r.$$.fragment,i),a=!0)},o(i){x(r.$$.fragment,i),a=!1},d(i){i&&N(t),U(r)}}}class ae extends F{constructor(t){super(),E(this,t,null,re,M,{})}}new ae({target:document.getElementById("app")});export{oe as __vite_legacy_guard};
